function lattices = load_and_save_rings()

base_folder = '/home/fac_files/data/sirius/si/beam_dynamics/calcs/';

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
folders     = {...
'v10/c01/study.new.optics/default/run2/',...
'v10/c01/study.new.optics/ids/run2/',...
'v10/c01/study.new.optics/ids/run3/',...
'v10/c01/study.new.optics/ids/run4/',...
'v10/c01/study.new.optics/ids/run5/',...
'v10/c01/study.new.optics/ids/run6/',...
'v10/c01/study.new.lattice/mvsd1jk/',...
'v11/study.new.optics/run2/',...
'v13/c02/study.new.optics/run1/',...
'v13/c02/study.new.optics/run1/',...
'v14/c03/study.new.optics/moga/run1/',...
'v14/c03/study.new.optics/moga/run1/',...
'v14he/c02/study.new.optics/run1/',...
'v14he/c02/study.new.optics/run1/',...
'v14/s05.c00/study.new.lattice/tux49.tuy14.sex14/moga/run2/',...
'v14/s05.c00/study.new.lattice/tux51.tuy14.sex28/moga/run1/',...
'v14/s05.c00/study.new.lattice/tux51.tuy14.sex28/moga/run2/',...
'v16.01/s05.01/study.new.optics/results_from_v15.01_run1/moga/',...
'v16.01/s05.01/study.new.optics/tux49.tuy14/moga/run1/',...
'v16.01/s05.01/study.new.optics/tux49.tuy14/moga/run2/',...
'v16.01/s05.01/study.new.optics/tux49.tuy14/moga/run3/',...
};

subfolders = {...
{'run2-0584/','run2-0868/'},...
{'RUN0001/','RUN0002/','RUN0005/','RUN0063/'},...
{'RUN0259/','RUN0728/','RUN1015/','RUN1486/','RUN1653/','RUN2225/',...
 'RUN0309/','RUN0790/','RUN1281/','RUN1500/','RUN1893/','RUN2364/'},...
{'RUN0001/','RUN0002/','RUN0003/','RUN0004/','RUN0434/','RUN0690/','RUN0789/','RUN1158/'},...
{'RUN0001/','RUN0004/','RUN0002/','RUN0234/'},...
{'RUN0327/','RUN0535/','RUN1389/','RUN1872/','RUN2467/','RUN3970/','RUN0406/','RUN0565/','RUN1576/',...
 'RUN2405/','RUN3065/','RUN0009/','RUN0443/','RUN0792/','RUN1635/','RUN2418/','RUN3943/'},...
{'run-0166/','run-0264/','run-0772/','run-0834/'},...
{'run-0494/','run-0891/','run-1253/','run-2098/','run-0525/','run-1051/','run-2040/','run-2467/'},...
{'RUN1177/','RUN2099/','RUN1212/','RUN0903/','RUN1369/'},...
{'RUN1177/','RUN2099/','RUN1212/','RUN0903/','RUN1369/'},...
{'RUN0557/','RUN1291/','RUN0162/','RUN0598/','RUN1334/',...
 'RUN0408/','RUN1035/','RUN0418/','RUN1042/'},...
{'RUN0557/','RUN1291/','RUN0162/','RUN0598/','RUN1334/',...
 'RUN0408/','RUN1035/','RUN0418/','RUN1042/'},...
{'RUN0785/','RUN0976/','RUN1100/','RUN1174/','RUN1384/'},...
{'RUN0785/','RUN0976/','RUN1100/','RUN1174/','RUN1384/'},...
{'RUN0331/','RUN0491/','RUN0523/'},...
{'RUN0334/','RUN1734/','RUN2362/','RUN2481/'},...
{'RUN0502/','RUN0833/','RUN1263/','RUN1621/','RUN1839/','RUN1892/','RUN1947/','RUN1968/','RUN1999/'},...
{'RUN2053/','RUN2090/','RUN2259/','RUN3044/','RUN3217/','RUN3307/'},...
{'RUN0324/','RUN0440/','RUN0491/','RUN0870/','RUN0894/','RUN1094/','RUN1163/',...
 'RUN1169/','RUN1488/','RUN1581/','RUN1755/','RUN1915/','RUN2087/','RUN2398/'},...
{'RUN0050/','RUN0256/','RUN0329/','RUN0330/','RUN0331/','RUN0662/','RUN0928/','RUN0940/','RUN0966/','RUN1539/'},...
{'RUN0011/','RUN0050/','RUN0063/','RUN0146/','RUN0250/','RUN0366/','RUN0681/','RUN1003/',...
 'RUN1303/','RUN1338/','RUN1640/','RUN1817/','RUN2021/','RUN2124/','RUN2155/','RUN2238/'},...
};

type = {...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup.ids/',...
'multi.cod.tune.coup.ids/',...
'multi.cod.tune.coup.ids/',...
'multi.cod.tune.coup.ids/',...
'multi.cod.tune.coup.ids/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup.ids/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup.ids/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup.ids/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup/',...
'multi.cod.tune.coup/',...
};

symmetry = {...
10,...
1,...
1,...
1,...
1,...
1,...
10,...
10,...
10,...
1,...
10,...
1,...
10,...
1,...
5,...
5,...
5,...
5,...
5,...
5,...
5,...
};

lattices = struct([]);
for i=1:length(folders)
    rings = struct([]);
    for ii=1:length(subfolders{i})
        rings(ii).folder         = [base_folder,folders{i},subfolders{i}{ii},type{i}];
        rings(ii).symmetry       = symmetry{i};
        lat = load([rings(ii).folder,'cod_matlab/CONFIG_the_ring.mat']);
        rings(ii).lattice        = lat.the_ring;
    end
    lattices = [lattices, rings];
end
