<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of spear3init_ref</title>
  <meta name="keywords" content="spear3init_ref">
  <meta name="description" content="Initialize parameters for SPEAR 3 control in MATLAB">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">spear3</a> &gt; spear3init_ref.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for spear3&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>spear3init_ref
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>Initialize parameters for SPEAR 3 control in MATLAB</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function spear3init </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Initialize parameters for SPEAR 3 control in MATLAB

==========================
 Accelerator Family Fields
==========================
 FamilyName            BPMx, HCM, etc
 CommonNames           Shortcut name for each element
 DeviceList            [Sector, Number]
 ElementList           number in list
 Position              m, magnet center

 Monitor Fields
 Mode                  online/manual/special/simulator
 ChannelNames          PV for monitor
 Units                 Physics or HW
 HW2PhysicsFcn         function handle used to convert from hardware to physics units ==&gt; inline will not compile, see below
 HW2PhysicsParams      parameters used for conversion function
 Physics2HWFcn         function handle used to convert from physics to hardware units
 Physics2HWParams      parameters used for conversion function
 HWUnits               units for Hardware 'ampere';           
 PhysicsUnits          units for physics 'Rad';

 Setpoint Fields
 Mode                  online/manual/special/simulator
 ChannelNames          PV for monitor
 Units                 hardware or physics
 HW2PhysicsFcn         function handle used to convert from hardware to physics units
 HW2PhysicsParams      parameters used for conversion function
 Physics2HWFcn         function handle used to convert from physics to hardware units
 Physics2HWParams      parameters used for conversion function
 HWUnits               units for Hardware 'ampere';           
 PhysicsUnits          units for physics 'Rad';
 Range                 minsetpoint, maxsetpoint;
 Tolerance             setpoint-monitor
 
=============================================  
 Accelerator Toolbox Simulation Fields
=============================================
 ATType                Quad, Sext, etc
 ATIndex               index in THERING
 ATParameterGroup      parameter group

============  
 Family List
============
    BPMx
    BPMy
    HCM
    VCM
    SkewQuad
    BEND
    BDM
    QDX
    QFX
    QDY
    QFY
    QDZ
    QFZ
    QF
    QD
    QFC
    SF
    SD
    SFM
    SDM
    Kickers
    RF
    DCCT
    Septum
    Machine Parameters
    BLOpen
    BLErr
    BLSum
    Mains
    Shunt Current
    Shunt Relay
 MATCH    (7 BPM):    BPM-QDX-HVCM-QFX-QDY-BEND-SDM-VCM-SFM-QFY-SFM-HCM-SDM-BEND-QDZ-HVCM-QFZ-BPM
 STANDARD (6 BPM):    BPM-QF-HVCM-QD-BEND-SD-VCM-SF-QDC-SF-HCM-SD-BEND-QD-HVCM-QF-BPM
 NOTES: 
       all sextupoles have skew quadrupole windings
       all quadrupoles have trim/modulation windings</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>	AMP2K - Converts amperes to simulator values</li><li><a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>	K2AMP - Converts simulator values to amperes</li><li><a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>	[C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)</li><li><a href="setoperationalmode.html" class="code" title="function setoperationalmode(ModeNumber)">setoperationalmode</a>	setoperationalmode(ModeNumber)</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001                                                                     <span class="keyword">function</span> spear3init
0002 <span class="comment">% Initialize parameters for SPEAR 3 control in MATLAB</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%==========================</span>
0005 <span class="comment">% Accelerator Family Fields</span>
0006 <span class="comment">%==========================</span>
0007 <span class="comment">% FamilyName            BPMx, HCM, etc</span>
0008 <span class="comment">% CommonNames           Shortcut name for each element</span>
0009 <span class="comment">% DeviceList            [Sector, Number]</span>
0010 <span class="comment">% ElementList           number in list</span>
0011 <span class="comment">% Position              m, magnet center</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% Monitor Fields</span>
0014 <span class="comment">% Mode                  online/manual/special/simulator</span>
0015 <span class="comment">% ChannelNames          PV for monitor</span>
0016 <span class="comment">% Units                 Physics or HW</span>
0017 <span class="comment">% HW2PhysicsFcn         function handle used to convert from hardware to physics units ==&gt; inline will not compile, see below</span>
0018 <span class="comment">% HW2PhysicsParams      parameters used for conversion function</span>
0019 <span class="comment">% Physics2HWFcn         function handle used to convert from physics to hardware units</span>
0020 <span class="comment">% Physics2HWParams      parameters used for conversion function</span>
0021 <span class="comment">% HWUnits               units for Hardware 'ampere';</span>
0022 <span class="comment">% PhysicsUnits          units for physics 'Rad';</span>
0023 <span class="comment">%</span>
0024 <span class="comment">% Setpoint Fields</span>
0025 <span class="comment">% Mode                  online/manual/special/simulator</span>
0026 <span class="comment">% ChannelNames          PV for monitor</span>
0027 <span class="comment">% Units                 hardware or physics</span>
0028 <span class="comment">% HW2PhysicsFcn         function handle used to convert from hardware to physics units</span>
0029 <span class="comment">% HW2PhysicsParams      parameters used for conversion function</span>
0030 <span class="comment">% Physics2HWFcn         function handle used to convert from physics to hardware units</span>
0031 <span class="comment">% Physics2HWParams      parameters used for conversion function</span>
0032 <span class="comment">% HWUnits               units for Hardware 'ampere';</span>
0033 <span class="comment">% PhysicsUnits          units for physics 'Rad';</span>
0034 <span class="comment">% Range                 minsetpoint, maxsetpoint;</span>
0035 <span class="comment">% Tolerance             setpoint-monitor</span>
0036 <span class="comment">%</span>
0037 <span class="comment">%=============================================</span>
0038 <span class="comment">% Accelerator Toolbox Simulation Fields</span>
0039 <span class="comment">%=============================================</span>
0040 <span class="comment">% ATType                Quad, Sext, etc</span>
0041 <span class="comment">% ATIndex               index in THERING</span>
0042 <span class="comment">% ATParameterGroup      parameter group</span>
0043 <span class="comment">%</span>
0044 <span class="comment">%============</span>
0045 <span class="comment">% Family List</span>
0046 <span class="comment">%============</span>
0047 <span class="comment">%    BPMx</span>
0048 <span class="comment">%    BPMy</span>
0049 <span class="comment">%    HCM</span>
0050 <span class="comment">%    VCM</span>
0051 <span class="comment">%    SkewQuad</span>
0052 <span class="comment">%    BEND</span>
0053 <span class="comment">%    BDM</span>
0054 <span class="comment">%    QDX</span>
0055 <span class="comment">%    QFX</span>
0056 <span class="comment">%    QDY</span>
0057 <span class="comment">%    QFY</span>
0058 <span class="comment">%    QDZ</span>
0059 <span class="comment">%    QFZ</span>
0060 <span class="comment">%    QF</span>
0061 <span class="comment">%    QD</span>
0062 <span class="comment">%    QFC</span>
0063 <span class="comment">%    SF</span>
0064 <span class="comment">%    SD</span>
0065 <span class="comment">%    SFM</span>
0066 <span class="comment">%    SDM</span>
0067 <span class="comment">%    Kickers</span>
0068 <span class="comment">%    RF</span>
0069 <span class="comment">%    DCCT</span>
0070 <span class="comment">%    Septum</span>
0071 <span class="comment">%    Machine Parameters</span>
0072 <span class="comment">%    BLOpen</span>
0073 <span class="comment">%    BLErr</span>
0074 <span class="comment">%    BLSum</span>
0075 <span class="comment">%    Mains</span>
0076 <span class="comment">%    Shunt Current</span>
0077 <span class="comment">%    Shunt Relay</span>
0078 <span class="comment">% MATCH    (7 BPM):    BPM-QDX-HVCM-QFX-QDY-BEND-SDM-VCM-SFM-QFY-SFM-HCM-SDM-BEND-QDZ-HVCM-QFZ-BPM</span>
0079 <span class="comment">% STANDARD (6 BPM):    BPM-QF-HVCM-QD-BEND-SD-VCM-SF-QDC-SF-HCM-SD-BEND-QD-HVCM-QF-BPM</span>
0080 <span class="comment">% NOTES:</span>
0081 <span class="comment">%       all sextupoles have skew quadrupole windings</span>
0082 <span class="comment">%       all quadrupoles have trim/modulation windings</span>
0083 
0084 
0085 
0086 Mode = <span class="string">'ONLINE'</span>;
0087 
0088 
0089 <span class="comment">%=============================================</span>
0090 <span class="comment">%BPM data: status field designates if BPM in use</span>
0091 <span class="comment">%=============================================</span>
0092 ntbpm=112;
0093 AO{1}.FamilyName               = <span class="string">'BPMx'</span>;
0094 AO{1}.FamilyType               = <span class="string">'BPM'</span>;
0095 AO{1}.MemberOf                 = {<span class="string">'PlotFamily'</span>; <span class="string">'BPM'</span>; <span class="string">'Diagnostics'</span>};
0096 AO{1}.Monitor.Mode             = Mode;
0097 AO{1}.Monitor.DataType         = <span class="string">'Vector'</span>;
0098 AO{1}.Monitor.DataTypeIndex    = [1:ntbpm];
0099 AO{1}.Monitor.Units            = <span class="string">'Hardware'</span>;
0100 AO{1}.Monitor.HWUnits          = <span class="string">'mm'</span>;
0101 AO{1}.Monitor.PhysicsUnits     = <span class="string">'meter'</span>;
0102 
0103 AO{2}.FamilyName               = <span class="string">'BPMy'</span>;
0104 AO{2}.FamilyType               = <span class="string">'BPM'</span>;
0105 AO{2}.MemberOf                 = {<span class="string">'PlotFamily'</span>; <span class="string">'BPM'</span>; <span class="string">'Diagnostics'</span>};
0106 AO{2}.Monitor.Mode             = Mode;
0107 AO{2}.Monitor.DataType         = <span class="string">'Vector'</span>;
0108 AO{2}.Monitor.DataTypeIndex    = [1:ntbpm];
0109 AO{2}.Monitor.Units            = <span class="string">'Hardware'</span>;
0110 AO{2}.Monitor.HWUnits          = <span class="string">'mm'</span>;
0111 AO{2}.Monitor.PhysicsUnits     = <span class="string">'meter'</span>;
0112 
0113 <span class="comment">% x-name      x-chname   xstat y-name       y-chname ystat DevList Elem  Type</span>
0114 <span class="comment">%                                                                  (Bergoz/Ecotek)</span>
0115 bpm={
0116  <span class="string">'1BPM1   '</span>    <span class="string">'01G-BPM1:U   '</span>  1  <span class="string">'1BPM1   '</span>    <span class="string">'01G-BPM1:V   '</span>  1  [1 ,1]    1    <span class="string">'B'</span>    ; <span class="keyword">...</span>
0117  <span class="string">'1BPM2   '</span>    <span class="string">'01G-BPM2:U   '</span>  0  <span class="string">'1BPM2   '</span>    <span class="string">'01G-BPM2:V   '</span>  0  [1 ,2]    2    <span class="string">'E'</span>    ; <span class="keyword">...</span>
0118  <span class="string">'1BPM3   '</span>    <span class="string">'01G-BPM3:U   '</span>  0  <span class="string">'1BPM3   '</span>    <span class="string">'01G-BPM3:V   '</span>  0  [1 ,3]    3    <span class="string">'E'</span>    ; <span class="keyword">...</span>
0119  <span class="string">'1BPM4   '</span>    <span class="string">'01G-BPM4:U   '</span>  1  <span class="string">'1BPM4   '</span>    <span class="string">'01G-BPM4:V   '</span>  1  [1 ,4]    4    <span class="string">'B'</span>    ; <span class="keyword">...</span>
0120  <span class="string">'1BPM5   '</span>    <span class="string">'01G-BPM5:U   '</span>  0  <span class="string">'1BPM5   '</span>    <span class="string">'01G-BPM5:V   '</span>  0  [1 ,5]    5    <span class="string">'E'</span>    ; <span class="keyword">...</span>
0121  <span class="string">'1BPM6   '</span>    <span class="string">'01G-BPM6:U   '</span>  0  <span class="string">'1BPM6   '</span>    <span class="string">'01G-BPM6:V   '</span>  0  [1 ,6]    6    <span class="string">'E'</span>    ; <span class="keyword">...</span>
0122  <span class="string">'1BPM7   '</span>    <span class="string">'01G-BPM7:U   '</span>  1  <span class="string">'1BPM7   '</span>    <span class="string">'01G-BPM7:V   '</span>  1  [1 ,7]    7    <span class="string">'B'</span>    ; <span class="keyword">...</span>
0123  <span class="string">'2BPM1   '</span>    <span class="string">'02G-BPM1:U   '</span>  1  <span class="string">'2BPM1   '</span>    <span class="string">'02G-BPM1:V   '</span>  1  [2 ,1]    8    <span class="string">'B'</span>    ; <span class="keyword">...</span>
0124  <span class="string">'2BPM2   '</span>    <span class="string">'02G-BPM2:U   '</span>  0  <span class="string">'2BPM2   '</span>    <span class="string">'02G-BPM2:V   '</span>  0  [2 ,2]    9    <span class="string">'E'</span>    ; <span class="keyword">...</span>
0125  <span class="string">'2BPM3   '</span>    <span class="string">'02G-BPM3:U   '</span>  0  <span class="string">'2BPM3   '</span>    <span class="string">'02G-BPM3:V   '</span>  0  [2 ,3]    10   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0126  <span class="string">'2BPM4   '</span>    <span class="string">'02G-BPM4:U   '</span>  1  <span class="string">'2BPM4   '</span>    <span class="string">'02G-BPM4:V   '</span>  1  [2 ,4]    11   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0127  <span class="string">'2BPM5   '</span>    <span class="string">'02G-BPM5:U   '</span>  0  <span class="string">'2BPM5   '</span>    <span class="string">'02G-BPM5:V   '</span>  0  [2 ,5]    12   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0128  <span class="string">'2BPM6   '</span>    <span class="string">'02G-BPM6:U   '</span>  1  <span class="string">'2BPM6   '</span>    <span class="string">'02G-BPM6:V   '</span>  1  [2 ,6]    13   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0129  <span class="string">'3BPM1   '</span>    <span class="string">'03G-BPM1:U   '</span>  1  <span class="string">'3BPM1   '</span>    <span class="string">'03G-BPM1:V   '</span>  1  [3 ,1]    14   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0130  <span class="string">'3BPM2   '</span>    <span class="string">'03G-BPM2:U   '</span>  0  <span class="string">'3BPM2   '</span>    <span class="string">'03G-BPM2:V   '</span>  0  [3 ,2]    15   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0131  <span class="string">'3BPM3   '</span>    <span class="string">'03G-BPM3:U   '</span>  0  <span class="string">'3BPM3   '</span>    <span class="string">'03G-BPM3:V   '</span>  0  [3 ,3]    16   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0132  <span class="string">'3BPM4   '</span>    <span class="string">'03G-BPM4:U   '</span>  1  <span class="string">'3BPM4   '</span>    <span class="string">'03G-BPM4:V   '</span>  1  [3 ,4]    17   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0133  <span class="string">'3BPM5   '</span>    <span class="string">'03G-BPM5:U   '</span>  0  <span class="string">'3BPM5   '</span>    <span class="string">'03G-BPM5:V   '</span>  0  [3 ,5]    18   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0134  <span class="string">'3BPM6   '</span>    <span class="string">'03G-BPM6:U   '</span>  1  <span class="string">'3BPM6   '</span>    <span class="string">'03G-BPM6:V   '</span>  1  [3 ,6]    19   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0135  <span class="string">'4BPM1   '</span>    <span class="string">'04G-BPM1:U   '</span>  1  <span class="string">'4BPM1   '</span>    <span class="string">'04G-BPM1:V   '</span>  1  [4 ,1]    20   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0136  <span class="string">'4BPM2   '</span>    <span class="string">'04G-BPM2:U   '</span>  0  <span class="string">'4BPM2   '</span>    <span class="string">'04G-BPM2:V   '</span>  0  [4 ,2]    21   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0137  <span class="string">'4BPM3   '</span>    <span class="string">'04G-BPM3:U   '</span>  0  <span class="string">'4BPM3   '</span>    <span class="string">'04G-BPM3:V   '</span>  0  [4 ,3]    22   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0138  <span class="string">'4BPM4   '</span>    <span class="string">'04G-BPM4:U   '</span>  1  <span class="string">'4BPM4   '</span>    <span class="string">'04G-BPM4:V   '</span>  1  [4 ,4]    23   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0139  <span class="string">'4BPM5   '</span>    <span class="string">'04G-BPM5:U   '</span>  0  <span class="string">'4BPM5   '</span>    <span class="string">'04G-BPM5:V   '</span>  0  [4 ,5]    24   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0140  <span class="string">'4BPM6   '</span>    <span class="string">'04G-BPM6:U   '</span>  1  <span class="string">'4BPM6   '</span>    <span class="string">'04G-BPM6:V   '</span>  1  [4 ,6]    25   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0141  <span class="string">'5BPM1   '</span>    <span class="string">'05G-BPM1:U   '</span>  1  <span class="string">'5BPM1   '</span>    <span class="string">'05G-BPM1:V   '</span>  1  [5 ,1]    26   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0142  <span class="string">'5BPM2   '</span>    <span class="string">'05G-BPM2:U   '</span>  0  <span class="string">'5BPM2   '</span>    <span class="string">'05G-BPM2:V   '</span>  0  [5 ,2]    27   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0143  <span class="string">'5BPM3   '</span>    <span class="string">'05G-BPM3:U   '</span>  0  <span class="string">'5BPM3   '</span>    <span class="string">'05G-BPM3:V   '</span>  0  [5 ,3]    28   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0144  <span class="string">'5BPM4   '</span>    <span class="string">'05G-BPM4:U   '</span>  1  <span class="string">'5BPM4   '</span>    <span class="string">'05G-BPM4:V   '</span>  1  [5 ,4]    29   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0145  <span class="string">'5BPM5   '</span>    <span class="string">'05G-BPM5:U   '</span>  0  <span class="string">'5BPM5   '</span>    <span class="string">'05G-BPM5:V   '</span>  0  [5 ,5]    30   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0146  <span class="string">'5BPM6   '</span>    <span class="string">'05G-BPM6:U   '</span>  1  <span class="string">'5BPM6   '</span>    <span class="string">'05G-BPM6:V   '</span>  1  [5 ,6]    31   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0147  <span class="string">'6BPM1   '</span>    <span class="string">'06G-BPM1:U   '</span>  1  <span class="string">'6BPM1   '</span>    <span class="string">'06G-BPM1:V   '</span>  1  [6 ,1]    32   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0148  <span class="string">'6BPM2   '</span>    <span class="string">'06G-BPM2:U   '</span>  0  <span class="string">'6BPM2   '</span>    <span class="string">'06G-BPM2:V   '</span>  0  [6 ,2]    33   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0149  <span class="string">'6BPM3   '</span>    <span class="string">'06G-BPM3:U   '</span>  0  <span class="string">'6BPM3   '</span>    <span class="string">'06G-BPM3:V   '</span>  0  [6 ,3]    34   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0150  <span class="string">'6BPM4   '</span>    <span class="string">'06G-BPM4:U   '</span>  1  <span class="string">'6BPM4   '</span>    <span class="string">'06G-BPM4:V   '</span>  1  [6 ,4]    35   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0151  <span class="string">'6BPM5   '</span>    <span class="string">'06G-BPM5:U   '</span>  0  <span class="string">'6BPM5   '</span>    <span class="string">'06G-BPM5:V   '</span>  0  [6 ,5]    36   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0152  <span class="string">'6BPM6   '</span>    <span class="string">'06G-BPM6:U   '</span>  1  <span class="string">'6BPM6   '</span>    <span class="string">'06G-BPM6:V   '</span>  1  [6 ,6]    37   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0153  <span class="string">'7BPM1   '</span>    <span class="string">'07G-BPM1:U   '</span>  1  <span class="string">'7BPM1   '</span>    <span class="string">'07G-BPM1:V   '</span>  1  [7 ,1]    38   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0154  <span class="string">'7BPM2   '</span>    <span class="string">'07G-BPM2:U   '</span>  0  <span class="string">'7BPM2   '</span>    <span class="string">'07G-BPM2:V   '</span>  0  [7 ,2]    39   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0155  <span class="string">'7BPM3   '</span>    <span class="string">'07G-BPM3:U   '</span>  0  <span class="string">'7BPM3   '</span>    <span class="string">'07G-BPM3:V   '</span>  0  [7 ,3]    40   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0156  <span class="string">'7BPM4   '</span>    <span class="string">'07G-BPM4:U   '</span>  1  <span class="string">'7BPM4   '</span>    <span class="string">'07G-BPM4:V   '</span>  1  [7 ,4]    41   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0157  <span class="string">'7BPM5   '</span>    <span class="string">'07G-BPM5:U   '</span>  0  <span class="string">'7BPM5   '</span>    <span class="string">'07G-BPM5:V   '</span>  0  [7 ,5]    42   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0158  <span class="string">'7BPM6   '</span>    <span class="string">'07G-BPM6:U   '</span>  1  <span class="string">'7BPM6   '</span>    <span class="string">'07G-BPM6:V   '</span>  1  [7 ,6]    43   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0159  <span class="string">'8BPM1   '</span>    <span class="string">'08G-BPM1:U   '</span>  1  <span class="string">'8BPM1   '</span>    <span class="string">'08G-BPM1:V   '</span>  1  [8 ,1]    44   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0160  <span class="string">'8BPM2   '</span>    <span class="string">'08G-BPM2:U   '</span>  0  <span class="string">'8BPM2   '</span>    <span class="string">'08G-BPM2:V   '</span>  0  [8 ,2]    45   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0161  <span class="string">'8BPM3   '</span>    <span class="string">'08G-BPM3:U   '</span>  0  <span class="string">'8BPM3   '</span>    <span class="string">'08G-BPM3:V   '</span>  0  [8 ,3]    46   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0162  <span class="string">'8BPM4   '</span>    <span class="string">'08G-BPM4:U   '</span>  1  <span class="string">'8BPM4   '</span>    <span class="string">'08G-BPM4:V   '</span>  1  [8 ,4]    47   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0163  <span class="string">'8BPM5   '</span>    <span class="string">'08G-BPM5:U   '</span>  0  <span class="string">'8BPM5   '</span>    <span class="string">'08G-BPM5:V   '</span>  0  [8 ,5]    48   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0164  <span class="string">'8BPM6   '</span>    <span class="string">'08G-BPM6:U   '</span>  1  <span class="string">'8BPM6   '</span>    <span class="string">'08G-BPM6:V   '</span>  1  [8 ,6]    49   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0165  <span class="string">'9BPM1   '</span>    <span class="string">'09G-BPM1:U   '</span>  1  <span class="string">'9BPM1   '</span>    <span class="string">'09G-BPM1:V   '</span>  1  [9 ,1]    50   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0166  <span class="string">'9BPM2   '</span>    <span class="string">'09G-BPM2:U   '</span>  0  <span class="string">'9BPM2   '</span>    <span class="string">'09G-BPM2:V   '</span>  0  [9 ,2]    51   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0167  <span class="string">'9BPM3   '</span>    <span class="string">'09G-BPM3:U   '</span>  0  <span class="string">'9BPM3   '</span>    <span class="string">'09G-BPM3:V   '</span>  0  [9 ,3]    52   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0168  <span class="string">'9BPM4   '</span>    <span class="string">'09G-BPM4:U   '</span>  1  <span class="string">'9BPM4   '</span>    <span class="string">'09G-BPM4:V   '</span>  1  [9 ,4]    53   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0169  <span class="string">'9BPM5   '</span>    <span class="string">'09G-BPM5:U   '</span>  0  <span class="string">'9BPM5   '</span>    <span class="string">'09G-BPM5:V   '</span>  0  [9 ,5]    54   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0170  <span class="string">'9BPM6   '</span>    <span class="string">'09G-BPM6:U   '</span>  0  <span class="string">'9BPM6   '</span>    <span class="string">'09G-BPM6:V   '</span>  0  [9 ,6]    55   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0171  <span class="string">'9BPM7   '</span>    <span class="string">'09G-BPM7:U   '</span>  1  <span class="string">'9BPM7   '</span>    <span class="string">'09G-BPM7:V   '</span>  1  [9 ,7]    56   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0172  <span class="string">'10BPM1  '</span>    <span class="string">'10G-BPM1:U   '</span>  1  <span class="string">'10BPM1  '</span>    <span class="string">'10G-BPM1:V   '</span>  1  [10,1]    57   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0173  <span class="string">'10BPM2  '</span>    <span class="string">'10G-BPM2:U   '</span>  0  <span class="string">'10BPM2  '</span>    <span class="string">'10G-BPM2:V   '</span>  0  [10,2]    58   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0174  <span class="string">'10BPM3  '</span>    <span class="string">'10G-BPM3:U   '</span>  0  <span class="string">'10BPM3  '</span>    <span class="string">'10G-BPM3:V   '</span>  0  [10,3]    59   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0175  <span class="string">'10BPM4  '</span>    <span class="string">'10G-BPM4:U   '</span>  1  <span class="string">'10BPM4  '</span>    <span class="string">'10G-BPM4:V   '</span>  1  [10,4]    60   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0176  <span class="string">'10BPM5  '</span>    <span class="string">'10G-BPM5:U   '</span>  0  <span class="string">'10BPM5  '</span>    <span class="string">'10G-BPM5:V   '</span>  0  [10,5]    61   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0177  <span class="string">'10BPM6  '</span>    <span class="string">'10G-BPM6:U   '</span>  0  <span class="string">'10BPM6  '</span>    <span class="string">'10G-BPM6:V   '</span>  0  [10,6]    62   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0178  <span class="string">'10BPM7  '</span>    <span class="string">'10G-BPM7:U   '</span>  1  <span class="string">'10BPM7  '</span>    <span class="string">'10G-BPM7:V   '</span>  1  [10,7]    63   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0179  <span class="string">'11BPM1  '</span>    <span class="string">'11G-BPM1:U   '</span>  1  <span class="string">'11BPM1  '</span>    <span class="string">'11G-BPM1:V   '</span>  1  [11,1]    64   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0180  <span class="string">'11BPM2  '</span>    <span class="string">'11G-BPM2:U   '</span>  0  <span class="string">'11BPM2  '</span>    <span class="string">'11G-BPM2:V   '</span>  0  [11,2]    65   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0181  <span class="string">'11BPM3  '</span>    <span class="string">'11G-BPM3:U   '</span>  0  <span class="string">'11BPM3  '</span>    <span class="string">'11G-BPM3:V   '</span>  0  [11,3]    66   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0182  <span class="string">'11BPM4  '</span>    <span class="string">'11G-BPM4:U   '</span>  1  <span class="string">'11BPM4  '</span>    <span class="string">'11G-BPM4:V   '</span>  1  [11,4]    67   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0183  <span class="string">'11BPM5  '</span>    <span class="string">'11G-BPM5:U   '</span>  0  <span class="string">'11BPM5  '</span>    <span class="string">'11G-BPM5:V   '</span>  0  [11,5]    68   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0184  <span class="string">'11BPM6  '</span>    <span class="string">'11G-BPM6:U   '</span>  1  <span class="string">'11BPM6  '</span>    <span class="string">'11G-BPM6:V   '</span>  1  [11,6]    69   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0185  <span class="string">'12BPM1  '</span>    <span class="string">'12G-BPM1:U   '</span>  1  <span class="string">'12BPM1  '</span>    <span class="string">'12G-BPM1:V   '</span>  1  [12,1]    70   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0186  <span class="string">'12BPM2  '</span>    <span class="string">'12G-BPM2:U   '</span>  0  <span class="string">'12BPM2  '</span>    <span class="string">'12G-BPM2:V   '</span>  0  [12,2]    71   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0187  <span class="string">'12BPM3  '</span>    <span class="string">'12G-BPM3:U   '</span>  0  <span class="string">'12BPM3  '</span>    <span class="string">'12G-BPM3:V   '</span>  0  [12,3]    72   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0188  <span class="string">'12BPM4  '</span>    <span class="string">'12G-BPM4:U   '</span>  0  <span class="string">'12BPM4  '</span>    <span class="string">'12G-BPM4:V   '</span>  0  [12,4]    73   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0189  <span class="string">'12BPM5  '</span>    <span class="string">'12G-BPM5:U   '</span>  1  <span class="string">'12BPM5  '</span>    <span class="string">'12G-BPM5:V   '</span>  1  [12,5]    74   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0190  <span class="string">'12BPM6  '</span>    <span class="string">'12G-BPM6:U   '</span>  1  <span class="string">'12BPM6  '</span>    <span class="string">'12G-BPM6:V   '</span>  1  [12,6]    75   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0191  <span class="string">'13BPM1  '</span>    <span class="string">'13G-BPM1:U   '</span>  1  <span class="string">'13BPM1  '</span>    <span class="string">'13G-BPM1:V   '</span>  1  [13,1]    76   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0192  <span class="string">'13BPM2  '</span>    <span class="string">'13G-BPM2:U   '</span>  0  <span class="string">'13BPM2  '</span>    <span class="string">'13G-BPM2:V   '</span>  0  [13,2]    77   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0193  <span class="string">'13BPM3  '</span>    <span class="string">'13G-BPM3:U   '</span>  0  <span class="string">'13BPM3  '</span>    <span class="string">'13G-BPM3:V   '</span>  0  [13,3]    78   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0194  <span class="string">'13BPM4  '</span>    <span class="string">'13G-BPM4:U   '</span>  1  <span class="string">'13BPM4  '</span>    <span class="string">'13G-BPM4:V   '</span>  1  [13,4]    79   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0195  <span class="string">'13BPM5  '</span>    <span class="string">'13G-BPM5:U   '</span>  0  <span class="string">'13BPM5  '</span>    <span class="string">'13G-BPM5:V   '</span>  0  [13,5]    80   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0196  <span class="string">'13BPM6  '</span>    <span class="string">'13G-BPM6:U   '</span>  1  <span class="string">'13BPM6  '</span>    <span class="string">'13G-BPM6:V   '</span>  1  [13,6]    81   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0197  <span class="string">'14BPM1  '</span>    <span class="string">'14G-BPM1:U   '</span>  1  <span class="string">'14BPM1  '</span>    <span class="string">'14G-BPM1:V   '</span>  1  [14,1]    82   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0198  <span class="string">'14BPM2  '</span>    <span class="string">'14G-BPM2:U   '</span>  0  <span class="string">'14BPM2  '</span>    <span class="string">'14G-BPM2:V   '</span>  0  [14,2]    83   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0199  <span class="string">'14BPM3  '</span>    <span class="string">'14G-BPM3:U   '</span>  0  <span class="string">'14BPM3  '</span>    <span class="string">'14G-BPM3:V   '</span>  0  [14,3]    84   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0200  <span class="string">'14BPM4  '</span>    <span class="string">'14G-BPM4:U   '</span>  0  <span class="string">'14BPM4  '</span>    <span class="string">'14G-BPM4:V   '</span>  0  [14,4]    85   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0201  <span class="string">'14BPM5  '</span>    <span class="string">'14G-BPM5:U   '</span>  0  <span class="string">'14BPM5  '</span>    <span class="string">'14G-BPM5:V   '</span>  0  [14,5]    86   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0202  <span class="string">'14BPM6  '</span>    <span class="string">'14G-BPM6:U   '</span>  1  <span class="string">'14BPM6  '</span>    <span class="string">'14G-BPM6:V   '</span>  1  [14,6]    87   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0203  <span class="string">'15BPM1  '</span>    <span class="string">'15G-BPM1:U   '</span>  1  <span class="string">'15BPM1  '</span>    <span class="string">'15G-BPM1:V   '</span>  1  [15,1]    88   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0204  <span class="string">'15BPM2  '</span>    <span class="string">'15G-BPM2:U   '</span>  0  <span class="string">'15BPM2  '</span>    <span class="string">'15G-BPM2:V   '</span>  0  [15,2]    89   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0205  <span class="string">'15BPM3  '</span>    <span class="string">'15G-BPM3:U   '</span>  0  <span class="string">'15BPM3  '</span>    <span class="string">'15G-BPM3:V   '</span>  0  [15,3]    90   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0206  <span class="string">'15BPM4  '</span>    <span class="string">'15G-BPM4:U   '</span>  1  <span class="string">'15BPM4  '</span>    <span class="string">'15G-BPM4:V   '</span>  1  [15,4]    91   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0207  <span class="string">'15BPM5  '</span>    <span class="string">'15G-BPM5:U   '</span>  0  <span class="string">'15BPM5  '</span>    <span class="string">'15G-BPM5:V   '</span>  0  [15,5]    92   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0208  <span class="string">'15BPM6  '</span>    <span class="string">'15G-BPM6:U   '</span>  1  <span class="string">'15BPM6  '</span>    <span class="string">'15G-BPM6:V   '</span>  1  [15,6]    93   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0209  <span class="string">'16BPM1  '</span>    <span class="string">'16G-BPM1:U   '</span>  1  <span class="string">'16BPM1  '</span>    <span class="string">'16G-BPM1:V   '</span>  1  [16,1]    94   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0210  <span class="string">'16BPM2  '</span>    <span class="string">'16G-BPM2:U   '</span>  0  <span class="string">'16BPM2  '</span>    <span class="string">'16G-BPM2:V   '</span>  0  [16,2]    95   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0211  <span class="string">'16BPM3  '</span>    <span class="string">'16G-BPM3:U   '</span>  0  <span class="string">'16BPM3  '</span>    <span class="string">'16G-BPM3:V   '</span>  0  [16,3]    96   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0212  <span class="string">'16BPM4  '</span>    <span class="string">'16G-BPM4:U   '</span>  1  <span class="string">'16BPM4  '</span>    <span class="string">'16G-BPM4:V   '</span>  1  [16,4]    97   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0213  <span class="string">'16BPM5  '</span>    <span class="string">'16G-BPM5:U   '</span>  0  <span class="string">'16BPM5  '</span>    <span class="string">'16G-BPM5:V   '</span>  0  [16,5]    98   <span class="string">'E'</span>    ; <span class="keyword">...</span>
0214  <span class="string">'16BPM6  '</span>    <span class="string">'16G-BPM6:U   '</span>  1  <span class="string">'16BPM6  '</span>    <span class="string">'16G-BPM6:V   '</span>  1  [16,6]    99   <span class="string">'B'</span>    ; <span class="keyword">...</span>
0215  <span class="string">'17BPM1  '</span>    <span class="string">'17G-BPM1:U   '</span>  1  <span class="string">'17BPM1  '</span>    <span class="string">'17G-BPM1:V   '</span>  1  [17,1]    100  <span class="string">'B'</span>    ; <span class="keyword">...</span>
0216  <span class="string">'17BPM2  '</span>    <span class="string">'17G-BPM2:U   '</span>  0  <span class="string">'17BPM2  '</span>    <span class="string">'17G-BPM2:V   '</span>  0  [17,2]    101  <span class="string">'E'</span>    ; <span class="keyword">...</span>
0217  <span class="string">'17BPM3  '</span>    <span class="string">'17G-BPM3:U   '</span>  0  <span class="string">'17BPM3  '</span>    <span class="string">'17G-BPM3:V   '</span>  0  [17,3]    102  <span class="string">'E'</span>    ; <span class="keyword">...</span>
0218  <span class="string">'17BPM4  '</span>    <span class="string">'17G-BPM4:U   '</span>  1  <span class="string">'17BPM4  '</span>    <span class="string">'17G-BPM4:V   '</span>  1  [17,4]    103  <span class="string">'B'</span>    ; <span class="keyword">...</span>
0219  <span class="string">'17BPM5  '</span>    <span class="string">'17G-BPM5:U   '</span>  0  <span class="string">'17BPM5  '</span>    <span class="string">'17G-BPM5:V   '</span>  0  [17,5]    104  <span class="string">'E'</span>    ; <span class="keyword">...</span>
0220  <span class="string">'17BPM6  '</span>    <span class="string">'17G-BPM6:U   '</span>  1  <span class="string">'17BPM6  '</span>    <span class="string">'17G-BPM6:V   '</span>  1  [17,6]    105  <span class="string">'B'</span>    ; <span class="keyword">...</span>
0221  <span class="string">'18BPM1  '</span>    <span class="string">'18G-BPM1:U   '</span>  1  <span class="string">'18BPM1  '</span>    <span class="string">'18G-BPM1:V   '</span>  1  [18,1]    106  <span class="string">'B'</span>    ; <span class="keyword">...</span>
0222  <span class="string">'18BPM2  '</span>    <span class="string">'18G-BPM2:U   '</span>  0  <span class="string">'18BPM2  '</span>    <span class="string">'18G-BPM2:V   '</span>  0  [18,2]    107  <span class="string">'E'</span>    ; <span class="keyword">...</span>
0223  <span class="string">'18BPM3  '</span>    <span class="string">'18G-BPM3:U   '</span>  0  <span class="string">'18BPM3  '</span>    <span class="string">'18G-BPM3:V   '</span>  0  [18,3]    108  <span class="string">'E'</span>    ; <span class="keyword">...</span>
0224  <span class="string">'18BPM4  '</span>    <span class="string">'18G-BPM4:U   '</span>  1  <span class="string">'18BPM4  '</span>    <span class="string">'18G-BPM4:V   '</span>  1  [18,4]    109  <span class="string">'B'</span>    ; <span class="keyword">...</span>
0225  <span class="string">'18BPM5  '</span>    <span class="string">'18G-BPM5:U   '</span>  0  <span class="string">'18BPM5  '</span>    <span class="string">'18G-BPM5:V   '</span>  0  [18,5]    110  <span class="string">'E'</span>    ; <span class="keyword">...</span>
0226  <span class="string">'18BPM6  '</span>    <span class="string">'18G-BPM6:U   '</span>  0  <span class="string">'18BPM6  '</span>    <span class="string">'18G-BPM6:V   '</span>  0  [18,6]    111  <span class="string">'E'</span>    ; <span class="keyword">...</span>
0227  <span class="string">'18BPM7  '</span>    <span class="string">'18G-BPM7:U   '</span>  1  <span class="string">'18BPM7  '</span>    <span class="string">'18G-BPM7:V   '</span>  1  [18,7]    112  <span class="string">'B'</span>    ; <span class="keyword">...</span>
0228 };
0229 
0230 <span class="comment">%Load fields from data block</span>
0231 <span class="keyword">for</span> ii=1:size(bpm,1)
0232 name=bpm{ii,1};      AO{1}.CommonNames(ii,:)         = name;
0233 name=bpm{ii,2};      AO{1}.Monitor.ChannelNames(ii,:)= name;
0234 val =bpm{ii,3};      AO{1}.Status(ii,:)              = val;  
0235 name=bpm{ii,4};      AO{2}.CommonNames(ii,:)         = name;
0236 name=bpm{ii,5};      AO{2}.Monitor.ChannelNames(ii,:)= name;
0237 val =bpm{ii,6};      AO{2}.Status(ii,:)              = val;  
0238 val =bpm{ii,7};      AO{1}.DeviceList(ii,:)          = val;   
0239                      AO{2}.DeviceList(ii,:)          = val;
0240 val =bpm{ii,8};      AO{1}.ElementList(ii,:)         = val;   
0241                      AO{2}.ElementList(ii,:)         = val;
0242                      AO{1}.Monitor.HW2PhysicsParams(ii,:) = 1e-3;
0243                      AO{1}.Monitor.Physics2HWParams(ii,:) = 1000;
0244                      AO{2}.Monitor.HW2PhysicsParams(ii,:) = 1e-3;
0245                      AO{2}.Monitor.Physics2HWParams(ii,:) = 1000;
0246 <span class="keyword">end</span>
0247 
0248 AO{1}.Status = AO{1}.Status(:);
0249 AO{2}.Status = AO{2}.Status(:);
0250 
0251 <span class="keyword">if</span> 0 <span class="comment">% change from 'if 1' to 'if 0' to invoke orbit, instead of u,v calls</span>
0252     <span class="comment">% Scalar channel method</span>
0253     AO{1}.Monitor.DataType = <span class="string">'Scalar'</span>;
0254     AO{2}.Monitor.DataType = <span class="string">'Scalar'</span>;
0255 
0256     AO{1}.Monitor = rmfield(AO{1}.Monitor, <span class="string">'DataTypeIndex'</span>);
0257     AO{2}.Monitor = rmfield(AO{2}.Monitor, <span class="string">'DataTypeIndex'</span>);
0258     
0259 <span class="keyword">else</span>
0260     <span class="comment">% Special function</span>
0261     AO{1}.Monitor.Mode            = <span class="string">'Special'</span>;
0262     AO{1}.Monitor.SpecialFunctionGet = <span class="string">'getxspear'</span>;
0263     AO{2}.Monitor.Mode            = <span class="string">'Special'</span>;
0264     AO{2}.Monitor.SpecialFunctionGet = <span class="string">'getyspear'</span>;
0265 <span class="keyword">end</span>
0266 
0267 
0268 AO{1}.Sum.Mode             = Mode;
0269 AO{1}.Sum.Units            = <span class="string">'Hardware'</span>;
0270 AO{1}.Sum.DataType         = <span class="string">'Vector'</span>;
0271 AO{1}.Sum.DataTypeIndex    = [1:ntbpm];
0272 AO{1}.Sum.SpecialFunctionGet  = <span class="string">'getbpmsum'</span>;
0273 AO{1}.Sum.HWUnits          = <span class="string">'ADC Counts'</span>;
0274 AO{1}.Sum.PhysicsUnits     = <span class="string">'ADC Counts'</span>;
0275 AO{1}.Sum.HW2PhysicsParams = 1;
0276 AO{1}.Sum.Physics2HWParams = 1;
0277 AO{1}.Sum.Units            = <span class="string">'Hardware'</span>;
0278 
0279 AO{1}.Q.Mode             = Mode;
0280 AO{1}.Q.Units            = <span class="string">'Hardware'</span>;
0281 AO{1}.Q.DataType         = <span class="string">'Vector'</span>;
0282 AO{1}.Q.DataTypeIndex    = [1:ntbpm];
0283 AO{1}.Q.SpecialFunctionGet  = <span class="string">'getbpmq'</span>;
0284 AO{1}.Q.HWUnits          = <span class="string">'mm'</span>;
0285 AO{1}.Q.PhysicsUnits     = <span class="string">'meter'</span>;
0286 AO{1}.Q.HW2PhysicsParams = 1e-3;
0287 AO{1}.Q.Physics2HWParams = 1000;
0288 
0289 AO{2}.Sum = AO{1}.Sum;
0290 AO{2}.Q   = AO{1}.Q;
0291 
0292 
0293 
0294 <span class="comment">%===========================================================</span>
0295 <span class="comment">%Corrector data: status field designates if corrector in use</span>
0296 <span class="comment">%===========================================================</span>
0297 <span class="comment">%horizontal corrector windings on SPEAR 3 cores 1,3,4</span>
0298 <span class="comment">%vertical   corrector windings on SPEAR 3 cores 1,2,4</span>
0299 
0300 <span class="comment">% NOTE: HCMGain and VCMGain are not used anymore!!!</span>
0301 <span class="comment">%       k2amp and amp2k are use so that energy scaling works</span>
0302 HCMGain                        = 0.0015/30.0;                  <span class="comment">%0.0015  radian/30 ampere @ 3.0 GeV - 0.15 about right as per elog 12/22/03 23:48</span>
0303 HCMGain_noshield               = HCMGain*0.188/0.15;           <span class="comment">%x-correctors with no shield stronger as per elog 12/22/03 23:48</span>
0304 VCMGain                        = (0.00075/30.0)*(0.125/0.15);  <span class="comment">%0.00075 radian/30 ampere @ 3.0 GeV - derate as per elog 12/22/03 23:48</span>
0305 VCMGain_noshield               = VCMGain*0.16/0.125;           <span class="comment">%y-correctors with no shield stronger as per elog 12/22/03 23:48</span>
0306 
0307 AO{3}.FamilyName               = <span class="string">'HCM'</span>;
0308 AO{3}.FamilyType               = <span class="string">'COR'</span>;
0309 AO{3}.MemberOf                 = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'COR'</span>; <span class="string">'MCOR'</span>; <span class="string">'HCM'</span>; <span class="string">'Magnet'</span>};
0310 
0311 AO{3}.Monitor.Mode             = Mode;
0312 AO{3}.Monitor.DataType         = <span class="string">'Scalar'</span>;
0313 AO{3}.Monitor.Units            = <span class="string">'Hardware'</span>;
0314 AO{3}.Monitor.HWUnits          = <span class="string">'ampere'</span>;           
0315 AO{3}.Monitor.PhysicsUnits     = <span class="string">'radian'</span>;
0316 AO{3}.Monitor.HW2PhysicsFcn = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0317 AO{3}.Monitor.Physics2HWFcn = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0318 
0319 AO{3}.Setpoint.Mode            = Mode;
0320 AO{3}.Setpoint.DataType        = <span class="string">'Scalar'</span>;
0321 AO{3}.Setpoint.Units           = <span class="string">'Hardware'</span>;
0322 AO{3}.Setpoint.HWUnits         = <span class="string">'ampere'</span>;           
0323 AO{3}.Setpoint.PhysicsUnits    = <span class="string">'radian'</span>;
0324 AO{3}.Setpoint.HW2PhysicsFcn = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0325 AO{3}.Setpoint.Physics2HWFcn = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0326 
0327 
0328 AO{4}.FamilyName               = <span class="string">'VCM'</span>;
0329 AO{4}.FamilyType               = <span class="string">'COR'</span>;
0330 AO{4}.MemberOf                 = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'COR'</span>; <span class="string">'MCOR'</span>; <span class="string">'VCM'</span>; <span class="string">'Magnet'</span>};
0331 
0332 AO{4}.Monitor.Mode             = Mode;
0333 AO{4}.Monitor.DataType         = <span class="string">'Scalar'</span>;
0334 AO{4}.Monitor.Units            = <span class="string">'Hardware'</span>;
0335 AO{4}.Monitor.HWUnits          = <span class="string">'ampere'</span>;           
0336 AO{4}.Monitor.PhysicsUnits     = <span class="string">'radian'</span>;
0337 AO{4}.Monitor.HW2PhysicsFcn = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0338 AO{4}.Monitor.Physics2HWFcn = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0339 
0340 AO{4}.Setpoint.Mode            = Mode;
0341 AO{4}.Setpoint.DataType        = <span class="string">'Scalar'</span>;
0342 AO{4}.Setpoint.Units           = <span class="string">'Hardware'</span>;
0343 AO{4}.Setpoint.HWUnits         = <span class="string">'ampere'</span>;           
0344 AO{4}.Setpoint.PhysicsUnits    = <span class="string">'radian'</span>;
0345 AO{4}.Setpoint.HW2PhysicsFcn = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0346 AO{4}.Setpoint.Physics2HWFcn = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0347 
0348 <span class="comment">% HW in ampere, Physics in radian                                                                                                      ** radian units converted to ampere below ***</span>
0349 <span class="comment">%x-common      x-monitor           x-setpoint     xstat y-common      y-monitor          y-setpoint      ystat devlist elem range (ampere) tol   x-kick    y-kick    y-phot   H2P_X          P2H_X          H2P_Y        P2H_Y</span>
0350 cor={
0351  <span class="string">'1CX1    '</span> <span class="string">'01G-COR1H:Curr1'</span> <span class="string">'01G-COR1H:CurrSetpt'</span>  1  <span class="string">'1CY1    '</span> <span class="string">'01G-COR1V:Curr1'</span> <span class="string">'01G-COR1V:CurrSetpt'</span>  1   [1 ,1]  1  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain_noshield 0]  [1/HCMGain_noshield 0]  [VCMGain_noshield 0]  [1/VCMGain_noshield 0]; <span class="keyword">...</span>
0352  <span class="string">'1CX2    '</span> <span class="string">'01G-COR2H:Curr1'</span> <span class="string">'01G-COR2H:CurrSetpt'</span>  0  <span class="string">'1CY2    '</span> <span class="string">'01G-COR2V:Curr1'</span> <span class="string">'01G-COR2V:CurrSetpt'</span>  1   [1 ,2]  2  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0353  <span class="string">'1CX3    '</span> <span class="string">'01G-COR3H:Curr1'</span> <span class="string">'01G-COR3H:CurrSetpt'</span>  1  <span class="string">'1CY3    '</span> <span class="string">'01G-COR3V:Curr1'</span> <span class="string">'01G-COR3V:CurrSetpt'</span>  0   [1 ,3]  3  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0354  <span class="string">'1CX4    '</span> <span class="string">'01G-COR4H:Curr1'</span> <span class="string">'01G-COR4H:CurrSetpt'</span>  1  <span class="string">'1CY4    '</span> <span class="string">'01G-COR4V:Curr1'</span> <span class="string">'01G-COR4V:CurrSetpt'</span>  1   [1 ,4]  4  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0355  <span class="string">'2CX1    '</span> <span class="string">'02G-COR1H:Curr1'</span> <span class="string">'02G-COR1H:CurrSetpt'</span>  1  <span class="string">'2CY1    '</span> <span class="string">'02G-COR1V:Curr1'</span> <span class="string">'02G-COR1V:CurrSetpt'</span>  1   [2 ,1]  5  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0356  <span class="string">'2CX2    '</span> <span class="string">'02G-COR2H:Curr1'</span> <span class="string">'02G-COR2H:CurrSetpt'</span>  0  <span class="string">'2CY2    '</span> <span class="string">'02G-COR2V:Curr1'</span> <span class="string">'02G-COR2V:CurrSetpt'</span>  1   [2 ,2]  6  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0357  <span class="string">'2CX3    '</span> <span class="string">'02G-COR3H:Curr1'</span> <span class="string">'02G-COR3H:CurrSetpt'</span>  1  <span class="string">'2CY3    '</span> <span class="string">'02G-COR3V:Curr1'</span> <span class="string">'02G-COR3V:CurrSetpt'</span>  0   [2 ,3]  7  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0358  <span class="string">'2CX4    '</span> <span class="string">'02G-COR4H:Curr1'</span> <span class="string">'02G-COR4H:CurrSetpt'</span>  1  <span class="string">'2CY4    '</span> <span class="string">'02G-COR4V:Curr1'</span> <span class="string">'02G-COR4V:CurrSetpt'</span>  1   [2 ,4]  8  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0359  <span class="string">'3CX1    '</span> <span class="string">'03G-COR1H:Curr1'</span> <span class="string">'03G-COR1H:CurrSetpt'</span>  1  <span class="string">'3CY1    '</span> <span class="string">'03G-COR1V:Curr1'</span> <span class="string">'03G-COR1V:CurrSetpt'</span>  1   [3 ,1]  9  [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0360  <span class="string">'3CX2    '</span> <span class="string">'03G-COR2H:Curr1'</span> <span class="string">'03G-COR2H:CurrSetpt'</span>  0  <span class="string">'3CY2    '</span> <span class="string">'03G-COR2V:Curr1'</span> <span class="string">'03G-COR2V:CurrSetpt'</span>  1   [3 ,2]  10 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0361  <span class="string">'3CX3    '</span> <span class="string">'03G-COR3H:Curr1'</span> <span class="string">'03G-COR3H:CurrSetpt'</span>  1  <span class="string">'3CY3    '</span> <span class="string">'03G-COR3V:Curr1'</span> <span class="string">'03G-COR3V:CurrSetpt'</span>  0   [3 ,3]  11 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0362  <span class="string">'3CX4    '</span> <span class="string">'03G-COR4H:Curr1'</span> <span class="string">'03G-COR4H:CurrSetpt'</span>  1  <span class="string">'3CY4    '</span> <span class="string">'03G-COR4V:Curr1'</span> <span class="string">'03G-COR4V:CurrSetpt'</span>  1   [3 ,4]  12 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0363  <span class="string">'4CX1    '</span> <span class="string">'04G-COR1H:Curr1'</span> <span class="string">'04G-COR1H:CurrSetpt'</span>  1  <span class="string">'4CY1    '</span> <span class="string">'04G-COR1V:Curr1'</span> <span class="string">'04G-COR1V:CurrSetpt'</span>  1   [4 ,1]  13 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0364  <span class="string">'4CX2    '</span> <span class="string">'04G-COR2H:Curr1'</span> <span class="string">'04G-COR2H:CurrSetpt'</span>  0  <span class="string">'4CY2    '</span> <span class="string">'04G-COR2V:Curr1'</span> <span class="string">'04G-COR2V:CurrSetpt'</span>  1   [4 ,2]  14 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0365  <span class="string">'4CX3    '</span> <span class="string">'04G-COR3H:Curr1'</span> <span class="string">'04G-COR3H:CurrSetpt'</span>  1  <span class="string">'4CY3    '</span> <span class="string">'04G-COR3V:Curr1'</span> <span class="string">'04G-COR3V:CurrSetpt'</span>  0   [4 ,3]  15 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0366  <span class="string">'4CX4    '</span> <span class="string">'04G-COR4H:Curr1'</span> <span class="string">'04G-COR4H:CurrSetpt'</span>  1  <span class="string">'4CY4    '</span> <span class="string">'04G-COR4V:Curr1'</span> <span class="string">'04G-COR4V:CurrSetpt'</span>  1   [4 ,4]  16 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0367  <span class="string">'5CX1    '</span> <span class="string">'05G-COR1H:Curr1'</span> <span class="string">'05G-COR1H:CurrSetpt'</span>  1  <span class="string">'5CY1    '</span> <span class="string">'05G-COR1V:Curr1'</span> <span class="string">'05G-COR1V:CurrSetpt'</span>  1   [5 ,1]  17 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0368  <span class="string">'5CX2    '</span> <span class="string">'05G-COR2H:Curr1'</span> <span class="string">'05G-COR2H:CurrSetpt'</span>  0  <span class="string">'5CY2    '</span> <span class="string">'05G-COR2V:Curr1'</span> <span class="string">'05G-COR2V:CurrSetpt'</span>  1   [5 ,2]  18 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0369  <span class="string">'5CX3    '</span> <span class="string">'05G-COR3H:Curr1'</span> <span class="string">'05G-COR3H:CurrSetpt'</span>  1  <span class="string">'5CY3    '</span> <span class="string">'05G-COR3V:Curr1'</span> <span class="string">'05G-COR3V:CurrSetpt'</span>  0   [5 ,3]  19 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0370  <span class="string">'5CX4    '</span> <span class="string">'05G-COR4H:Curr1'</span> <span class="string">'05G-COR4H:CurrSetpt'</span>  1  <span class="string">'5CY4    '</span> <span class="string">'05G-COR4V:Curr1'</span> <span class="string">'05G-COR4V:CurrSetpt'</span>  1   [5 ,4]  20 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0371  <span class="string">'6CX1    '</span> <span class="string">'06G-COR1H:Curr1'</span> <span class="string">'06G-COR1H:CurrSetpt'</span>  1  <span class="string">'6CY1    '</span> <span class="string">'06G-COR1V:Curr1'</span> <span class="string">'06G-COR1V:CurrSetpt'</span>  1   [6 ,1]  21 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0372  <span class="string">'6CX2    '</span> <span class="string">'06G-COR2H:Curr1'</span> <span class="string">'06G-COR2H:CurrSetpt'</span>  0  <span class="string">'6CY2    '</span> <span class="string">'06G-COR2V:Curr1'</span> <span class="string">'06G-COR2V:CurrSetpt'</span>  1   [6 ,2]  22 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0373  <span class="string">'6CX3    '</span> <span class="string">'06G-COR3H:Curr1'</span> <span class="string">'06G-COR3H:CurrSetpt'</span>  1  <span class="string">'6CY3    '</span> <span class="string">'06G-COR3V:Curr1'</span> <span class="string">'06G-COR3V:CurrSetpt'</span>  0   [6 ,3]  23 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0374  <span class="string">'6CX4    '</span> <span class="string">'06G-COR4H:Curr1'</span> <span class="string">'06G-COR4H:CurrSetpt'</span>  1  <span class="string">'6CY4    '</span> <span class="string">'06G-COR4V:Curr1'</span> <span class="string">'06G-COR4V:CurrSetpt'</span>  1   [6 ,4]  24 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0375  <span class="string">'7CX1    '</span> <span class="string">'07G-COR1H:Curr1'</span> <span class="string">'07G-COR1H:CurrSetpt'</span>  1  <span class="string">'7CY1    '</span> <span class="string">'07G-COR1V:Curr1'</span> <span class="string">'07G-COR1V:CurrSetpt'</span>  1   [7 ,1]  25 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0376  <span class="string">'7CX2    '</span> <span class="string">'07G-COR2H:Curr1'</span> <span class="string">'07G-COR2H:CurrSetpt'</span>  0  <span class="string">'7CY2    '</span> <span class="string">'07G-COR2V:Curr1'</span> <span class="string">'07G-COR2V:CurrSetpt'</span>  1   [7 ,2]  26 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0377  <span class="string">'7CX3    '</span> <span class="string">'07G-COR3H:Curr1'</span> <span class="string">'07G-COR3H:CurrSetpt'</span>  1  <span class="string">'7CY3    '</span> <span class="string">'07G-COR3V:Curr1'</span> <span class="string">'07G-COR3V:CurrSetpt'</span>  0   [7 ,3]  27 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0378  <span class="string">'7CX4    '</span> <span class="string">'07G-COR4H:Curr1'</span> <span class="string">'07G-COR4H:CurrSetpt'</span>  1  <span class="string">'7CY4    '</span> <span class="string">'07G-COR4V:Curr1'</span> <span class="string">'07G-COR4V:CurrSetpt'</span>  1   [7 ,4]  28 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0379  <span class="string">'8CX1    '</span> <span class="string">'08G-COR1H:Curr1'</span> <span class="string">'08G-COR1H:CurrSetpt'</span>  1  <span class="string">'8CY1    '</span> <span class="string">'08G-COR1V:Curr1'</span> <span class="string">'08G-COR1V:CurrSetpt'</span>  1   [8 ,1]  29 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0380  <span class="string">'8CX2    '</span> <span class="string">'08G-COR2H:Curr1'</span> <span class="string">'08G-COR2H:CurrSetpt'</span>  0  <span class="string">'8CY2    '</span> <span class="string">'08G-COR2V:Curr1'</span> <span class="string">'08G-COR2V:CurrSetpt'</span>  1   [8 ,2]  30 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0381  <span class="string">'8CX3    '</span> <span class="string">'08G-COR3H:Curr1'</span> <span class="string">'08G-COR3H:CurrSetpt'</span>  1  <span class="string">'8CY3    '</span> <span class="string">'08G-COR3V:Curr1'</span> <span class="string">'08G-COR3V:CurrSetpt'</span>  0   [8 ,3]  31 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0382  <span class="string">'8CX4    '</span> <span class="string">'08G-COR4H:Curr1'</span> <span class="string">'08G-COR4H:CurrSetpt'</span>  1  <span class="string">'8CY4    '</span> <span class="string">'08G-COR4V:Curr1'</span> <span class="string">'08G-COR4V:CurrSetpt'</span>  1   [8 ,4]  32 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0383  <span class="string">'9CX1    '</span> <span class="string">'09G-COR1H:Curr1'</span> <span class="string">'09G-COR1H:CurrSetpt'</span>  1  <span class="string">'9CY1    '</span> <span class="string">'09G-COR1V:Curr1'</span> <span class="string">'09G-COR1V:CurrSetpt'</span>  1   [9 ,1]  33 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0384  <span class="string">'9CX2    '</span> <span class="string">'09G-COR2H:Curr1'</span> <span class="string">'09G-COR2H:CurrSetpt'</span>  0  <span class="string">'9CY2    '</span> <span class="string">'09G-COR2V:Curr1'</span> <span class="string">'09G-COR2V:CurrSetpt'</span>  1   [9 ,2]  34 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0385  <span class="string">'9CX3    '</span> <span class="string">'09G-COR3H:Curr1'</span> <span class="string">'09G-COR3H:CurrSetpt'</span>  1  <span class="string">'9CY3    '</span> <span class="string">'09G-COR3V:Curr1'</span> <span class="string">'09G-COR3V:CurrSetpt'</span>  0   [9 ,3]  35 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0386  <span class="string">'9CX4    '</span> <span class="string">'09G-COR4H:Curr1'</span> <span class="string">'09G-COR4H:CurrSetpt'</span>  1  <span class="string">'9CY4    '</span> <span class="string">'09G-COR4V:Curr1'</span> <span class="string">'09G-COR4V:CurrSetpt'</span>  1   [9 ,4]  36 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain_noshield 0]  [1/HCMGain_noshield 0]  [VCMGain_noshield 0]  [1/VCMGain_noshield 0]; <span class="keyword">...</span>
0387  <span class="string">'10CX1   '</span> <span class="string">'10G-COR1H:Curr1'</span> <span class="string">'10G-COR1H:CurrSetpt'</span>  1  <span class="string">'10CY1   '</span> <span class="string">'10G-COR1V:Curr1'</span> <span class="string">'10G-COR1V:CurrSetpt'</span>  1   [10,1]  37 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain_noshield 0]  [1/HCMGain_noshield 0]  [VCMGain_noshield 0]  [1/VCMGain_noshield 0]; <span class="keyword">...</span>
0388  <span class="string">'10CX2   '</span> <span class="string">'10G-COR2H:Curr1'</span> <span class="string">'10G-COR2H:CurrSetpt'</span>  0  <span class="string">'10CY2   '</span> <span class="string">'10G-COR2V:Curr1'</span> <span class="string">'10G-COR2V:CurrSetpt'</span>  1   [10,2]  38 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0389  <span class="string">'10CX3   '</span> <span class="string">'10G-COR3H:Curr1'</span> <span class="string">'10G-COR3H:CurrSetpt'</span>  1  <span class="string">'10CY3   '</span> <span class="string">'10G-COR3V:Curr1'</span> <span class="string">'10G-COR3V:CurrSetpt'</span>  0   [10,3]  39 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0390  <span class="string">'10CX4   '</span> <span class="string">'10G-COR4H:Curr1'</span> <span class="string">'10G-COR4H:CurrSetpt'</span>  1  <span class="string">'10CY4   '</span> <span class="string">'10G-COR4V:Curr1'</span> <span class="string">'10G-COR4V:CurrSetpt'</span>  1   [10,4]  40 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0391  <span class="string">'11CX1   '</span> <span class="string">'11G-COR1H:Curr1'</span> <span class="string">'11G-COR1H:CurrSetpt'</span>  1  <span class="string">'11CY1   '</span> <span class="string">'11G-COR1V:Curr1'</span> <span class="string">'11G-COR1V:CurrSetpt'</span>  1   [11,1]  41 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0392  <span class="string">'11CX2   '</span> <span class="string">'11G-COR2H:Curr1'</span> <span class="string">'11G-COR2H:CurrSetpt'</span>  0  <span class="string">'11CY2   '</span> <span class="string">'11G-COR2V:Curr1'</span> <span class="string">'11G-COR2V:CurrSetpt'</span>  1   [11,2]  42 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0393  <span class="string">'11CX3   '</span> <span class="string">'11G-COR3H:Curr1'</span> <span class="string">'11G-COR3H:CurrSetpt'</span>  1  <span class="string">'11CY3   '</span> <span class="string">'11G-COR3V:Curr1'</span> <span class="string">'11G-COR3V:CurrSetpt'</span>  0   [11,3]  43 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0394  <span class="string">'11CX4   '</span> <span class="string">'11G-COR4H:Curr1'</span> <span class="string">'11G-COR4H:CurrSetpt'</span>  1  <span class="string">'11CY4   '</span> <span class="string">'11G-COR4V:Curr1'</span> <span class="string">'11G-COR4V:CurrSetpt'</span>  1   [11,4]  44 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0395  <span class="string">'12CX1   '</span> <span class="string">'12G-COR1H:Curr1'</span> <span class="string">'12G-COR1H:CurrSetpt'</span>  1  <span class="string">'12CY1   '</span> <span class="string">'12G-COR1V:Curr1'</span> <span class="string">'12G-COR1V:CurrSetpt'</span>  1   [12,1]  45 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0396  <span class="string">'12CX2   '</span> <span class="string">'12G-COR2H:Curr1'</span> <span class="string">'12G-COR2H:CurrSetpt'</span>  0  <span class="string">'12CY2   '</span> <span class="string">'12G-COR2V:Curr1'</span> <span class="string">'12G-COR2V:CurrSetpt'</span>  1   [12,2]  46 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0397  <span class="string">'12CX3   '</span> <span class="string">'12G-COR3H:Curr1'</span> <span class="string">'12G-COR3H:CurrSetpt'</span>  1  <span class="string">'12CY3   '</span> <span class="string">'12G-COR3V:Curr1'</span> <span class="string">'12G-COR3V:CurrSetpt'</span>  0   [12,3]  47 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0398  <span class="string">'12CX4   '</span> <span class="string">'12G-COR4H:Curr1'</span> <span class="string">'12G-COR4H:CurrSetpt'</span>  1  <span class="string">'12CY4   '</span> <span class="string">'12G-COR4V:Curr1'</span> <span class="string">'12G-COR4V:CurrSetpt'</span>  1   [12,4]  48 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0399  <span class="string">'13CX1   '</span> <span class="string">'13G-COR1H:Curr1'</span> <span class="string">'13G-COR1H:CurrSetpt'</span>  1  <span class="string">'13CY1   '</span> <span class="string">'13G-COR1V:Curr1'</span> <span class="string">'13G-COR1V:CurrSetpt'</span>  1   [13,1]  49 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0400  <span class="string">'13CX2   '</span> <span class="string">'13G-COR2H:Curr1'</span> <span class="string">'13G-COR2H:CurrSetpt'</span>  0  <span class="string">'13CY2   '</span> <span class="string">'13G-COR2V:Curr1'</span> <span class="string">'13G-COR2V:CurrSetpt'</span>  1   [13,2]  50 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0401  <span class="string">'13CX3   '</span> <span class="string">'13G-COR3H:Curr1'</span> <span class="string">'13G-COR3H:CurrSetpt'</span>  1  <span class="string">'13CY3   '</span> <span class="string">'13G-COR3V:Curr1'</span> <span class="string">'13G-COR3V:CurrSetpt'</span>  0   [13,3]  51 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0402  <span class="string">'13CX4   '</span> <span class="string">'13G-COR4H:Curr1'</span> <span class="string">'13G-COR4H:CurrSetpt'</span>  1  <span class="string">'13CY4   '</span> <span class="string">'13G-COR4V:Curr1'</span> <span class="string">'13G-COR4V:CurrSetpt'</span>  1   [13,4]  52 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0403  <span class="string">'14CX1   '</span> <span class="string">'14G-COR1H:Curr1'</span> <span class="string">'14G-COR1H:CurrSetpt'</span>  1  <span class="string">'14CY1   '</span> <span class="string">'14G-COR1V:Curr1'</span> <span class="string">'14G-COR1V:CurrSetpt'</span>  1   [14,1]  53 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0404  <span class="string">'14CX2   '</span> <span class="string">'14G-COR2H:Curr1'</span> <span class="string">'14G-COR2H:CurrSetpt'</span>  0  <span class="string">'14CY2   '</span> <span class="string">'14G-COR2V:Curr1'</span> <span class="string">'14G-COR2V:CurrSetpt'</span>  1   [14,2]  54 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0405  <span class="string">'14CX3   '</span> <span class="string">'14G-COR3H:Curr1'</span> <span class="string">'14G-COR3H:CurrSetpt'</span>  1  <span class="string">'14CY3   '</span> <span class="string">'14G-COR3V:Curr1'</span> <span class="string">'14G-COR3V:CurrSetpt'</span>  0   [14,3]  55 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0406  <span class="string">'14CX4   '</span> <span class="string">'14G-COR4H:Curr1'</span> <span class="string">'14G-COR4H:CurrSetpt'</span>  1  <span class="string">'14CY4   '</span> <span class="string">'14G-COR4V:Curr1'</span> <span class="string">'14G-COR4V:CurrSetpt'</span>  1   [14,4]  56 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0407  <span class="string">'15CX1   '</span> <span class="string">'15G-COR1H:Curr1'</span> <span class="string">'15G-COR1H:CurrSetpt'</span>  1  <span class="string">'15CY1   '</span> <span class="string">'15G-COR1V:Curr1'</span> <span class="string">'15G-COR1V:CurrSetpt'</span>  1   [15,1]  57 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0408  <span class="string">'15CX2   '</span> <span class="string">'15G-COR2H:Curr1'</span> <span class="string">'15G-COR2H:CurrSetpt'</span>  0  <span class="string">'15CY2   '</span> <span class="string">'15G-COR2V:Curr1'</span> <span class="string">'15G-COR2V:CurrSetpt'</span>  1   [15,2]  58 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0409  <span class="string">'15CX3   '</span> <span class="string">'15G-COR3H:Curr1'</span> <span class="string">'15G-COR3H:CurrSetpt'</span>  1  <span class="string">'15CY3   '</span> <span class="string">'15G-COR3V:Curr1'</span> <span class="string">'15G-COR3V:CurrSetpt'</span>  0   [15,3]  59 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0410  <span class="string">'15CX4   '</span> <span class="string">'15G-COR4H:Curr1'</span> <span class="string">'15G-COR4H:CurrSetpt'</span>  1  <span class="string">'15CY4   '</span> <span class="string">'15G-COR4V:Curr1'</span> <span class="string">'15G-COR4V:CurrSetpt'</span>  1   [15,4]  60 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0411  <span class="string">'16CX1   '</span> <span class="string">'16G-COR1H:Curr1'</span> <span class="string">'16G-COR1H:CurrSetpt'</span>  1  <span class="string">'16CY1   '</span> <span class="string">'16G-COR1V:Curr1'</span> <span class="string">'16G-COR1V:CurrSetpt'</span>  1   [16,1]  61 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0412  <span class="string">'16CX2   '</span> <span class="string">'16G-COR2H:Curr1'</span> <span class="string">'16G-COR2H:CurrSetpt'</span>  0  <span class="string">'16CY2   '</span> <span class="string">'16G-COR2V:Curr1'</span> <span class="string">'16G-COR2V:CurrSetpt'</span>  1   [16,2]  62 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0413  <span class="string">'16CX3   '</span> <span class="string">'16G-COR3H:Curr1'</span> <span class="string">'16G-COR3H:CurrSetpt'</span>  1  <span class="string">'16CY3   '</span> <span class="string">'16G-COR3V:Curr1'</span> <span class="string">'16G-COR3V:CurrSetpt'</span>  0   [16,3]  63 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0414  <span class="string">'16CX4   '</span> <span class="string">'16G-COR4H:Curr1'</span> <span class="string">'16G-COR4H:CurrSetpt'</span>  1  <span class="string">'16CY4   '</span> <span class="string">'16G-COR4V:Curr1'</span> <span class="string">'16G-COR4V:CurrSetpt'</span>  1   [16,4]  64 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0415  <span class="string">'17CX1   '</span> <span class="string">'17G-COR1H:Curr1'</span> <span class="string">'17G-COR1H:CurrSetpt'</span>  1  <span class="string">'17CY1   '</span> <span class="string">'17G-COR1V:Curr1'</span> <span class="string">'17G-COR1V:CurrSetpt'</span>  1   [17,1]  65 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0416  <span class="string">'17CX2   '</span> <span class="string">'17G-COR2H:Curr1'</span> <span class="string">'17G-COR2H:CurrSetpt'</span>  0  <span class="string">'17CY2   '</span> <span class="string">'17G-COR2V:Curr1'</span> <span class="string">'17G-COR2V:CurrSetpt'</span>  1   [17,2]  66 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0417  <span class="string">'17CX3   '</span> <span class="string">'17G-COR3H:Curr1'</span> <span class="string">'17G-COR3H:CurrSetpt'</span>  1  <span class="string">'17CY3   '</span> <span class="string">'17G-COR3V:Curr1'</span> <span class="string">'17G-COR3V:CurrSetpt'</span>  0   [17,3]  67 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0418  <span class="string">'17CX4   '</span> <span class="string">'17G-COR4H:Curr1'</span> <span class="string">'17G-COR4H:CurrSetpt'</span>  1  <span class="string">'17CY4   '</span> <span class="string">'17G-COR4V:Curr1'</span> <span class="string">'17G-COR4V:CurrSetpt'</span>  1   [17,4]  68 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0419  <span class="string">'18CX1   '</span> <span class="string">'18G-COR1H:Curr1'</span> <span class="string">'18G-COR1H:CurrSetpt'</span>  1  <span class="string">'18CY1   '</span> <span class="string">'18G-COR1V:Curr1'</span> <span class="string">'18G-COR1V:CurrSetpt'</span>  1   [18,1]  69 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0420  <span class="string">'18CX2   '</span> <span class="string">'18G-COR2H:Curr1'</span> <span class="string">'18G-COR2H:CurrSetpt'</span>  0  <span class="string">'18CY2   '</span> <span class="string">'18G-COR2V:Curr1'</span> <span class="string">'18G-COR2V:CurrSetpt'</span>  1   [18,2]  70 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0421  <span class="string">'18CX3   '</span> <span class="string">'18G-COR3H:Curr1'</span> <span class="string">'18G-COR3H:CurrSetpt'</span>  1  <span class="string">'18CY3   '</span> <span class="string">'18G-COR3V:Curr1'</span> <span class="string">'18G-COR3V:CurrSetpt'</span>  0   [18,3]  71 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain 0]  [1/HCMGain 0]  [VCMGain 0]  [1/VCMGain 0]; <span class="keyword">...</span>
0422  <span class="string">'18CX4   '</span> <span class="string">'18G-COR4H:Curr1'</span> <span class="string">'18G-COR4H:CurrSetpt'</span>  1  <span class="string">'18CY4   '</span> <span class="string">'18G-COR4V:Curr1'</span> <span class="string">'18G-COR4V:CurrSetpt'</span>  1   [18,4]  72 [-30.0 +30.0]  0.101  1.5e-4    1.5e-4    0.5e-4  [HCMGain_noshield 0]  [1/HCMGain_noshield 0]  [VCMGain_noshield 0]  [1/VCMGain_noshield 0]; <span class="keyword">...</span>
0423 };
0424 
0425 
0426 <span class="comment">%Load fields from datablock</span>
0427 <span class="comment">% AT use the &quot;A-coefficients&quot; for correctors plus an offset</span>
0428 [C, Leff, MagnetType, HCMcoefficients] = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'HCM'</span>);
0429 HCMcoefficients = [HCMcoefficients 0];
0430 [C, Leff, MagnetType, VCMcoefficients] = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'VCM'</span>);
0431 VCMcoefficients = [VCMcoefficients 0];
0432 
0433 <span class="keyword">for</span> ii=1:size(cor,1)
0434 name=cor{ii,1};     AO{3}.CommonNames(ii,:)           = name;            
0435 name=cor{ii,3};     AO{3}.Setpoint.ChannelNames(ii,:) = name;     
0436 name=cor{ii,2};     AO{3}.Monitor.ChannelNames(ii,:)  = name;
0437 val =cor{ii,4};     AO{3}.Status(ii,1)                = val;
0438 
0439 name=cor{ii,5};     AO{4}.CommonNames(ii,:)           = name;            
0440 name=cor{ii,7};     AO{4}.Setpoint.ChannelNames(ii,:) = name;     
0441 name=cor{ii,6};     AO{4}.Monitor.ChannelNames(ii,:)  = name;
0442 val =cor{ii,8};     AO{4}.Status(ii,1)                = val;
0443 
0444 val =cor{ii,9};     AO{3}.DeviceList(ii,:)            = val;
0445                     AO{4}.DeviceList(ii,:)            = val;
0446 val =cor{ii,10};    AO{3}.ElementList(ii,1)           = val;
0447                     AO{4}.ElementList(ii,1)           = val;
0448 val =cor{ii,11};    AO{3}.Setpoint.Range(ii,:)        = val;
0449                     AO{4}.Setpoint.Range(ii,:)        = val;
0450 val =cor{ii,12};    AO{3}.Setpoint.Tolerance(ii,1)    = val;
0451                     AO{4}.Setpoint.Tolerance(ii,1)    = val;
0452 val =cor{ii,13};    AO{3}.Setpoint.DeltaRespMat(ii,1) = val;
0453 val =cor{ii,14};    AO{4}.Setpoint.DeltaRespMat(ii,1) = val;
0454 val =cor{ii,15};    AO{4}.Setpoint.PhotResp(ii,1)     = val;
0455 
0456 AO{3}.Monitor.HW2PhysicsParams{1}(ii,:)  = HCMcoefficients;          
0457 AO{3}.Monitor.Physics2HWParams{1}(ii,:)  = HCMcoefficients;
0458 AO{3}.Setpoint.HW2PhysicsParams{1}(ii,:) = HCMcoefficients;          
0459 AO{3}.Setpoint.Physics2HWParams{1}(ii,:) = HCMcoefficients;
0460 
0461 AO{4}.Monitor.HW2PhysicsParams{1}(ii,:)  = VCMcoefficients;          
0462 AO{4}.Monitor.Physics2HWParams{1}(ii,:)  = VCMcoefficients;
0463 AO{4}.Setpoint.HW2PhysicsParams{1}(ii,:) = VCMcoefficients;          
0464 AO{4}.Setpoint.Physics2HWParams{1}(ii,:) = VCMcoefficients;
0465 
0466 <span class="keyword">end</span>
0467 
0468 AO{3}.Status=AO{3}.Status(:);
0469 AO{4}.Status=AO{4}.Status(:);
0470 
0471 
0472 ifam=4;
0473 
0474 <span class="comment">%============================================================</span>
0475 <span class="comment">%CurrReference: Insertion Device Correctors for 'Restore' function</span>
0476 <span class="comment">%This only happens on beam lines that use SPEAR 3 correctors</span>
0477 <span class="comment">%in addition to or in place of ID trims</span>
0478 <span class="comment">%03/15/06 WJC BL 5 horizontal and vertical trims only</span>
0479 <span class="comment">%============================================================</span>
0480 <span class="comment">%HCMCurrReference</span>
0481 ifam=ifam+1;
0482 AO{ifam}.FamilyName               = <span class="string">'HCMCurrReference'</span>;
0483 AO{ifam}.FamilyType               = <span class="string">'CorrectorReference'</span>;
0484 AO{ifam}.MemberOf                 = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>};
0485 
0486 AO{ifam}.Monitor.Mode             = Mode;
0487 AO{ifam}.Monitor.DataType         = <span class="string">'Scalar'</span>;
0488 AO{ifam}.Monitor.Units            = <span class="string">'Hardware'</span>;
0489 AO{ifam}.Monitor.HWUnits          = <span class="string">'ampere'</span>;           
0490 AO{ifam}.Monitor.PhysicsUnits     = <span class="string">'radian'</span>;
0491 
0492 cor={
0493 <span class="string">'BL5_12_3CRH'</span> <span class="string">'12G-COR3H:CurrReference'</span> 1  [12,3] 47
0494 <span class="string">'BL5_12_4CRH'</span> <span class="string">'12G-COR4H:CurrReference'</span> 1  [12,4] 48
0495 <span class="string">'BL5_13_1CRH'</span> <span class="string">'13G-COR1H:CurrReference'</span> 1  [13,1] 49
0496 <span class="string">'BL5_13_3CRH'</span> <span class="string">'13G-COR3H:CurrReference'</span> 1  [13,3] 51
0497 };
0498 
0499 
0500 <span class="keyword">for</span> ii=1:size(cor,1)
0501 name=cor{ii,1};     AO{ifam}.CommonNames(ii,:)           = name;            
0502 name=cor{ii,2};     AO{ifam}.Monitor.ChannelNames(ii,:)  = name;     
0503 val =cor{ii,3};     AO{ifam}.Status(ii,1)                = val;
0504 val =cor{ii,4};     AO{ifam}.DeviceList(ii,:)            = val;
0505 val =cor{ii,5};     AO{ifam}.ElementList(ii,1)           = val;
0506 AO{ifam}.Monitor.HW2PhysicsParams(ii,:)  = [1 0];          
0507 AO{ifam}.Monitor.Physics2HWParams(ii,:)  = [1 0];
0508 <span class="keyword">end</span>
0509 
0510 ifam=ifam+1;
0511 AO{ifam}.FamilyName               = <span class="string">'VCMCurrReference'</span>;
0512 AO{ifam}.FamilyType               = <span class="string">'CorrectorReference'</span>;
0513 AO{ifam}.MemberOf                 = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>};
0514 
0515 AO{ifam}.Monitor.Mode             = Mode;
0516 AO{ifam}.Monitor.DataType         = <span class="string">'Scalar'</span>;
0517 AO{ifam}.Monitor.Units            = <span class="string">'Hardware'</span>;
0518 AO{ifam}.Monitor.HWUnits          = <span class="string">'ampere'</span>;           
0519 AO{ifam}.Monitor.PhysicsUnits     = <span class="string">'radian'</span>;
0520 
0521 cor={
0522 <span class="string">'BL5_12_2CRV'</span> <span class="string">'12G-COR2V:CurrReference'</span> 1  [12,2] 46
0523 <span class="string">'BL5_12_4CRV'</span> <span class="string">'12G-COR4V:CurrReference'</span> 1  [12,4] 48
0524 <span class="string">'BL5_13_1CRV'</span> <span class="string">'13G-COR1V:CurrReference'</span> 1  [13,1] 49
0525 <span class="string">'BL5_13_2CRV'</span> <span class="string">'13G-COR2V:CurrReference'</span> 1  [13,2] 50
0526 };
0527 
0528 <span class="keyword">for</span> ii=1:size(cor,1)
0529 name=cor{ii,1};     AO{ifam}.CommonNames(ii,:)           = name;            
0530 name=cor{ii,2};     AO{ifam}.Monitor.ChannelNames(ii,:)  = name;   
0531 val =cor{ii,3};     AO{ifam}.Status(ii,1)                = val;
0532 val =cor{ii,4};     AO{ifam}.DeviceList(ii,:)            = val;
0533 val =cor{ii,5};     AO{ifam}.ElementList(ii,1)           = val;
0534 AO{ifam}.Monitor.HW2PhysicsParams(ii,:)  = [1 0];          
0535 AO{ifam}.Monitor.Physics2HWParams(ii,:)  = [1 0];
0536 <span class="keyword">end</span>
0537 
0538 <span class="comment">%======================</span>
0539 <span class="comment">%Insertion Device Trims</span>
0540 <span class="comment">%======================</span>
0541 ifam=ifam+1;
0542 AO{ifam}.FamilyName               = <span class="string">'IDTrim'</span>;
0543 AO{ifam}.FamilyType               = <span class="string">'IDTrim'</span>;
0544 AO{ifam}.MemberOf                 = {<span class="string">'PlotFamily'</span>};
0545 
0546 AO{ifam}.Monitor.Mode             = Mode;
0547 AO{ifam}.Monitor.DataType         = <span class="string">'Scalar'</span>;
0548 AO{ifam}.Monitor.Units            = <span class="string">'Hardware'</span>;
0549 AO{ifam}.Monitor.HWUnits          = <span class="string">'ampere'</span>;           
0550 AO{ifam}.Monitor.PhysicsUnits     = <span class="string">'radian'</span>;
0551 
0552 <span class="comment">%note: Field SetpointName is used instead of Setpoint to avoid triggering get/set machineconfig</span>
0553 AO{ifam}.SetpointName.Mode        = Mode;
0554 AO{ifam}.SetpointName.DataType    = <span class="string">'Scalar'</span>;
0555 AO{ifam}.SetpointName.Units       = <span class="string">'Hardware'</span>;
0556 AO{ifam}.SetpointName.HWUnits     = <span class="string">'ampere'</span>;           
0557 AO{ifam}.SetpointName.PhysicsUnits= <span class="string">'radian'</span>;
0558 
0559 AO{ifam}.CurrRef.Mode            = Mode;
0560 AO{ifam}.CurrRef.DataType        = <span class="string">'Scalar'</span>;
0561 AO{ifam}.CurrRef.Units           = <span class="string">'Hardware'</span>;
0562 AO{ifam}.CurrRef.HWUnits         = <span class="string">'ampere'</span>;           
0563 AO{ifam}.CurrRef.PhysicsUnits    = <span class="string">'radian'</span>;
0564 
0565 <span class="comment">% 'ID07_TH '  '05S-ID7TH:Curr1  '    '05S-ID7TH:CurrSetpt  '  '05S-ID7TH:CurrReference  '      1  [5,1]   1</span>
0566 <span class="comment">% 'ID07_TO '  '05S-ID7TO:Curr1  '    '05S-ID7TO:CurrSetpt  '  '05S-ID7TO:CurrReference  '      1  [5,2]   2</span>
0567 <span class="comment">% 'ID07_TV '  '05S-ID7TV:Curr1  '    '05S-ID7TV:CurrSetpt  '  '05S-ID7TV:CurrReference  '      1  [5,3]   3</span>
0568 
0569 idtrim={
0570 <span class="string">'ID10_TH1'</span>  <span class="string">'06S-ID10TH1:Curr1'</span>    <span class="string">'06S-ID10TH1:CurrSetpt'</span>  <span class="string">'06S-ID10TH1:CurrReference'</span>      1  [6,1]   1
0571 <span class="string">'ID10_TH2'</span>  <span class="string">'06S-ID10TH2:Curr1'</span>    <span class="string">'06S-ID10TH2:CurrSetpt'</span>  <span class="string">'06S-ID10TH2:CurrReference'</span>      1  [6,2]   2
0572 <span class="string">'ID09_TH '</span>  <span class="string">'07S-ID9TH:Curr1  '</span>    <span class="string">'07S-ID9TH:CurrSetpt  '</span>  <span class="string">'07S-ID9TH:CurrReference  '</span>      1  [7,1]   3
0573 <span class="string">'ID06_TH '</span>  <span class="string">'11S-ID6TH:Curr1  '</span>    <span class="string">'11S-ID6TH:CurrSetpt  '</span>  <span class="string">'11S-ID6TH:CurrReference  '</span>      1  [11,1]  4
0574 <span class="string">'ID04_TH '</span>  <span class="string">'13S-ID4TH:Curr1  '</span>    <span class="string">'13S-ID4TH:CurrSetpt  '</span>  <span class="string">'13S-ID4TH:CurrReference  '</span>      1  [13,2]  5
0575 <span class="string">'ID04_TV '</span>  <span class="string">'13S-ID4TV:Curr1  '</span>    <span class="string">'13S-ID4TV:CurrSetpt  '</span>  <span class="string">'13S-ID4TV:CurrReference  '</span>      1  [13,2]  6
0576 <span class="string">'ID11_TH '</span>  <span class="string">'15S-ID11TH:Curr1 '</span>    <span class="string">'15S-ID11TH:CurrSetpt '</span>  <span class="string">'15S-ID11TH:CurrReference '</span>      1  [15,1]  7
0577 <span class="string">'ID11_TV '</span>  <span class="string">'15S-ID11TV:Curr1 '</span>    <span class="string">'15S-ID11TV:CurrSetpt '</span>  <span class="string">'15S-ID11TV:CurrReference '</span>      1  [15,2]  8
0578 };
0579 
0580 <span class="keyword">for</span> ii=1:size(idtrim,1)
0581 name=idtrim{ii,1};     AO{ifam}.CommonNames(ii,:)           = name;            
0582 name=idtrim{ii,2};     AO{ifam}.Monitor.ChannelNames(ii,:)  = name;     
0583 name=idtrim{ii,3};     AO{ifam}.SetpointName.ChannelNames(ii,:) = name;     
0584 name=idtrim{ii,4};     AO{ifam}.CurrRef.ChannelNames(ii,:)  = name;     
0585 val =idtrim{ii,5};     AO{ifam}.Status(ii,1)                = val;
0586 val =idtrim{ii,6};     AO{ifam}.DeviceList(ii,:)            = val;
0587 val =idtrim{ii,7};     AO{ifam}.ElementList(ii,1)           = val;
0588 AO{ifam}.Monitor.HW2PhysicsParams(ii,:) = [1 0];          
0589 AO{ifam}.Monitor.Physics2HWParams(ii,:) = [1 0];
0590 AO{ifam}.CurrRef.HW2PhysicsParams(ii,:) = [1 0];          
0591 AO{ifam}.CurrRef.Physics2HWParams(ii,:) = [1 0];
0592 <span class="keyword">end</span>
0593 
0594 <span class="comment">%====================</span>
0595 <span class="comment">%Skew Quadrupole data</span>
0596 <span class="comment">%====================</span>
0597 <span class="comment">%load Setpoints</span>
0598 ifam=ifam+1;
0599 AO{ifam}.FamilyName               = <span class="string">'SkewQuad'</span>;
0600 AO{ifam}.FamilyType               = <span class="string">'SkewQuad'</span>;
0601 AO{ifam}.MemberOf                 = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'COR'</span>; <span class="string">'Magnet'</span>; <span class="string">'SkewQuad'</span>;  <span class="string">'MCOR'</span>;};
0602 
0603 HW2Physics=1.0;
0604 AO{ifam}.Monitor.Mode             = Mode;
0605 AO{ifam}.Monitor.DataType         = <span class="string">'Scalar'</span>;
0606 AO{ifam}.Monitor.Units            = <span class="string">'Hardware'</span>;
0607 AO{ifam}.Monitor.HWUnits          = <span class="string">'ampere'</span>;           
0608 AO{ifam}.Monitor.PhysicsUnits     = <span class="string">'meter^-2'</span>;
0609 
0610 AO{ifam}.Setpoint.Mode            = Mode;
0611 AO{ifam}.Setpoint.DataType        = <span class="string">'Scalar'</span>;
0612 AO{ifam}.Setpoint.Units           = <span class="string">'Hardware'</span>;
0613 AO{ifam}.Setpoint.HWUnits         = <span class="string">'ampere'</span>;           
0614 AO{ifam}.Setpoint.PhysicsUnits    = <span class="string">'meter^-2'</span>;
0615 AO{ifam}.Setpoint.Tolerance       = 1.0;
0616 <span class="comment">%ActiveSubset = [4 7 11 19 26 30 33 40 43 47 54 62 66 69];  %symmetric CW or CCW</span>
0617 <span class="comment">%                                                                                                        delta-k</span>
0618 <span class="comment">%common         monitor               setpoint         stat devlist elem  scalefactor    range     tol  respkick</span>
0619 sq={
0620  <span class="string">'1SQ1    '</span>    <span class="string">'01G-QSS1:Curr1'</span> <span class="string">'01G-QSS1:CurrSetpt'</span>    0   [1 ,1]   1        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0621  <span class="string">'1SQ2    '</span>    <span class="string">'01G-QSS2:Curr1'</span> <span class="string">'01G-QSS2:CurrSetpt'</span>    0   [1 ,2]   2        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0622  <span class="string">'1SQ3    '</span>    <span class="string">'01G-QSS3:Curr1'</span> <span class="string">'01G-QSS3:CurrSetpt'</span>    0   [1 ,3]   3        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0623  <span class="string">'1SQ4    '</span>    <span class="string">'01G-QSS4:Curr1'</span> <span class="string">'01G-QSS4:CurrSetpt'</span>    1   [1 ,4]   4        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0624  <span class="string">'2SQ1    '</span>    <span class="string">'02G-QSS1:Curr1'</span> <span class="string">'02G-QSS1:CurrSetpt'</span>    0   [2 ,1]   5        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0625  <span class="string">'2SQ2    '</span>    <span class="string">'02G-QSS2:Curr1'</span> <span class="string">'02G-QSS2:CurrSetpt'</span>    0   [2 ,2]   6        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0626  <span class="string">'2SQ3    '</span>    <span class="string">'02G-QSS3:Curr1'</span> <span class="string">'02G-QSS3:CurrSetpt'</span>    1   [2 ,3]   7        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0627  <span class="string">'2SQ4    '</span>    <span class="string">'02G-QSS4:Curr1'</span> <span class="string">'02G-QSS4:CurrSetpt'</span>    0   [2 ,4]   8        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0628  <span class="string">'3SQ1    '</span>    <span class="string">'03G-QSS1:Curr1'</span> <span class="string">'03G-QSS1:CurrSetpt'</span>    0   [3 ,1]   9        1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0629  <span class="string">'3SQ2    '</span>    <span class="string">'03G-QSS2:Curr1'</span> <span class="string">'03G-QSS2:CurrSetpt'</span>    0   [3 ,2]   10       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0630  <span class="string">'3SQ3    '</span>    <span class="string">'03G-QSS3:Curr1'</span> <span class="string">'03G-QSS3:CurrSetpt'</span>    1   [3 ,3]   11       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0631  <span class="string">'3SQ4    '</span>    <span class="string">'03G-QSS4:Curr1'</span> <span class="string">'03G-QSS4:CurrSetpt'</span>    0   [3 ,4]   12       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0632  <span class="string">'4SQ1    '</span>    <span class="string">'04G-QSS1:Curr1'</span> <span class="string">'04G-QSS1:CurrSetpt'</span>    0   [4 ,1]   13       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0633  <span class="string">'4SQ2    '</span>    <span class="string">'04G-QSS2:Curr1'</span> <span class="string">'04G-QSS2:CurrSetpt'</span>    0   [4 ,2]   14       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0634  <span class="string">'4SQ3    '</span>    <span class="string">'04G-QSS3:Curr1'</span> <span class="string">'04G-QSS3:CurrSetpt'</span>    0   [4 ,3]   15       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0635  <span class="string">'4SQ4    '</span>    <span class="string">'04G-QSS4:Curr1'</span> <span class="string">'04G-QSS4:CurrSetpt'</span>    0   [4 ,4]   16       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0636  <span class="string">'5SQ1    '</span>    <span class="string">'05G-QSS1:Curr1'</span> <span class="string">'05G-QSS1:CurrSetpt'</span>    0   [5 ,1]   17       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0637  <span class="string">'5SQ2    '</span>    <span class="string">'05G-QSS2:Curr1'</span> <span class="string">'05G-QSS2:CurrSetpt'</span>    0   [5 ,2]   18       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0638  <span class="string">'5SQ3    '</span>    <span class="string">'05G-QSS3:Curr1'</span> <span class="string">'05G-QSS3:CurrSetpt'</span>    1   [5 ,3]   19       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0639  <span class="string">'5SQ4    '</span>    <span class="string">'05G-QSS4:Curr1'</span> <span class="string">'05G-QSS4:CurrSetpt'</span>    0   [5 ,4]   20       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0640  <span class="string">'6SQ1    '</span>    <span class="string">'06G-QSS1:Curr1'</span> <span class="string">'06G-QSS1:CurrSetpt'</span>    0   [6 ,1]   21       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0641  <span class="string">'6SQ2    '</span>    <span class="string">'06G-QSS2:Curr1'</span> <span class="string">'06G-QSS2:CurrSetpt'</span>    0   [6 ,2]   22       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0642  <span class="string">'6SQ3    '</span>    <span class="string">'06G-QSS3:Curr1'</span> <span class="string">'06G-QSS3:CurrSetpt'</span>    0   [6 ,3]   23       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0643  <span class="string">'6SQ4    '</span>    <span class="string">'06G-QSS4:Curr1'</span> <span class="string">'06G-QSS4:CurrSetpt'</span>    0   [6 ,4]   24       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0644  <span class="string">'7SQ1    '</span>    <span class="string">'07G-QSS1:Curr1'</span> <span class="string">'07G-QSS1:CurrSetpt'</span>    0   [7 ,1]   25       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0645  <span class="string">'7SQ2    '</span>    <span class="string">'07G-QSS2:Curr1'</span> <span class="string">'07G-QSS2:CurrSetpt'</span>    1   [7 ,2]   26       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0646  <span class="string">'7SQ3    '</span>    <span class="string">'07G-QSS3:Curr1'</span> <span class="string">'07G-QSS3:CurrSetpt'</span>    0   [7 ,3]   27       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0647  <span class="string">'7SQ4    '</span>    <span class="string">'07G-QSS4:Curr1'</span> <span class="string">'07G-QSS4:CurrSetpt'</span>    0   [7 ,4]   28       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0648  <span class="string">'8SQ1    '</span>    <span class="string">'08G-QSS1:Curr1'</span> <span class="string">'08G-QSS1:CurrSetpt'</span>    0   [8 ,1]   29       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0649  <span class="string">'8SQ2    '</span>    <span class="string">'08G-QSS2:Curr1'</span> <span class="string">'08G-QSS2:CurrSetpt'</span>    1   [8 ,2]   30       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0650  <span class="string">'8SQ3    '</span>    <span class="string">'08G-QSS3:Curr1'</span> <span class="string">'08G-QSS3:CurrSetpt'</span>    0   [8 ,3]   31       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0651  <span class="string">'8SQ4    '</span>    <span class="string">'08G-QSS4:Curr1'</span> <span class="string">'08G-QSS4:CurrSetpt'</span>    0   [8 ,4]   32       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0652  <span class="string">'9SQ1    '</span>    <span class="string">'09G-QSS1:Curr1'</span> <span class="string">'09G-QSS1:CurrSetpt'</span>    1   [9 ,1]   33       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0653  <span class="string">'9SQ2    '</span>    <span class="string">'09G-QSS2:Curr1'</span> <span class="string">'09G-QSS2:CurrSetpt'</span>    0   [9 ,2]   34       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0654  <span class="string">'9SQ3    '</span>    <span class="string">'09G-QSS3:Curr1'</span> <span class="string">'09G-QSS3:CurrSetpt'</span>    0   [9 ,3]   35       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0655  <span class="string">'9SQ4    '</span>    <span class="string">'09G-QSS4:Curr1'</span> <span class="string">'09G-QSS4:CurrSetpt'</span>    0   [9 ,4]   36       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0656  <span class="string">'10SQ1   '</span>    <span class="string">'10G-QSS1:Curr1'</span> <span class="string">'10G-QSS1:CurrSetpt'</span>    0   [10,1]   37       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0657  <span class="string">'10SQ2   '</span>    <span class="string">'10G-QSS2:Curr1'</span> <span class="string">'10G-QSS2:CurrSetpt'</span>    0   [10,2]   38       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0658  <span class="string">'10SQ3   '</span>    <span class="string">'10G-QSS3:Curr1'</span> <span class="string">'10G-QSS3:CurrSetpt'</span>    0   [10,3]   39       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0659  <span class="string">'10SQ4   '</span>    <span class="string">'10G-QSS4:Curr1'</span> <span class="string">'10G-QSS4:CurrSetpt'</span>    1   [10,4]   40       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0660  <span class="string">'11SQ1   '</span>    <span class="string">'11G-QSS1:Curr1'</span> <span class="string">'11G-QSS1:CurrSetpt'</span>    0   [11,1]   41       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0661  <span class="string">'11SQ2   '</span>    <span class="string">'11G-QSS2:Curr1'</span> <span class="string">'11G-QSS1:CurrSetpt'</span>    0   [11,2]   42       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0662  <span class="string">'11SQ3   '</span>    <span class="string">'11G-QSS3:Curr1'</span> <span class="string">'11G-QSS3:CurrSetpt'</span>    1   [11,3]   43       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0663  <span class="string">'11SQ4   '</span>    <span class="string">'11G-QSS4:Curr1'</span> <span class="string">'11G-QSS4:CurrSetpt'</span>    0   [11,4]   44       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0664  <span class="string">'12SQ1   '</span>    <span class="string">'12G-QSS1:Curr1'</span> <span class="string">'12G-QSS1:CurrSetpt'</span>    0   [12,1]   45       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0665  <span class="string">'12SQ2   '</span>    <span class="string">'12G-QSS2:Curr1'</span> <span class="string">'12G-QSS2:CurrSetpt'</span>    0   [12,2]   46       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0666  <span class="string">'12SQ3   '</span>    <span class="string">'12G-QSS3:Curr1'</span> <span class="string">'12G-QSS3:CurrSetpt'</span>    1   [12,3]   47       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0667  <span class="string">'12SQ4   '</span>    <span class="string">'12G-QSS4:Curr1'</span> <span class="string">'12G-QSS4:CurrSetpt'</span>    0   [12,4]   48       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0668  <span class="string">'13SQ1   '</span>    <span class="string">'13G-QSS1:Curr1'</span> <span class="string">'13G-QSS1:CurrSetpt'</span>    0   [13,1]   49       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0669  <span class="string">'13SQ2   '</span>    <span class="string">'13G-QSS2:Curr1'</span> <span class="string">'13G-QSS2:CurrSetpt'</span>    0   [13,2]   50       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0670  <span class="string">'13SQ3   '</span>    <span class="string">'13G-QSS3:Curr1'</span> <span class="string">'13G-QSS3:CurrSetpt'</span>    0   [13,3]   51       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0671  <span class="string">'13SQ4   '</span>    <span class="string">'13G-QSS4:Curr1'</span> <span class="string">'13G-QSS4:CurrSetpt'</span>    0   [13,4]   52       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0672  <span class="string">'14SQ1   '</span>    <span class="string">'14G-QSS1:Curr1'</span> <span class="string">'14G-QSS1:CurrSetpt'</span>    0   [14,1]   53       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0673  <span class="string">'14SQ2   '</span>    <span class="string">'14G-QSS2:Curr1'</span> <span class="string">'14G-QSS2:CurrSetpt'</span>    1   [14,2]   54       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0674  <span class="string">'14SQ3   '</span>    <span class="string">'14G-QSS3:Curr1'</span> <span class="string">'14G-QSS3:CurrSetpt'</span>    0   [14,3]   55       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0675  <span class="string">'14SQ4   '</span>    <span class="string">'14G-QSS4:Curr1'</span> <span class="string">'14G-QSS4:CurrSetpt'</span>    0   [14,4]   56       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0676  <span class="string">'15SQ1   '</span>    <span class="string">'15G-QSS1:Curr1'</span> <span class="string">'15G-QSS1:CurrSetpt'</span>    0   [15,1]   57       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0677  <span class="string">'15SQ2   '</span>    <span class="string">'15G-QSS2:Curr1'</span> <span class="string">'15G-QSS2:CurrSetpt'</span>    0   [15,2]   58       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0678  <span class="string">'15SQ3   '</span>    <span class="string">'15G-QSS3:Curr1'</span> <span class="string">'15G-QSS3:CurrSetpt'</span>    0   [15,3]   59       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0679  <span class="string">'15SQ4   '</span>    <span class="string">'15G-QSS4:Curr1'</span> <span class="string">'15G-QSS4:CurrSetpt'</span>    0   [15,4]   60       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0680  <span class="string">'16SQ1   '</span>    <span class="string">'16G-QSS1:Curr1'</span> <span class="string">'16G-QSS1:CurrSetpt'</span>    0   [16,1]   61       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0681  <span class="string">'16SQ2   '</span>    <span class="string">'16G-QSS2:Curr1'</span> <span class="string">'16G-QSS2:CurrSetpt'</span>    1   [16,2]   62       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0682  <span class="string">'16SQ3   '</span>    <span class="string">'16G-QSS3:Curr1'</span> <span class="string">'16G-QSS3:CurrSetpt'</span>    0   [16,3]   63       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0683  <span class="string">'16SQ4   '</span>    <span class="string">'16G-QSS4:Curr1'</span> <span class="string">'16G-QSS4:CurrSetpt'</span>    0   [16,4]   64       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0684  <span class="string">'17SQ1   '</span>    <span class="string">'17G-QSS1:Curr1'</span> <span class="string">'17G-QSS1:CurrSetpt'</span>    0   [17,1]   65       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0685  <span class="string">'17SQ2   '</span>    <span class="string">'17G-QSS2:Curr1'</span> <span class="string">'17G-QSS2:CurrSetpt'</span>    1   [17,2]   66       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0686  <span class="string">'17SQ3   '</span>    <span class="string">'17G-QSS3:Curr1'</span> <span class="string">'17G-QSS3:CurrSetpt'</span>    0   [17,3]   67       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0687  <span class="string">'17SQ4   '</span>    <span class="string">'17G-QSS4:Curr1'</span> <span class="string">'17G-QSS4:CurrSetpt'</span>    0   [17,4]   68       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0688  <span class="string">'18SQ1   '</span>    <span class="string">'18G-QSS1:Curr1'</span> <span class="string">'18G-QSS1:CurrSetpt'</span>    1   [18,1]   69       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0689  <span class="string">'18SQ2   '</span>    <span class="string">'18G-QSS2:Curr1'</span> <span class="string">'18G-QSS2:CurrSetpt'</span>    0   [18,2]   70       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0690  <span class="string">'18SQ3   '</span>    <span class="string">'18G-QSS3:Curr1'</span> <span class="string">'18G-QSS3:CurrSetpt'</span>    0   [18,3]   71       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0691  <span class="string">'18SQ4   '</span>    <span class="string">'18G-QSS4:Curr1'</span> <span class="string">'18G-QSS4:CurrSetpt'</span>    0   [18,4]   72       1.0     [-30 , 30]   0.25    0.01; <span class="keyword">...</span>
0692 }; 
0693 
0694 <span class="keyword">for</span> ii=1:size(sq,1)
0695 name=sq{ii,1};      AO{ifam}.CommonNames(ii,:)           = name;            
0696 name=sq{ii,2};      AO{ifam}.Monitor.ChannelNames(ii,:)  = name;     
0697 name=sq{ii,3};      AO{ifam}.Setpoint.ChannelNames(ii,:) = name;
0698 val =sq{ii,4};      AO{ifam}.Status(ii,1)                = val;
0699 
0700 val =sq{ii,5};      AO{ifam}.DeviceList(ii,:)            = val;
0701 val =sq{ii,6};      AO{ifam}.ElementList(ii,1)           = val;
0702 val =sq{ii,8};      AO{ifam}.Setpoint.Range(ii,:)        = val;
0703 val =sq{ii,9};      AO{ifam}.Setpoint.Tolerance(ii,1)    = val;
0704 val =sq{ii,10};     AO{ifam}.Setpoint.DeltaRespMat(ii,1)         = val;
0705 
0706 ScaleFactor =sq{ii,7};
0707 
0708 AO{ifam}.Monitor.HW2PhysicsParams(ii,:)                  = HW2Physics*ScaleFactor;          
0709 AO{ifam}.Monitor.Physics2HWParams(ii,:)                  = ScaleFactor/HW2Physics;
0710 
0711 AO{ifam}.Setpoint.HW2PhysicsParams(ii,:)                 = HW2Physics*ScaleFactor;         
0712 AO{ifam}.Setpoint.Physics2HWParams(ii,:)                 = ScaleFactor/HW2Physics;
0713 
0714 <span class="keyword">end</span>
0715 
0716 
0717 
0718 <span class="comment">%=============================</span>
0719 <span class="comment">%        MAIN MAGNETS</span>
0720 <span class="comment">%=============================</span>
0721 
0722 <span class="comment">%===========</span>
0723 <span class="comment">%Dipole data</span>
0724 <span class="comment">%===========</span>
0725 
0726 <span class="comment">% *** BEND ***</span>
0727 ifam=ifam+1;
0728 AO{ifam}.FamilyName                 = <span class="string">'BEND'</span>;
0729 AO{ifam}.FamilyType                 = <span class="string">'BEND'</span>;
0730 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'BEND'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
0731 
0732 AO{ifam}.Monitor.Mode               = Mode;
0733 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
0734 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
0735 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;  <span class="comment">%@bend2gev;</span>
0736 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;  <span class="comment">%@gev2bend;</span>
0737 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
0738 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'radian'</span>;  <span class="comment">%'energy';</span>
0739 
0740 AO{ifam}.Desired.Mode               = Mode;
0741 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
0742 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
0743 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;  <span class="comment">%@bend2gev;</span>
0744 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;  <span class="comment">%@gev2bend;</span>
0745 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
0746 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'radian'</span>;  <span class="comment">%'energy';</span>
0747 
0748 AO{ifam}.Setpoint.Mode              = Mode;
0749 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
0750 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
0751 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;  <span class="comment">%@bend2gev;</span>
0752 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;  <span class="comment">%@gev2bend;</span>
0753 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
0754 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'radian'</span>;  <span class="comment">%'energy';</span>
0755 <span class="comment">%                                                                                                        delta-k</span>
0756 <span class="comment">%common           desired                   monitor              setpoint           stat devlist elem   scalefactor    range    tol   respkick</span>
0757 bend={
0758  <span class="string">'1BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [1 ,1]  1         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0759  <span class="string">'1BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [1 ,2]  2         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0760  <span class="string">'2BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [2 ,1]  3         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0761  <span class="string">'2BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [2 ,2]  4         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0762  <span class="string">'3BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [3 ,1]  5         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0763  <span class="string">'3BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [3 ,2]  6         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0764  <span class="string">'4BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [4 ,1]  7         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0765  <span class="string">'4BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [4 ,2]  8         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0766  <span class="string">'5BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [5 ,1]  9         1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0767  <span class="string">'5BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [5 ,2]  10        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0768  <span class="string">'6BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [6 ,1]  11        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0769  <span class="string">'6BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [6 ,2]  12        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0770  <span class="string">'7BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [7 ,1]  13        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0771  <span class="string">'7BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [7 ,2]  14        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0772  <span class="string">'8BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [8 ,1]  15        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0773  <span class="string">'8BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [8 ,2]  16        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0774  <span class="string">'8BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [9 ,1]  17        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0775  <span class="string">'8BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [9 ,2]  18        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0776  <span class="string">'8BEND1    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [10,1]  19        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0777  <span class="string">'8BEND2    '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [10,2]  20        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0778  <span class="string">'11BEND1   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [11,1]  21        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0779  <span class="string">'11BEND2   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [11,2]  22        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0780  <span class="string">'12BEND1   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [12,1]  23        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0781  <span class="string">'12BEND2   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [12,2]  24        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0782  <span class="string">'13BEND1   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [13,1]  25        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0783  <span class="string">'13BEND2   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [13,2]  26        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0784  <span class="string">'14BEND1   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [14,1]  27        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0785  <span class="string">'14BEND2   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [14,2]  28        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0786  <span class="string">'15BEND1   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [15,1]  29        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0787  <span class="string">'15BEND2   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [15,2]  30        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0788  <span class="string">'16BEND1   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [16,1]  31        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0789  <span class="string">'16BEND2   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [16,2]  32        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0790  <span class="string">'17BEND1   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [17,1]  33        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0791  <span class="string">'17BEND2   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [17,2]  34        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0792  <span class="string">'18BEND1   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [18,1]  35        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0793  <span class="string">'18BEND2   '</span>    <span class="string">'MS1-BD:CurrSetptDes '</span>    <span class="string">'MS1-BD:Curr    '</span>    <span class="string">'MS1-BD:CurrSetpt  '</span>  1   [18,2]  36        1.0        [0, 500] 0.050   0.05     ; <span class="keyword">...</span>
0794 };
0795 
0796 <span class="keyword">for</span> ii=1:size(bend,1)
0797 name=bend{ii,1};      AO{ifam}.CommonNames(ii,:)           = name;            
0798 name=bend{ii,2};      AO{ifam}.Desired.ChannelNames(ii,:)  = name;
0799 name=bend{ii,3};      AO{ifam}.Monitor.ChannelNames(ii,:)  = name;
0800 name=bend{ii,4};      AO{ifam}.Setpoint.ChannelNames(ii,:) = name;     
0801 val =bend{ii,5};      AO{ifam}.Status(ii,1)                = val;
0802 val =bend{ii,6};      AO{ifam}.DeviceList(ii,:)            = val;
0803 val =bend{ii,7};      AO{ifam}.ElementList(ii,1)           = val;
0804 
0805 <span class="comment">% The BEND comes in two different lengths</span>
0806 <span class="keyword">if</span> any(AO{ifam}.DeviceList(ii,1) == [1 9 10 18])
0807     HW2PhysicsParams = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'BDM'</span>);
0808     Physics2HWParams = HW2PhysicsParams;
0809 <span class="keyword">else</span>
0810     HW2PhysicsParams = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'BEND'</span>);
0811     Physics2HWParams = HW2PhysicsParams;
0812 <span class="keyword">end</span>
0813 
0814 val =bend{ii,8};
0815 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)                 = HW2PhysicsParams;
0816 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)                 = val;
0817 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)                 = HW2PhysicsParams;
0818 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)                 = val;
0819 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)                = HW2PhysicsParams;
0820 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)                = val;
0821 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)                 = Physics2HWParams;
0822 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)                 = val;
0823 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)                 = Physics2HWParams;
0824 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)                 = val;
0825 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)                = Physics2HWParams;
0826 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)                = val;
0827 val =bend{ii,9};      AO{ifam}.Setpoint.Range(ii,:)        = val;
0828 val =bend{ii,10};     AO{ifam}.Setpoint.Tolerance(ii,1)    = val;
0829 val =bend{ii,11};     AO{ifam}.Setpoint.DeltaRespMat(ii,1) = val;
0830 
0831 <span class="keyword">end</span>
0832 
0833 
0834 
0835 <span class="comment">% *** BDM ***</span>
0836 ifam=ifam+1;
0837 AO{ifam}.FamilyName                 = <span class="string">'BDM'</span>;
0838 AO{ifam}.FamilyType                 = <span class="string">'COR'</span>;
0839 AO{ifam}.MemberOf                   = {<span class="string">'COR'</span>; <span class="string">'BEND'</span>; <span class="string">'MCOR'</span>;};
0840 
0841 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'BDM'</span>);
0842 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'BDM'</span>);
0843 
0844 AO{ifam}.Monitor.Mode               = Mode;
0845 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
0846 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
0847 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0848 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0849 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
0850 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'radian'</span>;
0851 
0852 AO{ifam}.Setpoint.Mode              = Mode;
0853 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
0854 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
0855 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0856 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0857 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
0858 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'radian'</span>;
0859 
0860 <span class="comment">%                                                                                                        delta-k</span>
0861 <span class="comment">%common           monitor              setpoint           stat devlist  elem scalefactor range     tol   respkick</span>
0862 bdm={ 
0863  <span class="string">'1bdm1     '</span>    <span class="string">'MS1-BDMT:Curr1'</span>     <span class="string">'MS1-BDMT:CurrSetpt'</span>  1   [1  ,1]  1     1.0       [0 500]  0.050   0.25      ; <span class="keyword">...</span>
0864  <span class="string">'1bdm2     '</span>    <span class="string">'MS1-BDMT:Curr1'</span>     <span class="string">'MS1-BDMT:CurrSetpt'</span>  1   [1  ,2]  2     1.0       [0 500]  0.050   0.25      ; <span class="keyword">...</span>
0865  <span class="string">'9bdm1     '</span>    <span class="string">'MS1-BDMT:Curr1'</span>     <span class="string">'MS1-BDMT:CurrSetpt'</span>  1   [9  ,1]  3     1.0       [0 500]  0.050   0.25      ; <span class="keyword">...</span>
0866  <span class="string">'9bdm2     '</span>    <span class="string">'MS1-BDMT:Curr1'</span>     <span class="string">'MS1-BDMT:CurrSetpt'</span>  1   [9  ,2]  4     1.0       [0 500]  0.050   0.25      ; <span class="keyword">...</span>
0867  <span class="string">'10bdm1    '</span>    <span class="string">'MS1-BDMT:Curr1'</span>     <span class="string">'MS1-BDMT:CurrSetpt'</span>  1   [10 ,1]  5     1.0       [0 500]  0.050   0.25      ; <span class="keyword">...</span>
0868  <span class="string">'10bdm2    '</span>    <span class="string">'MS1-BDMT:Curr1'</span>     <span class="string">'MS1-BDMT:CurrSetpt'</span>  1   [10 ,2]  6     1.0       [0 500]  0.050   0.25      ; <span class="keyword">...</span>
0869  <span class="string">'18bdm1    '</span>    <span class="string">'MS1-BDMT:Curr1'</span>     <span class="string">'MS1-BDMT:CurrSetpt'</span>  1   [18 ,1]  7     1.0       [0 500]  0.050   0.25      ; <span class="keyword">...</span>
0870  <span class="string">'18bdm2    '</span>    <span class="string">'MS1-BDMT:Curr1'</span>     <span class="string">'MS1-BDMT:CurrSetpt'</span>  1   [18 ,2]  8     1.0       [0 500]  0.050   0.25      ; <span class="keyword">...</span>
0871   }; 
0872 
0873 <span class="keyword">for</span> ii=1:size(bdm,1)
0874 name=bdm{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
0875 name=bdm{ii,2};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
0876 name=bdm{ii,3};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
0877 val =bdm{ii,4};     AO{ifam}.Status(ii,1)               = val;
0878 val =bdm{ii,5};     AO{ifam}.DeviceList(ii,:)           = val;
0879 val =bdm{ii,6};     AO{ifam}.ElementList(ii,1)          = val;
0880 val =bdm{ii,7};
0881 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
0882 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = val;
0883 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
0884 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = val;
0885 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
0886 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = val;
0887 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
0888 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = val;
0889 val =bdm{ii,8};     AO{ifam}.Setpoint.Range(ii,:)       = val;
0890 val =bdm{ii,9};     AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
0891 val =bdm{ii,10};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)        = val;
0892 <span class="keyword">end</span>
0893 
0894 <span class="comment">% *** QF ***</span>
0895 ifam=ifam+1;
0896 AO{ifam}.FamilyName                 = <span class="string">'QF'</span>;
0897 AO{ifam}.FamilyType                 = <span class="string">'QUAD'</span>;
0898 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>; <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Tune Corrector'</span>; <span class="string">'Bitbus'</span>;};
0899 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QF'</span>);
0900 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QF'</span>);
0901 
0902 AO{ifam}.Desired.Mode               = Mode;
0903 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
0904 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
0905 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
0906 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
0907 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0908 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0909 
0910 AO{ifam}.Monitor.Mode               = Mode;
0911 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
0912 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
0913 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
0914 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'meter^-2'</span>;
0915 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0916 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0917 
0918 AO{ifam}.Setpoint.Mode              = Mode;
0919 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
0920 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
0921 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
0922 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'meter^-2'</span>;
0923 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0924 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0925 
0926 AO{ifam}.QMS.Mode                   = <span class="string">'Special'</span>;
0927 AO{ifam}.QMS.DataType               = <span class="string">'Scalar'</span>;
0928 AO{ifam}.QMS.SpecialFunctionSet     = <span class="string">'setspquad'</span>;
0929 AO{ifam}.QMS.SpecialFunctionGet     = <span class="string">'getspquad'</span>;
0930 AO{ifam}.QMS.HWUnits                = <span class="string">'ampere'</span>;           
0931 AO{ifam}.QMS.Units                  = <span class="string">'Hardware'</span>;
0932 AO{ifam}.QMS.HWUnits                = <span class="string">'ampere'</span>;           
0933 AO{ifam}.QMS.PhysicsUnits           = <span class="string">'meter^-2'</span>;
0934 AO{ifam}.QMS.HW2PhysicsFcn          = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
0935 AO{ifam}.QMS.Physics2HWFcn          = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
0936 
0937 qf1factor= 1/0.9928;
0938 qf2factor= 1/0.9945;
0939 qf1to6factor=0.5* (1/qf1factor   +   1/qf2factor);
0940 qf1to6factor=1/qf1to6factor;
0941 <span class="comment">%                                                                                                        delta-k</span>
0942 <span class="comment">%common         desired                    monitor               setpoint            stat devlist  elem  scalefactor    range    tol  respkick</span>
0943 qf={
0944  <span class="string">'2QF1    '</span>    <span class="string">'02G-QF1:CurrSetptDes '</span>    <span class="string">'02G-QF1:Curr    '</span>    <span class="string">'02G-QF1:CurrSetpt  '</span>  1   [2 ,1]    1   qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0945  <span class="string">'2QF2    '</span>    <span class="string">'02G-QF2:CurrSetptDes '</span>    <span class="string">'02G-QF2:Curr    '</span>    <span class="string">'02G-QF2:CurrSetpt  '</span>  1   [2 ,2]    2   qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0946  <span class="string">'3QF1    '</span>    <span class="string">'MS1-QF:CurrSetptDes  '</span>    <span class="string">'MS1-QF:Curr     '</span>    <span class="string">'MS1-QF:CurrSetpt   '</span>  1   [3 ,1]    3   qf1to6factor   [0, 500] 0.050  0.002; <span class="keyword">...</span>
0947  <span class="string">'3QF2    '</span>    <span class="string">'MS1-QF:CurrSetptDes  '</span>    <span class="string">'MS1-QF:Curr     '</span>    <span class="string">'MS1-QF:CurrSetpt   '</span>  1   [3 ,2]    4   qf1to6factor   [0, 500] 0.050  0.002; <span class="keyword">...</span>
0948  <span class="string">'4QF1    '</span>    <span class="string">'MS1-QF:CurrSetptDes  '</span>    <span class="string">'MS1-QF:Curr     '</span>    <span class="string">'MS1-QF:CurrSetpt   '</span>  1   [4 ,1]    5   qf1to6factor   [0, 500] 0.050  0.002; <span class="keyword">...</span>
0949  <span class="string">'4QF2    '</span>    <span class="string">'MS1-QF:CurrSetptDes  '</span>    <span class="string">'MS1-QF:Curr     '</span>    <span class="string">'MS1-QF:CurrSetpt   '</span>  1   [4 ,2]    6   qf1to6factor   [0, 500] 0.050  0.002; <span class="keyword">...</span>
0950  <span class="string">'5QF1    '</span>    <span class="string">'05G-QF1:CurrSetptDes '</span>    <span class="string">'05G-QF1:Curr    '</span>    <span class="string">'05G-QF1:CurrSetpt  '</span>  1   [5 ,1]    7   qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0951  <span class="string">'5QF2    '</span>    <span class="string">'05G-QF2:CurrSetptDes '</span>    <span class="string">'05G-QF2:Curr    '</span>    <span class="string">'05G-QF2:CurrSetpt  '</span>  1   [5 ,2]    8   qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0952  <span class="string">'6QF1    '</span>    <span class="string">'06G-QF1:CurrSetptDes '</span>    <span class="string">'06G-QF1:Curr    '</span>    <span class="string">'06G-QF1:CurrSetpt  '</span>  1   [6 ,1]    9   qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0953  <span class="string">'6QF2    '</span>    <span class="string">'06G-QF2:CurrSetptDes '</span>    <span class="string">'06G-QF2:Curr    '</span>    <span class="string">'06G-QF2:CurrSetpt  '</span>  1   [6 ,2]    10  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0954  <span class="string">'7QF1    '</span>    <span class="string">'07G-QF1:CurrSetptDes '</span>    <span class="string">'07G-QF1:Curr    '</span>    <span class="string">'07G-QF1:CurrSetpt  '</span>  1   [7 ,1]    11  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0955  <span class="string">'7QF2    '</span>    <span class="string">'07G-QF2:CurrSetptDes '</span>    <span class="string">'07G-QF2:Curr    '</span>    <span class="string">'07G-QF2:CurrSetpt  '</span>  1   [7 ,2]    12  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0956  <span class="string">'8QF1    '</span>    <span class="string">'08G-QF1:CurrSetptDes '</span>    <span class="string">'08G-QF1:Curr    '</span>    <span class="string">'08G-QF1:CurrSetpt  '</span>  1   [8 ,1]    13  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0957  <span class="string">'8QF2    '</span>    <span class="string">'08G-QF2:CurrSetptDes '</span>    <span class="string">'08G-QF2:Curr    '</span>    <span class="string">'08G-QF2:CurrSetpt  '</span>  1   [8 ,2]    14  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0958  <span class="string">'11QF1   '</span>    <span class="string">'11G-QF1:CurrSetptDes '</span>    <span class="string">'11G-QF1:Curr    '</span>    <span class="string">'11G-QF1:CurrSetpt  '</span>  1   [11,1]    15  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0959  <span class="string">'11QF2   '</span>    <span class="string">'11G-QF2:CurrSetptDes '</span>    <span class="string">'11G-QF2:Curr    '</span>    <span class="string">'11G-QF2:CurrSetpt  '</span>  1   [11,2]    16  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0960  <span class="string">'12QF1   '</span>    <span class="string">'12G-QF1:CurrSetptDes '</span>    <span class="string">'12G-QF1:Curr    '</span>    <span class="string">'12G-QF1:CurrSetpt  '</span>  1   [12,1]    17  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0961  <span class="string">'12QF2   '</span>    <span class="string">'12G-QF2:CurrSetptDes '</span>    <span class="string">'12G-QF2:Curr    '</span>    <span class="string">'12G-QF2:CurrSetpt  '</span>  1   [12,2]    18  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0962  <span class="string">'13QF1   '</span>    <span class="string">'13G-QF1:CurrSetptDes '</span>    <span class="string">'13G-QF1:Curr    '</span>    <span class="string">'13G-QF1:CurrSetpt  '</span>  1   [13,1]    19  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0963  <span class="string">'13QF2   '</span>    <span class="string">'13G-QF2:CurrSetptDes '</span>    <span class="string">'13G-QF2:Curr    '</span>    <span class="string">'13G-QF2:CurrSetpt  '</span>  1   [13,2]    20  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0964  <span class="string">'14QF1   '</span>    <span class="string">'14G-QF1:CurrSetptDes '</span>    <span class="string">'14G-QF1:Curr    '</span>    <span class="string">'14G-QF1:CurrSetpt  '</span>  1   [14,1]    21  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0965  <span class="string">'14QF2   '</span>    <span class="string">'14G-QF2:CurrSetptDes '</span>    <span class="string">'14G-QF2:Curr    '</span>    <span class="string">'14G-QF2:CurrSetpt  '</span>  1   [14,2]    22  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0966  <span class="string">'15QF1   '</span>    <span class="string">'15G-QF1:CurrSetptDes '</span>    <span class="string">'15G-QF1:Curr    '</span>    <span class="string">'15G-QF1:CurrSetpt  '</span>  1   [15,1]    23  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0967  <span class="string">'15QF2   '</span>    <span class="string">'15G-QF2:CurrSetptDes '</span>    <span class="string">'15G-QF2:Curr    '</span>    <span class="string">'15G-QF2:CurrSetpt  '</span>  1   [15,2]    24  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0968  <span class="string">'16QF1   '</span>    <span class="string">'16G-QF1:CurrSetptDes '</span>    <span class="string">'16G-QF1:Curr    '</span>    <span class="string">'16G-QF1:CurrSetpt  '</span>  1   [16,1]    25  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0969  <span class="string">'16QF2   '</span>    <span class="string">'16G-QF2:CurrSetptDes '</span>    <span class="string">'16G-QF2:Curr    '</span>    <span class="string">'16G-QF2:CurrSetpt  '</span>  1   [16,2]    26  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0970  <span class="string">'17QF1   '</span>    <span class="string">'17G-QF1:CurrSetptDes '</span>    <span class="string">'17G-QF1:Curr    '</span>    <span class="string">'17G-QF1:CurrSetpt  '</span>  1   [17,1]    27  qf1factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0971  <span class="string">'17QF2   '</span>    <span class="string">'17G-QF2:CurrSetptDes '</span>    <span class="string">'17G-QF2:Curr    '</span>    <span class="string">'17G-QF2:CurrSetpt  '</span>  1   [17,2]    28  qf2factor      [0, 500] 0.050  0.002; <span class="keyword">...</span>
0972 };
0973 
0974 <span class="keyword">for</span> ii=1:size(qf,1)
0975 name=qf{ii,1};      AO{ifam}.CommonNames(ii,:)           = name;            
0976 name=qf{ii,2};      AO{ifam}.Desired.ChannelNames(ii,:)  = name;
0977 name=qf{ii,3};      AO{ifam}.Monitor.ChannelNames(ii,:)  = name;
0978 name=qf{ii,4};      AO{ifam}.Setpoint.ChannelNames(ii,:) = name;     
0979 val =qf{ii,5};      AO{ifam}.Status(ii,1)                = val;
0980 val =qf{ii,6};      AO{ifam}.DeviceList(ii,:)            = val;
0981 val =qf{ii,7};      AO{ifam}.ElementList(ii,1)           = val;
0982 val =qf{ii,8};
0983 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
0984 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)               = val;
0985 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
0986 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)               = val;
0987 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
0988 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)              = val;
0989 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
0990 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)               = val;
0991 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
0992 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)               = val;
0993 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
0994 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)              = val;
0995 val =qf{ii,9};      AO{ifam}.Setpoint.Range(ii,:)        = val;
0996 val =qf{ii,10};     AO{ifam}.Setpoint.Tolerance(ii,1)    = val;
0997 val =qf{ii,11};     AO{ifam}.Setpoint.DeltaRespMat(ii,1) = val;
0998 <span class="keyword">end</span>
0999 
1000 
1001 <span class="comment">% *** QD ***</span>
1002 ifam=ifam+1;
1003 AO{ifam}.FamilyName               = <span class="string">'QD'</span>;
1004 AO{ifam}.FamilyType               = <span class="string">'QUAD'</span>;
1005 AO{ifam}.MemberOf                 = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>; <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Tune Corrector'</span>; <span class="string">'Bitbus'</span>;};
1006 HW2PhysicsParams                  = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QD'</span>);
1007 Physics2HWParams                  = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QD'</span>);
1008 
1009 AO{ifam}.Desired.Mode               = Mode;
1010 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1011 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1012 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1013 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1014 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1015 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1016 
1017 AO{ifam}.Monitor.Mode             = Mode;
1018 AO{ifam}.Monitor.DataType         = <span class="string">'Scalar'</span>;
1019 AO{ifam}.Monitor.Units            = <span class="string">'Hardware'</span>;
1020 AO{ifam}.Monitor.HWUnits          = <span class="string">'ampere'</span>;           
1021 AO{ifam}.Monitor.PhysicsUnits     = <span class="string">'meter^-2'</span>;
1022 AO{ifam}.Monitor.HW2PhysicsFcn    = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1023 AO{ifam}.Monitor.Physics2HWFcn    = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1024 
1025 AO{ifam}.Setpoint.Mode            = Mode;
1026 AO{ifam}.Setpoint.DataType        = <span class="string">'Scalar'</span>;
1027 AO{ifam}.Setpoint.Units           = <span class="string">'Hardware'</span>;
1028 AO{ifam}.Setpoint.HWUnits         = <span class="string">'ampere'</span>;           
1029 AO{ifam}.Setpoint.PhysicsUnits    = <span class="string">'meter^-2'</span>;
1030 AO{ifam}.Setpoint.HW2PhysicsFcn   = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1031 AO{ifam}.Setpoint.Physics2HWFcn   = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1032 
1033 AO{ifam}.QMS.Mode              = <span class="string">'Special'</span>;
1034 AO{ifam}.QMS.DataType          = <span class="string">'Scalar'</span>;
1035 AO{ifam}.QMS.SpecialFunctionSet = <span class="string">'setspquad'</span>;
1036 AO{ifam}.QMS.SpecialFunctionGet = <span class="string">'getspquad'</span>;
1037 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1038 AO{ifam}.QMS.Units             = <span class="string">'Hardware'</span>;
1039 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1040 AO{ifam}.QMS.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1041 AO{ifam}.QMS.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1042 AO{ifam}.QMS.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1043 
1044 qd1factor= 1/0.9835;
1045 qd2factor= 1/0.9795;
1046 qd1to6factor=(qd1factor+qd2factor)/2;
1047 <span class="comment">%                                                                                                                                     delta-k</span>
1048 <span class="comment">%common         desired                    monitor               setpoint           stat  devlist  elem  scalefactor    range    tol  respkick</span>
1049 qd={
1050  <span class="string">'2QD1    '</span>    <span class="string">'02G-QD1:CurrSetptDes '</span>    <span class="string">'02G-QD1:Curr    '</span>    <span class="string">'02G-QD1:CurrSetpt  '</span>  1   [2 ,1]    1    qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1051  <span class="string">'2QD2    '</span>    <span class="string">'02G-QD2:CurrSetptDes '</span>    <span class="string">'02G-QD2:Curr    '</span>    <span class="string">'02G-QD2:CurrSetpt  '</span>  1   [2 ,2]    2    qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1052  <span class="string">'3QD1    '</span>    <span class="string">'MS1-QD:CurrSetptDes  '</span>    <span class="string">'MS1-QD:Curr     '</span>    <span class="string">'MS1-QD:CurrSetpt   '</span>  1   [3 ,1]    3    qd1to6factor     [0, 500] 0.050  0.004; <span class="keyword">...</span>
1053  <span class="string">'3QD2    '</span>    <span class="string">'MS1-QD:CurrSetptDes  '</span>    <span class="string">'MS1-QD:Curr     '</span>    <span class="string">'MS1-QD:CurrSetpt   '</span>  1   [3 ,2]    4    qd1to6factor     [0, 500] 0.050  0.004; <span class="keyword">...</span>
1054  <span class="string">'4QD1    '</span>    <span class="string">'MS1-QD:CurrSetptDes  '</span>    <span class="string">'MS1-QD:Curr     '</span>    <span class="string">'MS1-QD:CurrSetpt   '</span>  1   [4 ,1]    5    qd1to6factor     [0, 500] 0.050  0.004; <span class="keyword">...</span>
1055  <span class="string">'4QD2    '</span>    <span class="string">'MS1-QD:CurrSetptDes  '</span>    <span class="string">'MS1-QD:Curr     '</span>    <span class="string">'MS1-QD:CurrSetpt   '</span>  1   [4 ,2]    6    qd1to6factor     [0, 500] 0.050  0.004; <span class="keyword">...</span>
1056  <span class="string">'5QD1    '</span>    <span class="string">'05G-QD1:CurrSetptDes '</span>    <span class="string">'05G-QD1:Curr    '</span>    <span class="string">'05G-QD1:CurrSetpt  '</span>  1   [5 ,1]    7    qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1057  <span class="string">'5QD2    '</span>    <span class="string">'05G-QD2:CurrSetptDes '</span>    <span class="string">'05G-QD2:Curr    '</span>    <span class="string">'05G-QD2:CurrSetpt  '</span>  1   [5 ,2]    8    qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1058  <span class="string">'6QD1    '</span>    <span class="string">'06G-QD1:CurrSetptDes '</span>    <span class="string">'06G-QD1:Curr    '</span>    <span class="string">'06G-QD1:CurrSetpt  '</span>  1   [6 ,1]    9    qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1059  <span class="string">'6QD2    '</span>    <span class="string">'06G-QD2:CurrSetptDes '</span>    <span class="string">'06G-QD2:Curr    '</span>    <span class="string">'06G-QD2:CurrSetpt  '</span>  1   [6 ,2]    10   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1060  <span class="string">'7QD1    '</span>    <span class="string">'07G-QD1:CurrSetptDes '</span>    <span class="string">'07G-QD1:Curr    '</span>    <span class="string">'07G-QD1:CurrSetpt  '</span>  1   [7 ,1]    11   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1061  <span class="string">'7QD2    '</span>    <span class="string">'07G-QD2:CurrSetptDes '</span>    <span class="string">'07G-QD2:Curr    '</span>    <span class="string">'07G-QD2:CurrSetpt  '</span>  1   [7 ,2]    12   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1062  <span class="string">'8QD1    '</span>    <span class="string">'08G-QD1:CurrSetptDes '</span>    <span class="string">'08G-QD1:Curr    '</span>    <span class="string">'08G-QD1:CurrSetpt  '</span>  1   [8 ,1]    13   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1063  <span class="string">'8QD2    '</span>    <span class="string">'08G-QD2:CurrSetptDes '</span>    <span class="string">'08G-QD2:Curr    '</span>    <span class="string">'08G-QD2:CurrSetpt  '</span>  1   [8 ,2]    14   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1064  <span class="string">'11QD1   '</span>    <span class="string">'11G-QD1:CurrSetptDes '</span>    <span class="string">'11G-QD1:Curr    '</span>    <span class="string">'11G-QD1:CurrSetpt  '</span>  1   [11,1]    15   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1065  <span class="string">'11QD2   '</span>    <span class="string">'11G-QD2:CurrSetptDes '</span>    <span class="string">'11G-QD2:Curr    '</span>    <span class="string">'11G-QD2:CurrSetpt  '</span>  1   [11,2]    16   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1066  <span class="string">'12QD1   '</span>    <span class="string">'12G-QD1:CurrSetptDes '</span>    <span class="string">'12G-QD1:Curr    '</span>    <span class="string">'12G-QD1:CurrSetpt  '</span>  1   [12,1]    17   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1067  <span class="string">'12QD2   '</span>    <span class="string">'12G-QD2:CurrSetptDes '</span>    <span class="string">'12G-QD2:Curr    '</span>    <span class="string">'12G-QD2:CurrSetpt  '</span>  1   [12,2]    18   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1068  <span class="string">'13QD1   '</span>    <span class="string">'13G-QD1:CurrSetptDes '</span>    <span class="string">'13G-QD1:Curr    '</span>    <span class="string">'13G-QD1:CurrSetpt  '</span>  1   [13,1]    19   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1069  <span class="string">'13QD2   '</span>    <span class="string">'13G-QD2:CurrSetptDes '</span>    <span class="string">'13G-QD2:Curr    '</span>    <span class="string">'13G-QD2:CurrSetpt  '</span>  1   [13,2]    20   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1070  <span class="string">'14QD1   '</span>    <span class="string">'14G-QD1:CurrSetptDes '</span>    <span class="string">'14G-QD1:Curr    '</span>    <span class="string">'14G-QD1:CurrSetpt  '</span>  1   [14,1]    21   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1071  <span class="string">'14QD2   '</span>    <span class="string">'14G-QD2:CurrSetptDes '</span>    <span class="string">'14G-QD2:Curr    '</span>    <span class="string">'14G-QD2:CurrSetpt  '</span>  1   [14,2]    22   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1072  <span class="string">'15QD1   '</span>    <span class="string">'15G-QD1:CurrSetptDes '</span>    <span class="string">'15G-QD1:Curr    '</span>    <span class="string">'15G-QD1:CurrSetpt  '</span>  1   [15,1]    23   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1073  <span class="string">'15QD2   '</span>    <span class="string">'15G-QD2:CurrSetptDes '</span>    <span class="string">'15G-QD2:Curr    '</span>    <span class="string">'15G-QD2:CurrSetpt  '</span>  1   [15,2]    24   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1074  <span class="string">'16QD1   '</span>    <span class="string">'16G-QD1:CurrSetptDes '</span>    <span class="string">'16G-QD1:Curr    '</span>    <span class="string">'16G-QD1:CurrSetpt  '</span>  1   [16,1]    25   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1075  <span class="string">'16QD2   '</span>    <span class="string">'16G-QD2:CurrSetptDes '</span>    <span class="string">'16G-QD2:Curr    '</span>    <span class="string">'16G-QD2:CurrSetpt  '</span>  1   [16,2]    26   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1076  <span class="string">'17QD1   '</span>    <span class="string">'17G-QD1:CurrSetptDes '</span>    <span class="string">'17G-QD1:Curr    '</span>    <span class="string">'17G-QD1:CurrSetpt  '</span>  1   [17,1]    27   qd1factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1077  <span class="string">'17QD2   '</span>    <span class="string">'17G-QD2:CurrSetptDes '</span>    <span class="string">'17G-QD2:Curr    '</span>    <span class="string">'17G-QD2:CurrSetpt  '</span>  1   [17,2]    28   qd2factor        [0, 500] 0.050  0.004; <span class="keyword">...</span>
1078 };   
1079  
1080 <span class="keyword">for</span> ii=1:size(qd,1)
1081 name=qd{ii,1};      AO{ifam}.CommonNames(ii,:)           = name;            
1082 name=qd{ii,2};      AO{ifam}.Desired.ChannelNames(ii,:)  = name;
1083 name=qd{ii,3};      AO{ifam}.Monitor.ChannelNames(ii,:)  = name;
1084 name=qd{ii,4};      AO{ifam}.Setpoint.ChannelNames(ii,:) = name;     
1085 val =qd{ii,5};      AO{ifam}.Status(ii,1)                = val;
1086 val =qd{ii,6};      AO{ifam}.DeviceList(ii,:)            = val;
1087 val =qd{ii,7};      AO{ifam}.ElementList(ii,1)           = val;
1088 val =qd{ii,8};
1089 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1090 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)               = val;
1091 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1092 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)               = val;
1093 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1094 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)              = val;
1095 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1096 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)               = val;
1097 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1098 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)               = val;
1099 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1100 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)              = val;
1101 val =qd{ii,9};      AO{ifam}.Setpoint.Range(ii,:)        = val;
1102 val =qd{ii,10};      AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
1103 val =qd{ii,11};     AO{ifam}.Setpoint.DeltaRespMat(ii,1) = val;
1104 <span class="keyword">end</span>
1105 
1106 
1107 <span class="comment">% *** QFC ***</span>
1108 ifam=ifam+1;
1109 AO{ifam}.FamilyName               = <span class="string">'QFC'</span>;
1110 AO{ifam}.FamilyType               = <span class="string">'QUAD'</span>;
1111 AO{ifam}.MemberOf                 = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1112 HW2PhysicsParams                  = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFC'</span>);
1113 Physics2HWParams                  = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFC'</span>);
1114 
1115 AO{ifam}.Desired.Mode             = Mode;
1116 AO{ifam}.Desired.DataType         = <span class="string">'Scalar'</span>;
1117 AO{ifam}.Desired.Units            = <span class="string">'Hardware'</span>;
1118 AO{ifam}.Desired.HWUnits          = <span class="string">'ampere'</span>;           
1119 AO{ifam}.Desired.PhysicsUnits     = <span class="string">'meter^-2'</span>;
1120 AO{ifam}.Desired.HW2PhysicsFcn    = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1121 AO{ifam}.Desired.Physics2HWFcn    = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1122 
1123 AO{ifam}.Monitor.Mode             = Mode;
1124 AO{ifam}.Monitor.DataType         = <span class="string">'Scalar'</span>;
1125 AO{ifam}.Monitor.Units            = <span class="string">'Hardware'</span>;
1126 AO{ifam}.Monitor.HW2PhysicsFcn    = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1127 AO{ifam}.Monitor.Physics2HWFcn    = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1128 AO{ifam}.Monitor.HWUnits          = <span class="string">'ampere'</span>;           
1129 AO{ifam}.Monitor.PhysicsUnits     = <span class="string">'meter^-2'</span>;
1130 
1131 AO{ifam}.Setpoint.Mode            = Mode;
1132 AO{ifam}.Setpoint.DataType        = <span class="string">'Scalar'</span>;
1133 AO{ifam}.Setpoint.Units           = <span class="string">'Hardware'</span>;
1134 AO{ifam}.Setpoint.HW2PhysicsFcn   = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1135 AO{ifam}.Setpoint.Physics2HWFcn   = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1136 AO{ifam}.Setpoint.HWUnits         = <span class="string">'ampere'</span>;           
1137 AO{ifam}.Setpoint.PhysicsUnits    = <span class="string">'meter^-2'</span>;
1138 
1139 AO{ifam}.QMS.Mode              = <span class="string">'Special'</span>;
1140 AO{ifam}.QMS.DataType          = <span class="string">'Scalar'</span>;
1141 AO{ifam}.QMS.SpecialFunctionSet = <span class="string">'setspquad'</span>;
1142 AO{ifam}.QMS.SpecialFunctionGet = <span class="string">'getspquad'</span>;
1143 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1144 AO{ifam}.QMS.Units             = <span class="string">'Hardware'</span>;
1145 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1146 AO{ifam}.QMS.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1147 AO{ifam}.QMS.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1148 AO{ifam}.QMS.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1149  
1150 <span class="comment">%                                                                                                                                    delta-k</span>
1151 <span class="comment">%common          desired                monitor                  setpoint           stat  devlist  elem  scalefactor    range   tol  respkick</span>
1152 qfc={
1153 <span class="string">'2QFC1    '</span>    <span class="string">'MS1-QFC:CurrSetptDes '</span>    <span class="string">'MS1-QFC:Curr    '</span>    <span class="string">'MS1-QFC:CurrSetpt  '</span>  1  [2 ,1]  1         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span>
1154 <span class="string">'3QFC1    '</span>    <span class="string">'MS1-QFC:CurrSetptDes '</span>    <span class="string">'MS1-QFC:Curr    '</span>    <span class="string">'MS1-QFC:CurrSetpt  '</span>  1  [3 ,1]  2         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span><span class="comment"> </span>
1155 <span class="string">'4QFC1    '</span>    <span class="string">'MS1-QFC:CurrSetptDes '</span>    <span class="string">'MS1-QFC:Curr    '</span>    <span class="string">'MS1-QFC:CurrSetpt  '</span>  1  [4 ,1]  3         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span><span class="comment"> </span>
1156 <span class="string">'5QFC1    '</span>    <span class="string">'MS1-QFC:CurrSetptDes '</span>    <span class="string">'MS1-QFC:Curr    '</span>    <span class="string">'MS1-QFC:CurrSetpt  '</span>  1  [5 ,1]  4         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span><span class="comment"> </span>
1157 <span class="string">'6QFC1    '</span>    <span class="string">'MS1-QFC:CurrSetptDes '</span>    <span class="string">'MS1-QFC:Curr    '</span>    <span class="string">'MS1-QFC:CurrSetpt  '</span>  1  [6 ,1]  5         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span><span class="comment"> </span>
1158 <span class="string">'7QFC1    '</span>    <span class="string">'MS1-QFC:CurrSetptDes '</span>    <span class="string">'MS1-QFC:Curr    '</span>    <span class="string">'MS1-QFC:CurrSetpt  '</span>  1  [7 ,1]  6         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span>
1159 <span class="string">'8QFC1    '</span>    <span class="string">'MS1-QFC:CurrSetptDes '</span>    <span class="string">'MS1-QFC:Curr    '</span>    <span class="string">'MS1-QFC:CurrSetpt  '</span>  1  [8 ,1]  7         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span>
1160 <span class="string">'11QFC2   '</span>    <span class="string">'MS2-QFC:CurrSetptDes '</span>    <span class="string">'MS2-QFC:Curr    '</span>    <span class="string">'MS2-QFC:CurrSetpt  '</span>  1  [11,1]  8         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span><span class="comment"> </span>
1161 <span class="string">'12QFC2   '</span>    <span class="string">'MS2-QFC:CurrSetptDes '</span>    <span class="string">'MS2-QFC:Curr    '</span>    <span class="string">'MS2-QFC:CurrSetpt  '</span>  1  [12,1]  9         1.0         [0 500] 0.050   0.05; <span class="keyword">...</span>
1162 <span class="string">'13QFC2   '</span>    <span class="string">'MS2-QFC:CurrSetptDes '</span>    <span class="string">'MS2-QFC:Curr    '</span>    <span class="string">'MS2-QFC:CurrSetpt  '</span>  1  [13,1]  10        1.0         [0 500] 0.050   0.05; <span class="keyword">...</span>
1163 <span class="string">'14QFC2   '</span>    <span class="string">'MS2-QFC:CurrSetptDes '</span>    <span class="string">'MS2-QFC:Curr    '</span>    <span class="string">'MS2-QFC:CurrSetpt  '</span>  1  [14,1]  11        1.0         [0 500] 0.050   0.05; <span class="keyword">...</span>
1164 <span class="string">'15QFC2   '</span>    <span class="string">'MS2-QFC:CurrSetptDes '</span>    <span class="string">'MS2-QFC:Curr    '</span>    <span class="string">'MS2-QFC:CurrSetpt  '</span>  1  [15,1]  12        1.0         [0 500] 0.050   0.05; <span class="keyword">...</span><span class="comment"> </span>
1165 <span class="string">'16QFC2   '</span>    <span class="string">'MS2-QFC:CurrSetptDes '</span>    <span class="string">'MS2-QFC:Curr    '</span>    <span class="string">'MS2-QFC:CurrSetpt  '</span>  1  [16,1]  13        1.0         [0 500] 0.050   0.05; <span class="keyword">...</span><span class="comment"> </span>
1166 <span class="string">'17QFC2   '</span>    <span class="string">'MS2-QFC:CurrSetptDes '</span>    <span class="string">'MS2-QFC:Curr    '</span>    <span class="string">'MS2-QFC:CurrSetpt  '</span>  1  [17,1]  14        1.0         [0 500] 0.050   0.05; <span class="keyword">...</span>
1167 };
1168  
1169 <span class="keyword">for</span> ii=1:size(qfc,1)
1170 name=qfc{ii,1};      AO{ifam}.CommonNames(ii,:)           = name;            
1171 name=qfc{ii,2};      AO{ifam}.Desired.ChannelNames(ii,:)  = name;
1172 name=qfc{ii,3};      AO{ifam}.Monitor.ChannelNames(ii,:)  = name;
1173 name=qfc{ii,4};      AO{ifam}.Setpoint.ChannelNames(ii,:) = name;     
1174 val =qfc{ii,5};      AO{ifam}.Status(ii,1)                = val;
1175 val =qfc{ii,6};      AO{ifam}.DeviceList(ii,:)            = val;
1176 val =qfc{ii,7};      AO{ifam}.ElementList(ii,1)           = val;
1177 val =qfc{ii,8};
1178 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)                = HW2PhysicsParams;
1179 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)                = val;
1180 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)                = HW2PhysicsParams;
1181 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)                = val;
1182 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1183 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)               = val;
1184 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)                = Physics2HWParams;
1185 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)                = val;
1186 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)                = Physics2HWParams;
1187 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)                = val;
1188 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1189 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)               = val;
1190 val =qfc{ii,9};      AO{ifam}.Setpoint.Range(ii,:)        = val;
1191 val =qfc{ii,10};     AO{ifam}.Setpoint.Tolerance(ii,1)    = val;
1192 val =qfc{ii,11};     AO{ifam}.Setpoint.DeltaRespMat(ii,1) = val;
1193 <span class="keyword">end</span>
1194 
1195 
1196 <span class="comment">%===============</span>
1197 <span class="comment">%Quadrupole data</span>
1198 <span class="comment">%===============</span>
1199 <span class="comment">% *** QDX ***</span>
1200 ifam=ifam+1;
1201 AO{ifam}.FamilyName                 = <span class="string">'QDX'</span>;
1202 AO{ifam}.FamilyType                 = <span class="string">'QUAD'</span>;
1203 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1204 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QDX'</span>);
1205 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QDX'</span>);
1206 
1207 AO{ifam}.Desired.Mode               = Mode;
1208 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1209 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1210 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1211 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1212 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1213 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1214 
1215 AO{ifam}.Monitor.Mode               = Mode;
1216 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
1217 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
1218 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1219 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1220 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
1221 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1222 
1223 AO{ifam}.Setpoint.Mode              = Mode;
1224 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
1225 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
1226 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1227 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1228 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
1229 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1230 
1231 AO{ifam}.QMS.Mode              = <span class="string">'Special'</span>;
1232 AO{ifam}.QMS.DataType          = <span class="string">'Scalar'</span>;
1233 AO{ifam}.QMS.SpecialFunctionSet = <span class="string">'setspquad'</span>;
1234 AO{ifam}.QMS.SpecialFunctionGet = <span class="string">'getspquad'</span>;
1235 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1236 AO{ifam}.QMS.Units             = <span class="string">'Hardware'</span>;
1237 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1238 AO{ifam}.QMS.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1239 AO{ifam}.QMS.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1240 AO{ifam}.QMS.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1241 
1242 qdxfactor= 1/0.9973;
1243 <span class="comment">%                                                                                                               delta-k</span>
1244 <span class="comment">%common            desired                   monitor               setpoint                 stat devlist elem scalefactor   range   tol     respkick</span>
1245 qdx={ 
1246  <span class="string">'1QDX1     '</span>    <span class="string">'MS1-QDX:CurrSetptDes  '</span>    <span class="string">'MS1-QDX:Curr     '</span>     <span class="string">'MS1-QDX:CurrSetpt   '</span>  1   [1  ,1]  1   qdxfactor     [0 500]  0.050    0.05; <span class="keyword">...</span>
1247  <span class="string">'9QDX1     '</span>    <span class="string">'MS2-QDX:CurrSetptDes  '</span>    <span class="string">'MS2-QDX:Curr     '</span>     <span class="string">'MS2-QDX:CurrSetpt   '</span>  1   [9  ,1]  2   qdxfactor     [0 500]  0.050    0.05; <span class="keyword">...</span>
1248  <span class="string">'10QDX1    '</span>    <span class="string">'MS2-QDX:CurrSetptDes  '</span>    <span class="string">'MS2-QDX:Curr     '</span>     <span class="string">'MS2-QDX:CurrSetpt   '</span>  1   [10 ,1]  3   qdxfactor     [0 500]  0.050    0.05; <span class="keyword">...</span>
1249  <span class="string">'18QDX1    '</span>    <span class="string">'MS1-QDX:CurrSetptDes  '</span>    <span class="string">'MS1-QDX:Curr     '</span>     <span class="string">'MS1-QDX:CurrSetpt   '</span>  1   [18 ,1]  4   qdxfactor     [0 500]  0.050    0.05; <span class="keyword">...</span>
1250   };
1251 
1252 <span class="keyword">for</span> ii=1:size(qdx,1)
1253 name=qdx{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
1254 name=qdx{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
1255 name=qdx{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
1256 name=qdx{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
1257 val =qdx{ii,5};     AO{ifam}.Status(ii,1)               = val;
1258 val =qdx{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
1259 val =qdx{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
1260 val =qdx{ii,8};
1261 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1262 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)               = val;
1263 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1264 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)               = val;
1265 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1266 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)              = val;
1267 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1268 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)               = val;
1269 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1270 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)               = val;
1271 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1272 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)              = val;
1273 val =qdx{ii,9};     AO{ifam}.Setpoint.Range(ii,:)        = val;
1274 val =qdx{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)    = val;
1275 val =qdx{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)= val;
1276 <span class="keyword">end</span>
1277 
1278 
1279 <span class="comment">% *** QFX ***</span>
1280 ifam=ifam+1;
1281 AO{ifam}.FamilyName                 = <span class="string">'QFX'</span>;
1282 AO{ifam}.FamilyType                 = <span class="string">'QUAD'</span>;
1283 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1284 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFX'</span>);
1285 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFX'</span>);
1286 
1287 AO{ifam}.Desired.Mode               = Mode;
1288 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1289 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1290 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1291 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1292 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1293 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1294 
1295 AO{ifam}.Monitor.Mode               = Mode;
1296 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
1297 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
1298 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1299 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1300 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
1301 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1302 
1303 AO{ifam}.Setpoint.Mode              = Mode;
1304 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
1305 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
1306 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1307 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1308 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
1309 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1310 
1311 AO{ifam}.QMS.Mode              = <span class="string">'Special'</span>;
1312 AO{ifam}.QMS.DataType          = <span class="string">'Scalar'</span>;
1313 AO{ifam}.QMS.SpecialFunctionSet = <span class="string">'setspquad'</span>;
1314 AO{ifam}.QMS.SpecialFunctionGet = <span class="string">'getspquad'</span>;
1315 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1316 AO{ifam}.QMS.Units             = <span class="string">'Hardware'</span>;
1317 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1318 AO{ifam}.QMS.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1319 AO{ifam}.QMS.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1320 AO{ifam}.QMS.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1321    
1322 qfxfactor=1/0.9984;
1323 <span class="comment">%                                                                                                               delta-k</span>
1324 <span class="comment">%common              desired                     monitor                setpoint          stat devlist  elem   scalefactor   range   tol  respkick</span>
1325 qfx={  
1326  <span class="string">'1QFX1     '</span>    <span class="string">'MS1-QFX:CurrSetptDes  '</span>    <span class="string">'MS1-QFX:Curr     '</span>     <span class="string">'MS1-QFX:CurrSetpt   '</span>  1   [1  ,1]  1    qfxfactor    [0 500]  0.050    0.05; <span class="keyword">...</span>
1327  <span class="string">'9QFX1     '</span>    <span class="string">'MS2-QFX:CurrSetptDes  '</span>    <span class="string">'MS2-QFX:Curr     '</span>     <span class="string">'MS2-QFX:CurrSetpt   '</span>  1   [9  ,1]  2    qfxfactor    [0 500]  0.050    0.05; <span class="keyword">...</span>
1328  <span class="string">'10QFX1    '</span>    <span class="string">'MS2-QFX:CurrSetptDes  '</span>    <span class="string">'MS2-QFX:Curr     '</span>     <span class="string">'MS2-QFX:CurrSetpt   '</span>  1   [10 ,1]  3    qfxfactor    [0 500]  0.050    0.05; <span class="keyword">...</span>
1329  <span class="string">'18QFX1    '</span>    <span class="string">'MS1-QFX:CurrSetptDes  '</span>    <span class="string">'MS1-QFX:Curr     '</span>     <span class="string">'MS1-QFX:CurrSetpt   '</span>  1   [18 ,1]  4    qfxfactor    [0 500]  0.050    0.05; <span class="keyword">...</span>
1330   };
1331 
1332 <span class="keyword">for</span> ii=1:size(qfx,1)
1333 name=qfx{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
1334 name=qfx{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
1335 name=qfx{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
1336 name=qfx{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
1337 val =qfx{ii,5};     AO{ifam}.Status(ii,1)               = val;
1338 val =qfx{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
1339 val =qfx{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
1340 val =qfx{ii,8};
1341 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1342 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
1343 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1344 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = val;
1345 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
1346 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = val;
1347 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1348 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = val;
1349 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1350 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = val;
1351 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
1352 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = val;
1353 val =qfx{ii,9};     AO{ifam}.Setpoint.Range(ii,:)       = val;
1354 val =qfx{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
1355 val =qfx{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)= val;
1356 <span class="keyword">end</span>
1357 
1358 
1359 <span class="comment">% *** QDY ***</span>
1360 ifam=ifam+1;
1361 AO{ifam}.FamilyName                 = <span class="string">'QDY'</span>;
1362 AO{ifam}.FamilyType                 = <span class="string">'QUAD'</span>;
1363 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1364 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QDY'</span>);
1365 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QDY'</span>);
1366 
1367 AO{ifam}.Desired.Mode               = Mode;
1368 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1369 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1370 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1371 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1372 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1373 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1374 
1375 AO{ifam}.Monitor.Mode               = Mode;
1376 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
1377 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
1378 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1379 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1380 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
1381 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1382 
1383 AO{ifam}.Setpoint.Mode              = Mode;
1384 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
1385 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
1386 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1387 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1388 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
1389 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1390 
1391 AO{ifam}.QMS.Mode              = <span class="string">'Special'</span>;
1392 AO{ifam}.QMS.DataType          = <span class="string">'Scalar'</span>;
1393 AO{ifam}.QMS.SpecialFunctionSet = <span class="string">'setspquad'</span>;
1394 AO{ifam}.QMS.SpecialFunctionGet = <span class="string">'getspquad'</span>;
1395 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1396 AO{ifam}.QMS.Units             = <span class="string">'Hardware'</span>;
1397 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1398 AO{ifam}.QMS.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1399 AO{ifam}.QMS.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1400 AO{ifam}.QMS.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1401     
1402 <span class="comment">%                                                                                                          delta-k</span>
1403 <span class="comment">%common             desired                monitor               setpoint          stat devlist  elem   scalefactor      range   tol  respkick</span>
1404 qdy={ 
1405  <span class="string">'1QDY1     '</span>    <span class="string">'MS1-QDY:CurrSetptDes  '</span>    <span class="string">'MS1-QDY:Curr     '</span>     <span class="string">'MS1-QDY:CurrSetpt   '</span>  1   [1  ,1]  1     1.0         [0 500]  0.050    0.05; <span class="keyword">...</span>
1406  <span class="string">'9QDY1     '</span>    <span class="string">'MS2-QDY:CurrSetptDes  '</span>    <span class="string">'MS2-QDY:Curr     '</span>     <span class="string">'MS2-QDY:CurrSetpt   '</span>  1   [9  ,1]  2     1.0         [0 500]  0.050    0.05; <span class="keyword">...</span>
1407  <span class="string">'10QDY1    '</span>    <span class="string">'MS2-QDY:CurrSetptDes  '</span>    <span class="string">'MS2-QDY:Curr     '</span>     <span class="string">'MS2-QDY:CurrSetpt   '</span>  1   [10 ,1]  3     1.0         [0 500]  0.050    0.05; <span class="keyword">...</span>
1408  <span class="string">'18QDY1    '</span>    <span class="string">'MS1-QDY:CurrSetptDes  '</span>    <span class="string">'MS1-QDY:Curr     '</span>     <span class="string">'MS1-QDY:CurrSetpt   '</span>  1   [18 ,1]  4     1.0         [0 500]  0.050    0.05; <span class="keyword">...</span>
1409   };
1410 
1411 <span class="keyword">for</span> ii=1:size(qdy,1)
1412 name=qdy{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
1413 name=qdy{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
1414 name=qdy{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
1415 name=qdy{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
1416 val =qdy{ii,5};     AO{ifam}.Status(ii,1)               = val;
1417 val =qdy{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
1418 val =qdy{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
1419 val =qdy{ii,8};
1420 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1421 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
1422 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1423 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = val;
1424 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
1425 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = val;
1426 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1427 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = val;
1428 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1429 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = val;
1430 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
1431 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = val;
1432 val =qdy{ii,9};     AO{ifam}.Setpoint.Range(ii,:)       = val;
1433 val =qdy{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
1434 val =qdy{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)= val;
1435 <span class="keyword">end</span>
1436 
1437 
1438 <span class="comment">% *** QFY ***</span>
1439 ifam=ifam+1;
1440 AO{ifam}.FamilyName                 = <span class="string">'QFY'</span>;
1441 AO{ifam}.FamilyType                 = <span class="string">'QUAD'</span>;
1442 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1443 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFY'</span>);
1444 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFY'</span>);
1445 
1446 AO{ifam}.Desired.Mode               = Mode;
1447 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1448 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1449 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1450 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1451 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1452 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1453 
1454 AO{ifam}.Monitor.Mode               = Mode;
1455 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
1456 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
1457 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1458 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1459 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
1460 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1461 
1462 AO{ifam}.Setpoint.Mode              = Mode;
1463 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
1464 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
1465 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1466 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1467 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
1468 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1469 
1470 AO{ifam}.QMS.Mode              = <span class="string">'Special'</span>;
1471 AO{ifam}.QMS.DataType          = <span class="string">'Scalar'</span>;
1472 AO{ifam}.QMS.SpecialFunctionSet = <span class="string">'setspquad'</span>;
1473 AO{ifam}.QMS.SpecialFunctionGet = <span class="string">'getspquad'</span>;
1474 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1475 AO{ifam}.QMS.Units             = <span class="string">'Hardware'</span>;
1476 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1477 AO{ifam}.QMS.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1478 AO{ifam}.QMS.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1479 AO{ifam}.QMS.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1480 
1481 <span class="comment">%                                                                                                          delta-k</span>
1482 <span class="comment">%common               desired               monitor               setpoint          stat devlist  elem   scalefactor      range   tol  respkick</span>
1483 qfy={ 
1484  <span class="string">'1QFY1     '</span>    <span class="string">'MS1-QFY:CurrSetptDes  '</span>    <span class="string">'MS1-QFY:Curr     '</span>     <span class="string">'MS1-QFY:CurrSetpt   '</span>  1   [1  ,1]  1     1.0         [0 500]  0.050    0.05; <span class="keyword">...</span>
1485  <span class="string">'9QFY1     '</span>    <span class="string">'MS2-QFY:CurrSetptDes  '</span>    <span class="string">'MS2-QFY:Curr     '</span>     <span class="string">'MS2-QFY:CurrSetpt   '</span>  1   [9  ,1]  2     1.0         [0 500]  0.050    0.05; <span class="keyword">...</span>
1486  <span class="string">'10QFY1    '</span>    <span class="string">'MS2-QFY:CurrSetptDes  '</span>    <span class="string">'MS2-QFY:Curr     '</span>     <span class="string">'MS2-QFY:CurrSetpt   '</span>  1   [10 ,1]  3     1.0         [0 500]  0.050    0.05; <span class="keyword">...</span>
1487  <span class="string">'18QFY1    '</span>    <span class="string">'MS1-QFY:CurrSetptDes  '</span>    <span class="string">'MS1-QFY:Curr     '</span>     <span class="string">'MS1-QFY:CurrSetpt   '</span>  1   [18 ,1]  4     1.0         [0 500]  0.050    0.05; <span class="keyword">...</span>
1488   };
1489 
1490 <span class="keyword">for</span> ii=1:size(qfy,1)
1491 name=qfy{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
1492 name=qfy{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
1493 name=qfy{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
1494 name=qfy{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
1495 val =qfy{ii,5};     AO{ifam}.Status(ii,1)               = val;
1496 val =qfy{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
1497 val =qfy{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
1498 val =qfy{ii,8};
1499 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1500 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
1501 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1502 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = val;
1503 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
1504 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = val;
1505 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1506 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = val;
1507 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1508 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = val;
1509 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
1510 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = val;
1511 val =qfy{ii,9};     AO{ifam}.Setpoint.Range(ii,:)       = val;
1512 val =qfy{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
1513 val =qfy{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)= val;
1514 <span class="keyword">end</span>
1515 
1516 
1517 <span class="comment">% *** QDZ ***</span>
1518 ifam=ifam+1;
1519 AO{ifam}.FamilyName                 = <span class="string">'QDZ'</span>;
1520 AO{ifam}.FamilyType                 = <span class="string">'QUAD'</span>;
1521 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1522 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QDZ'</span>);
1523 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QDZ'</span>);
1524 
1525 AO{ifam}.Desired.Mode               = Mode;
1526 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1527 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1528 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1529 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1530 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1531 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1532 
1533 AO{ifam}.Monitor.Mode               = Mode;
1534 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
1535 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
1536 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1537 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1538 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
1539 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1540 
1541 AO{ifam}.Setpoint.Mode              = Mode;
1542 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
1543 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
1544 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1545 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1546 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
1547 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1548 
1549 AO{ifam}.QMS.Mode              = <span class="string">'Special'</span>;
1550 AO{ifam}.QMS.DataType          = <span class="string">'Scalar'</span>;
1551 AO{ifam}.QMS.SpecialFunctionSet = <span class="string">'setspquad'</span>;
1552 AO{ifam}.QMS.SpecialFunctionGet = <span class="string">'getspquad'</span>;
1553 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1554 AO{ifam}.QMS.Units             = <span class="string">'Hardware'</span>;
1555 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1556 AO{ifam}.QMS.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1557 AO{ifam}.QMS.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1558 AO{ifam}.QMS.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1559   
1560 qdzafactor=1/0.9915;
1561 qdzbfactor=1/0.994;
1562 <span class="comment">%                                                                                                                 delta-k</span>
1563 <span class="comment">%common             desired                     monitor               setpoint              stat devlist elem   scalefactor  range   tol     respkick</span>
1564 qdz={ 
1565  <span class="string">'1QDZ1     '</span>    <span class="string">'MS1-QDZ:CurrSetptDes  '</span>    <span class="string">'MS1-QDZ:Curr     '</span>     <span class="string">'MS1-QDZ:CurrSetpt   '</span>  1   [1  ,1]  1     qdzafactor  [0 500]  0.050    0.05; <span class="keyword">...</span>
1566  <span class="string">'9QDZ1     '</span>    <span class="string">'MS2-QDZ:CurrSetptDes  '</span>    <span class="string">'MS2-QDZ:Curr     '</span>     <span class="string">'MS2-QDZ:CurrSetpt   '</span>  1   [9  ,1]  2     qdzbfactor  [0 500]  0.050    0.05; <span class="keyword">...</span>
1567  <span class="string">'10QDZ1    '</span>    <span class="string">'MS2-QDZ:CurrSetptDes  '</span>    <span class="string">'MS2-QDZ:Curr     '</span>     <span class="string">'MS2-QDZ:CurrSetpt   '</span>  1   [10 ,1]  3     qdzafactor  [0 500]  0.050    0.05; <span class="keyword">...</span>
1568  <span class="string">'18QDZ1    '</span>    <span class="string">'MS1-QDZ:CurrSetptDes  '</span>    <span class="string">'MS1-QDZ:Curr     '</span>     <span class="string">'MS1-QDZ:CurrSetpt   '</span>  1   [18 ,1]  4     qdzbfactor  [0 500]  0.050    0.05; <span class="keyword">...</span>
1569   };
1570 
1571 <span class="keyword">for</span> ii=1:size(qdz,1)
1572 name=qdz{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
1573 name=qdz{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
1574 name=qdz{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
1575 name=qdz{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
1576 val =qdz{ii,5};     AO{ifam}.Status(ii,1)               = val;
1577 val =qdz{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
1578 val =qdz{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
1579 val =qdz{ii,8};
1580 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1581 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
1582 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1583 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = val;
1584 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
1585 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = val;
1586 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1587 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = val;
1588 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1589 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = val;
1590 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
1591 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = val;
1592 val =qdz{ii,9};     AO{ifam}.Setpoint.Range(ii,:)       = val;
1593 val =qdz{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
1594 val =qdz{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)= val;
1595 <span class="keyword">end</span>
1596 
1597 
1598 <span class="comment">% *** QFZ ***</span>
1599 ifam=ifam+1;
1600 AO{ifam}.FamilyName                 = <span class="string">'QFZ'</span>;
1601 AO{ifam}.FamilyType                 = <span class="string">'QUAD'</span>;
1602 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1603 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFZ'</span>);
1604 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFZ'</span>);
1605 
1606 AO{ifam}.Desired.Mode               = Mode;
1607 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1608 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1609 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1610 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1611 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1612 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1613 
1614 AO{ifam}.Monitor.Mode               = Mode;
1615 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
1616 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
1617 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1618 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1619 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
1620 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1621 
1622 AO{ifam}.Setpoint.Mode              = Mode;
1623 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
1624 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
1625 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1626 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1627 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
1628 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1629 
1630 AO{ifam}.QMS.Mode              = <span class="string">'Special'</span>;
1631 AO{ifam}.QMS.DataType          = <span class="string">'Scalar'</span>;
1632 AO{ifam}.QMS.SpecialFunctionSet = <span class="string">'setspquad'</span>;
1633 AO{ifam}.QMS.SpecialFunctionGet = <span class="string">'getspquad'</span>;
1634 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1635 AO{ifam}.QMS.Units             = <span class="string">'Hardware'</span>;
1636 AO{ifam}.QMS.HWUnits           = <span class="string">'ampere'</span>;           
1637 AO{ifam}.QMS.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1638 AO{ifam}.QMS.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1639 AO{ifam}.QMS.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1640 
1641 qfzafactor=1/0.9957;
1642 qfzbfactor=1/0.9935;
1643 <span class="comment">%                                                                                                               delta-k</span>
1644 <span class="comment">%common               desired                  monitor                   setpoint          stat devlist  elem   scalefactor    range   tol     respkick</span>
1645 qfz={ 
1646  <span class="string">'1QFZ1     '</span>    <span class="string">'MS1-QFZ:CurrSetptDes  '</span>    <span class="string">'MS1-QFZ:Curr     '</span>     <span class="string">'MS1-QFZ:CurrSetpt   '</span>  1   [1  ,1]  1     qfzafactor    [0 500]  0.050    0.05; <span class="keyword">...</span>
1647  <span class="string">'9QFZ1     '</span>    <span class="string">'MS2-QFZ:CurrSetptDes  '</span>    <span class="string">'MS2-QFZ:Curr     '</span>     <span class="string">'MS2-QFZ:CurrSetpt   '</span>  1   [9  ,1]  2     qfzbfactor    [0 500]  0.050    0.05; <span class="keyword">...</span>
1648  <span class="string">'10QFZ1    '</span>    <span class="string">'MS2-QFZ:CurrSetptDes  '</span>    <span class="string">'MS2-QFZ:Curr     '</span>     <span class="string">'MS2-QFZ:CurrSetpt   '</span>  1   [10 ,1]  3     qfzafactor    [0 500]  0.050    0.05; <span class="keyword">...</span>
1649  <span class="string">'18QFZ1    '</span>    <span class="string">'MS1-QFZ:CurrSetptDes  '</span>    <span class="string">'MS1-QFZ:Curr     '</span>     <span class="string">'MS1-QFZ:CurrSetpt   '</span>  1   [18 ,1]  4     qfzbfactor    [0 500]  0.050    0.05; <span class="keyword">...</span>
1650   };
1651 
1652 <span class="keyword">for</span> ii=1:size(qfz,1)
1653 name=qfz{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
1654 name=qfz{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
1655 name=qfz{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
1656 name=qfz{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
1657 val =qfz{ii,5};     AO{ifam}.Status(ii,1)               = val;
1658 val =qfz{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
1659 val =qfz{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
1660 val =qfz{ii,8};
1661 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1662 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
1663 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1664 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = val;
1665 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
1666 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = val;
1667 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1668 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = val;
1669 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1670 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = val;
1671 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
1672 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = val;
1673 val =qfz{ii,9};     AO{ifam}.Setpoint.Range(ii,:)       = val;
1674 val =qfz{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
1675 val =qfz{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)= val;
1676 <span class="keyword">end</span>
1677 
1678 <span class="comment">% *** QDW ***</span>
1679 ifam=ifam+1;
1680 AO{ifam}.FamilyName                 = <span class="string">'QDW'</span>;
1681 AO{ifam}.FamilyType                 = <span class="string">'QUAD'</span>;
1682 AO{ifam}.MemberOf                   = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'QUAD'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1683 
1684 AO{ifam}.Desired.Mode               = Mode;
1685 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1686 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1687 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1688 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1689 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1690 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1691 
1692 AO{ifam}.Monitor.Mode               = Mode;
1693 AO{ifam}.Monitor.DataType           = <span class="string">'Scalar'</span>;
1694 AO{ifam}.Monitor.Units              = <span class="string">'Hardware'</span>;
1695 AO{ifam}.Monitor.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1696 AO{ifam}.Monitor.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1697 AO{ifam}.Monitor.HWUnits            = <span class="string">'ampere'</span>;           
1698 AO{ifam}.Monitor.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1699 
1700 AO{ifam}.Setpoint.Mode              = Mode;
1701 AO{ifam}.Setpoint.DataType          = <span class="string">'Scalar'</span>;
1702 AO{ifam}.Setpoint.Units             = <span class="string">'Hardware'</span>;
1703 AO{ifam}.Setpoint.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1704 AO{ifam}.Setpoint.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1705 AO{ifam}.Setpoint.HWUnits           = <span class="string">'ampere'</span>;           
1706 AO{ifam}.Setpoint.PhysicsUnits      = <span class="string">'meter^-2'</span>;
1707 
1708 <span class="comment">% AO{ifam}.QMS.Mode              = 'Special';</span>
1709 <span class="comment">% AO{ifam}.QMS.DataType          = 'Scalar';</span>
1710 <span class="comment">% AO{ifam}.QMS.SpecialFunctionSet = 'setspquad';</span>
1711 <span class="comment">% AO{ifam}.QMS.SpecialFunctionGet = 'getspquad';</span>
1712 <span class="comment">% AO{ifam}.QMS.HWUnits           = 'ampere';</span>
1713 <span class="comment">% AO{ifam}.QMS.Units             = 'Hardware';</span>
1714 <span class="comment">% AO{ifam}.QMS.HWUnits           = 'ampere';</span>
1715 <span class="comment">% AO{ifam}.QMS.PhysicsUnits      = 'meter^-2';</span>
1716 <span class="comment">% AO{ifam}.QMS.HW2PhysicsFcn     = @amp2k;</span>
1717 <span class="comment">% AO{ifam}.QMS.Physics2HWFcn     = @k2amp;</span>
1718 
1719 <span class="comment">%</span>
1720 <span class="comment">%common               desired                  monitor                   setpoint          stat devlist  elem    calib  range    tol     respkick</span>
1721 qdw={ 
1722  <span class="string">'9QF1     '</span>    <span class="string">'09S-QF1:CurrSetptDes '</span>    <span class="string">'09S-QF1:Curr     '</span>     <span class="string">'09S-QF1:CurrSetpt   '</span>   1   [9  ,1]   1      1.0    [0 500]  0.050    0.05; <span class="keyword">...</span>
1723  <span class="string">'9QD1     '</span>    <span class="string">'09S-QD1:CurrSetptDes '</span>    <span class="string">'09S-QD1:Curr     '</span>     <span class="string">'09S-QD1:CurrSetpt   '</span>   1   [9  ,2]   2      1.0    [0 500]  0.050    0.05; <span class="keyword">...</span>
1724  <span class="string">'9QF2     '</span>    <span class="string">'09S-QF2:CurrSetptDes '</span>    <span class="string">'09S-QF2:Curr     '</span>     <span class="string">'09S-QF2:CurrSetpt   '</span>   1   [9  ,3]   3      1.0    [0 500]  0.050    0.05; <span class="keyword">...</span>
1725   };
1726 
1727 <span class="keyword">for</span> ii=1:size(qdw,1)
1728 name=qdw{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
1729 name=qdw{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
1730 name=qdw{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
1731 name=qdw{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
1732 val =qdw{ii,5};     AO{ifam}.Status(ii,1)               = val;
1733 val =qdw{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
1734 val =qdw{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
1735 val =qdw{ii,9};     AO{ifam}.Setpoint.Range(ii,:)       = val;
1736 val =qdw{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
1737 val =qdw{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)= val;
1738 <span class="keyword">end</span>
1739 
1740 <span class="comment">%load magnet coefficient data for Q34's</span>
1741 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QF'</span>);
1742 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QF'</span>);
1743 val =qdw{ii,8};
1744 <span class="keyword">for</span> ii=[1 3]
1745 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1746 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
1747 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1748 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = 1;
1749 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
1750 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = 1;
1751 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1752 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = 1;
1753 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1754 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = 1;
1755 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
1756 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = 1;
1757 <span class="keyword">end</span>
1758 
1759 <span class="comment">%load magnet coefficient data for Q60</span>
1760 HW2PhysicsParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFX'</span>);
1761 Physics2HWParams                    = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'QFX'</span>);
1762 val =qdw{ii,8};
1763 ii=2;
1764 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1765 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
1766 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1767 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = 1;
1768 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
1769 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = 1;
1770 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1771 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = 1;
1772 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1773 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = 1;
1774 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
1775 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = 1;
1776 
1777 
1778 <span class="comment">%===============</span>
1779 <span class="comment">%Sextupole data</span>
1780 <span class="comment">%===============</span>
1781 <span class="comment">% *** SF ***</span>
1782 ifam=ifam+1;
1783 AO{ifam}.FamilyName                = <span class="string">'SF'</span>;
1784 AO{ifam}.FamilyType                = <span class="string">'SEXT'</span>;
1785 AO{ifam}.MemberOf                  = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'SEXT'</span>; <span class="string">'Magnet'</span>; <span class="string">'Chromaticity Corrector'</span>; <span class="string">'Bitbus'</span>;};
1786 HW2PhysicsParams                   = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'SF'</span>);
1787 Physics2HWParams                   = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'SF'</span>);
1788 
1789 AO{ifam}.Desired.Mode               = Mode;
1790 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1791 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1792 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1793 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1794 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1795 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1796 
1797 AO{ifam}.Monitor.Mode              = Mode;
1798 AO{ifam}.Monitor.DataType          = <span class="string">'Scalar'</span>;
1799 AO{ifam}.Monitor.Units             = <span class="string">'Hardware'</span>;
1800 AO{ifam}.Monitor.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1801 AO{ifam}.Monitor.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1802 AO{ifam}.Monitor.HWUnits           = <span class="string">'ampere'</span>;           
1803 AO{ifam}.Monitor.PhysicsUnits      = <span class="string">'meter^-3'</span>;
1804 
1805 AO{ifam}.Setpoint.Mode             = Mode;
1806 AO{ifam}.Setpoint.DataType         = <span class="string">'Scalar'</span>;
1807 AO{ifam}.Setpoint.Units            = <span class="string">'Hardware'</span>;
1808 AO{ifam}.Setpoint.HW2PhysicsFcn    = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1809 AO{ifam}.Setpoint.Physics2HWFcn    = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1810 AO{ifam}.Setpoint.HWUnits          = <span class="string">'ampere'</span>;           
1811 AO{ifam}.Setpoint.PhysicsUnits     = <span class="string">'meter^-3'</span>;
1812 
1813 <span class="comment">%                                                                                                      delta-k</span>
1814 <span class="comment">%common            desired            monitor               setpoint        stat  devlist  elem      scalefactor      range   tol  respkick</span>
1815 sf={
1816  <span class="string">'2SF1    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [2 ,1]  1          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1817  <span class="string">'2SF2    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [2 ,2]  2          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1818  <span class="string">'3SF1    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [3 ,1]  3          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1819  <span class="string">'3SF2    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [3 ,2]  4          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1820  <span class="string">'4SF1    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [4 ,1]  5          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1821  <span class="string">'4SF2    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [4 ,2]  6          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1822  <span class="string">'5SF1    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [5 ,1]  7          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1823  <span class="string">'5SF2    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [5 ,2]  8          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1824  <span class="string">'6SF1    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [6 ,1]  9          1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1825  <span class="string">'6SF2    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [6 ,2]  10         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1826  <span class="string">'7SF1    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [7 ,1]  11         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1827  <span class="string">'7SF2    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [7 ,2]  12         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1828  <span class="string">'8SF1    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [8 ,1]  13         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1829  <span class="string">'8SF2    '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [8 ,2]  14         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1830  <span class="string">'11SF1   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [11,1]  15         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1831  <span class="string">'11SF2   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [11,2]  16         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1832  <span class="string">'12SF1   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [12,1]  17         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1833  <span class="string">'12SF2   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [12,2]  18         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1834  <span class="string">'13SF1   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [13,1]  19         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1835  <span class="string">'13SF2   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [13,2]  20         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1836  <span class="string">'14SF1   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [14,1]  21         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1837  <span class="string">'14SF2   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [14,2]  22         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1838  <span class="string">'15SF1   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [15,1]  23         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1839  <span class="string">'15SF2   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [15,2]  24         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1840  <span class="string">'16SF1   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [16,1]  25         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1841  <span class="string">'16SF2   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [16,2]  26         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1842  <span class="string">'17SF1   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [17,1]  27         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1843  <span class="string">'17SF2   '</span>    <span class="string">'MS1-SF:CurrSetptDes '</span>    <span class="string">'MS1-SF:Curr    '</span>    <span class="string">'MS1-SF:CurrSetpt  '</span>  1   [17,2]  28         1.0       [0, 500] 0.050   0.75; <span class="keyword">...</span>
1844 };
1845 
1846 <span class="keyword">for</span> ii=1:size(sf,1)
1847 name=sf{ii,1};      AO{ifam}.CommonNames(ii,:)           = name;            
1848 name=sf{ii,2};      AO{ifam}.Desired.ChannelNames(ii,:)  = name;
1849 name=sf{ii,3};      AO{ifam}.Monitor.ChannelNames(ii,:)  = name;
1850 name=sf{ii,4};      AO{ifam}.Setpoint.ChannelNames(ii,:) = name;     
1851 val =sf{ii,5};      AO{ifam}.Status(ii,1)                = val;
1852 val =sf{ii,6};      AO{ifam}.DeviceList(ii,:)            = val;
1853 val =sf{ii,7};      AO{ifam}.ElementList(ii,1)           = val;
1854 val =sf{ii,8};
1855 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1856 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)               = val;
1857 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1858 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)               = val;
1859 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1860 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)              = val;
1861 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1862 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)               = val;
1863 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1864 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)               = val;
1865 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1866 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)              = val;
1867 val =sf{ii,9};      AO{ifam}.Setpoint.Range(ii,:)        = val;
1868 val =sf{ii,10};     AO{ifam}.Setpoint.Tolerance(ii,1)    = val;
1869 val =sf{ii,11};     AO{ifam}.Setpoint.DeltaRespMat(ii,1)         = val;
1870 <span class="keyword">end</span>
1871 
1872 
1873 <span class="comment">% *** SD ***</span>
1874 ifam=ifam+1;
1875 AO{ifam}.FamilyName                = <span class="string">'SD'</span>;
1876 AO{ifam}.FamilyType                = <span class="string">'SEXT'</span>;
1877 AO{ifam}.MemberOf                  = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'SEXT'</span>; <span class="string">'Magnet'</span>; <span class="string">'Chromaticity Corrector'</span>; <span class="string">'Bitbus'</span>;};
1878 HW2PhysicsParams                   = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'SD'</span>);
1879 Physics2HWParams                   = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'SD'</span>);
1880 
1881 AO{ifam}.Desired.Mode               = Mode;
1882 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1883 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1884 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1885 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1886 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1887 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1888 
1889 AO{ifam}.Monitor.Mode              = Mode;
1890 AO{ifam}.Monitor.DataType          = <span class="string">'Scalar'</span>;
1891 AO{ifam}.Monitor.Units             = <span class="string">'Hardware'</span>;
1892 AO{ifam}.Monitor.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1893 AO{ifam}.Monitor.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1894 AO{ifam}.Monitor.HWUnits           = <span class="string">'ampere'</span>;           
1895 AO{ifam}.Monitor.PhysicsUnits      = <span class="string">'meter^-3'</span>;
1896 
1897 AO{ifam}.Setpoint.Mode             = Mode;
1898 AO{ifam}.Setpoint.DataType         = <span class="string">'Scalar'</span>;
1899 AO{ifam}.Setpoint.Units            = <span class="string">'Hardware'</span>;
1900 AO{ifam}.Setpoint.HW2PhysicsFcn    = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1901 AO{ifam}.Setpoint.Physics2HWFcn    = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1902 AO{ifam}.Setpoint.HWUnits          = <span class="string">'ampere'</span>;           
1903 AO{ifam}.Setpoint.PhysicsUnits     = <span class="string">'meter^-3'</span>;
1904 
1905               
1906 <span class="comment">%                                                                                                      delta-k</span>
1907 <span class="comment">%common           desired             monitor               setpoint        stat  devlist  elem  scalefactor    range   tol  respkick</span>
1908 sd={
1909  <span class="string">'2SD1    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [2 ,1]  1          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1910  <span class="string">'2SD2    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [2 ,2]  2          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1911  <span class="string">'3SD1    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [3 ,1]  3          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1912  <span class="string">'3SD2    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [3 ,2]  4          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1913  <span class="string">'4SD1    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [4 ,1]  5          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1914  <span class="string">'4SD2    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [4 ,2]  6          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1915  <span class="string">'5SD1    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [5 ,1]  7          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1916  <span class="string">'5SD2    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [5 ,2]  8          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1917  <span class="string">'6SD1    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [6 ,1]  9          1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1918  <span class="string">'6SD2    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [6 ,2]  10         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1919  <span class="string">'7SD1    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [7 ,1]  11         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1920  <span class="string">'7SD2    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [7 ,2]  12         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1921  <span class="string">'8SD1    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [8 ,1]  13         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1922  <span class="string">'8SD2    '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [8 ,2]  14         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1923  <span class="string">'11SD1   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [11,1]  15         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1924  <span class="string">'11SD2   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [11,2]  16         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1925  <span class="string">'12SD1   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [12,1]  17         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1926  <span class="string">'12SD2   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [12,2]  18         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1927  <span class="string">'13SD1   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [13,1]  19         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1928  <span class="string">'13SD2   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [13,2]  20         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1929  <span class="string">'14SD1   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [14,1]  21         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1930  <span class="string">'14SD2   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [14,2]  22         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1931  <span class="string">'15SD1   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [15,1]  23         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1932  <span class="string">'15SD2   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [15,2]  24         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1933  <span class="string">'16SD1   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [16,1]  25         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1934  <span class="string">'16SD2   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [16,2]  26         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1935  <span class="string">'17SD1   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [17,1]  27         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1936  <span class="string">'17SD2   '</span>    <span class="string">'MS1-SD:CurrSetptDes '</span>    <span class="string">'MS1-SD:Curr    '</span>    <span class="string">'MS1-SD:CurrSetpt  '</span>  1   [17,2]  28         1.0       [0, 500] 0.050   -0.75; <span class="keyword">...</span>
1937 };
1938 
1939 <span class="keyword">for</span> ii=1:size(sd,1)
1940 name=sd{ii,1};      AO{ifam}.CommonNames(ii,:)           = name;            
1941 name=sd{ii,2};      AO{ifam}.Desired.ChannelNames(ii,:)  = name;
1942 name=sd{ii,3};      AO{ifam}.Monitor.ChannelNames(ii,:)  = name;
1943 name=sd{ii,4};      AO{ifam}.Setpoint.ChannelNames(ii,:) = name;     
1944 val =sd{ii,5};      AO{ifam}.Status(ii,1)                = val;
1945 val =sd{ii,6};      AO{ifam}.DeviceList(ii,:)            = val;
1946 val =sd{ii,7};      AO{ifam}.ElementList(ii,1)           = val;
1947 val =sd{ii,8};
1948 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1949 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)               = val;
1950 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)               = HW2PhysicsParams;
1951 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)               = val;
1952 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
1953 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)              = val;
1954 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1955 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)               = val;
1956 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)               = Physics2HWParams;
1957 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)               = val;
1958 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
1959 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)              = val;
1960 val =sd{ii,9};      AO{ifam}.Setpoint.Range(ii,:)        = val;
1961 val =sd{ii,10};     AO{ifam}.Setpoint.Tolerance(ii,1)    = val;
1962 val =sd{ii,11};     AO{ifam}.Setpoint.DeltaRespMat(ii,1) = val;
1963 <span class="keyword">end</span>
1964 
1965 
1966 
1967 <span class="comment">% *** SFM ***</span>
1968 ifam=ifam+1;
1969 AO{ifam}.FamilyName                = <span class="string">'SFM'</span>;
1970 AO{ifam}.FamilyType                = <span class="string">'SEXT'</span>;
1971 AO{ifam}.MemberOf                  = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'SEXT'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
1972 HW2PhysicsParams                   = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'SFM'</span>);
1973 Physics2HWParams                   = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'SFM'</span>);
1974 
1975 AO{ifam}.Desired.Mode               = Mode;
1976 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
1977 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
1978 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
1979 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
1980 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1981 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1982 
1983 AO{ifam}.Monitor.Mode              = Mode;
1984 AO{ifam}.Monitor.DataType          = <span class="string">'Scalar'</span>;
1985 AO{ifam}.Monitor.Units             = <span class="string">'Hardware'</span>;
1986 AO{ifam}.Monitor.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1987 AO{ifam}.Monitor.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1988 AO{ifam}.Monitor.HWUnits           = <span class="string">'ampere'</span>;           
1989 AO{ifam}.Monitor.PhysicsUnits      = <span class="string">'meter^-3'</span>;
1990 
1991 AO{ifam}.Setpoint.Mode             = Mode;
1992 AO{ifam}.Setpoint.DataType         = <span class="string">'Scalar'</span>;
1993 AO{ifam}.Setpoint.Units            = <span class="string">'Hardware'</span>;
1994 AO{ifam}.Setpoint.HW2PhysicsFcn    = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
1995 AO{ifam}.Setpoint.Physics2HWFcn    = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
1996 AO{ifam}.Setpoint.HWUnits          = <span class="string">'ampere'</span>;           
1997 AO{ifam}.Setpoint.PhysicsUnits     = <span class="string">'meter^-3'</span>;
1998 
1999 <span class="comment">%                                                                                                             delta-k</span>
2000 <span class="comment">%common            desired                monitor                setpoint              stat devlist elem    scalefactor    range   tol  respkick</span>
2001 sfm={ 
2002  <span class="string">'1SFM1     '</span>    <span class="string">'MS1-SFM:CurrSetptDes  '</span>    <span class="string">'MS1-SFM:Curr     '</span>     <span class="string">'MS1-SFM:CurrSetpt   '</span>  1   [1  ,1]  1          1.0      [0 500]  0.050   0.75; <span class="keyword">...</span>
2003  <span class="string">'1SFM2     '</span>    <span class="string">'MS1-SFM:CurrSetptDes  '</span>    <span class="string">'MS1-SFM:Curr     '</span>     <span class="string">'MS1-SFM:CurrSetpt   '</span>  1   [1  ,2]  2          1.0      [0 500]  0.050   0.75; <span class="keyword">...</span>
2004  <span class="string">'9SFM1     '</span>    <span class="string">'MS1-SFM:CurrSetptDes  '</span>    <span class="string">'MS1-SFM:Curr     '</span>     <span class="string">'MS1-SFM:CurrSetpt   '</span>  1   [9  ,1]  3          1.0      [0 500]  0.050   0.75; <span class="keyword">...</span>
2005  <span class="string">'9SFM2     '</span>    <span class="string">'MS1-SFM:CurrSetptDes  '</span>    <span class="string">'MS1-SFM:Curr     '</span>     <span class="string">'MS1-SFM:CurrSetpt   '</span>  1   [9  ,2]  4          1.0      [0 500]  0.050   0.75; <span class="keyword">...</span>
2006  <span class="string">'10SFM1    '</span>    <span class="string">'MS1-SFM:CurrSetptDes  '</span>    <span class="string">'MS1-SFM:Curr     '</span>     <span class="string">'MS1-SFM:CurrSetpt   '</span>  1   [10 ,1]  5          1.0      [0 500]  0.050   0.75; <span class="keyword">...</span>
2007  <span class="string">'10SFM2    '</span>    <span class="string">'MS1-SFM:CurrSetptDes  '</span>    <span class="string">'MS1-SFM:Curr     '</span>     <span class="string">'MS1-SFM:CurrSetpt   '</span>  1   [10 ,2]  6          1.0      [0 500]  0.050   0.75; <span class="keyword">...</span>
2008  <span class="string">'18SFM1    '</span>    <span class="string">'MS1-SFM:CurrSetptDes  '</span>    <span class="string">'MS1-SFM:Curr     '</span>     <span class="string">'MS1-SFM:CurrSetpt   '</span>  1   [18 ,1]  7          1.0      [0 500]  0.050   0.75; <span class="keyword">...</span>
2009  <span class="string">'18SFM2    '</span>    <span class="string">'MS1-SFM:CurrSetptDes  '</span>    <span class="string">'MS1-SFM:Curr     '</span>     <span class="string">'MS1-SFM:CurrSetpt   '</span>  1   [18 ,2]  8          1.0      [0 500]  0.050   0.75; <span class="keyword">...</span>
2010   };
2011 
2012 <span class="keyword">for</span> ii=1:size(sfm,1)
2013 name=sfm{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
2014 name=sfm{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
2015 name=sfm{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
2016 name=sfm{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
2017 val =sfm{ii,5};     AO{ifam}.Status(ii,1)               = val;
2018 val =sfm{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
2019 val =sfm{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
2020 val =sfm{ii,8};
2021 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
2022 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
2023 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
2024 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = val;
2025 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
2026 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = val;
2027 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
2028 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = val;
2029 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
2030 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = val;
2031 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
2032 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = val;
2033 val =sfm{ii,9};     AO{ifam}.Setpoint.Range(ii,:)       = val;
2034 val =sfm{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
2035 val =sfm{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)        = val;
2036 <span class="keyword">end</span>
2037 
2038 
2039 <span class="comment">% *** SDM ***</span>
2040 ifam=ifam+1;
2041 AO{ifam}.FamilyName                = <span class="string">'SDM'</span>;
2042 AO{ifam}.FamilyType                = <span class="string">'SEXT'</span>;
2043 AO{ifam}.MemberOf                  = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'SEXT'</span>; <span class="string">'Magnet'</span>; <span class="string">'Bitbus'</span>;};
2044 HW2PhysicsParams                   = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'SDM'</span>);
2045 Physics2HWParams                   = <a href="magnetcoefficients.html" class="code" title="function [C, Leff, MagnetType, A] = magnetcoefficients(MagnetCoreType)">magnetcoefficients</a>(<span class="string">'SDM'</span>);
2046 
2047 AO{ifam}.Desired.Mode               = Mode;
2048 AO{ifam}.Desired.DataType           = <span class="string">'Scalar'</span>;
2049 AO{ifam}.Desired.Units              = <span class="string">'Hardware'</span>;
2050 AO{ifam}.Desired.HWUnits            = <span class="string">'ampere'</span>;           
2051 AO{ifam}.Desired.PhysicsUnits       = <span class="string">'meter^-2'</span>;
2052 AO{ifam}.Desired.HW2PhysicsFcn      = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
2053 AO{ifam}.Desired.Physics2HWFcn      = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
2054 
2055 AO{ifam}.Monitor.Mode              = Mode;
2056 AO{ifam}.Monitor.DataType          = <span class="string">'Scalar'</span>;
2057 AO{ifam}.Monitor.Units             = <span class="string">'Hardware'</span>;
2058 AO{ifam}.Monitor.HW2PhysicsFcn     = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
2059 AO{ifam}.Monitor.Physics2HWFcn     = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
2060 AO{ifam}.Monitor.HWUnits           = <span class="string">'ampere'</span>;           
2061 AO{ifam}.Monitor.PhysicsUnits      = <span class="string">'meter^-3'</span>;
2062 
2063 AO{ifam}.Setpoint.Mode             = Mode;
2064 AO{ifam}.Setpoint.DataType         = <span class="string">'Scalar'</span>;
2065 AO{ifam}.Setpoint.Units            = <span class="string">'Hardware'</span>;
2066 AO{ifam}.Setpoint.HW2PhysicsFcn    = @<a href="amp2k.html" class="code" title="function k = amp2k(Family, Field, Amps, DeviceList, Energy, C, K2AmpScaleFactor)">amp2k</a>;
2067 AO{ifam}.Setpoint.Physics2HWFcn    = @<a href="k2amp.html" class="code" title="function Amps = k2amp(Family, Field, k, DeviceList, Energy, C, K2AmpScaleFactor)">k2amp</a>;
2068 AO{ifam}.Setpoint.HWUnits          = <span class="string">'ampere'</span>;           
2069 AO{ifam}.Setpoint.PhysicsUnits     = <span class="string">'meter^-3'</span>;
2070 <span class="comment">%                                                                                                         delta-k</span>
2071 <span class="comment">%common              desired              monitor                 setpoint             stat  devlist elem   scalefactor   range  tol  respkick</span>
2072 sdm={ 
2073  <span class="string">'1SDM1     '</span>    <span class="string">'MS1-SDM:CurrSetptDes  '</span>    <span class="string">'MS1-SDM:Curr     '</span>     <span class="string">'MS1-SDM:CurrSetpt   '</span>  1   [1  ,1]  1          1.0     [0 500]  0.050   -0.75; <span class="keyword">...</span>
2074  <span class="string">'1SDM2     '</span>    <span class="string">'MS1-SDM:CurrSetptDes  '</span>    <span class="string">'MS1-SDM:Curr     '</span>     <span class="string">'MS1-SDM:CurrSetpt   '</span>  1   [1  ,2]  2          1.0     [0 500]  0.050   -0.75; <span class="keyword">...</span>
2075  <span class="string">'9SDM1     '</span>    <span class="string">'MS1-SDM:CurrSetptDes  '</span>    <span class="string">'MS1-SDM:Curr     '</span>     <span class="string">'MS1-SDM:CurrSetpt   '</span>  1   [9  ,1]  3          1.0     [0 500]  0.050   -0.75; <span class="keyword">...</span>
2076  <span class="string">'9SDM2     '</span>    <span class="string">'MS1-SDM:CurrSetptDes  '</span>    <span class="string">'MS1-SDM:Curr     '</span>     <span class="string">'MS1-SDM:CurrSetpt   '</span>  1   [9  ,2]  4          1.0     [0 500]  0.050   -0.75; <span class="keyword">...</span>
2077  <span class="string">'10SDM1    '</span>    <span class="string">'MS1-SDM:CurrSetptDes  '</span>    <span class="string">'MS1-SDM:Curr     '</span>     <span class="string">'MS1-SDM:CurrSetpt   '</span>  1   [10 ,1]  5          1.0     [0 500]  0.050   -0.75; <span class="keyword">...</span>
2078  <span class="string">'10SDM2    '</span>    <span class="string">'MS1-SDM:CurrSetptDes  '</span>    <span class="string">'MS1-SDM:Curr     '</span>     <span class="string">'MS1-SDM:CurrSetpt   '</span>  1   [10 ,2]  6          1.0     [0 500]  0.050   -0.75; <span class="keyword">...</span>
2079  <span class="string">'18SDM1    '</span>    <span class="string">'MS1-SDM:CurrSetptDes  '</span>    <span class="string">'MS1-SDM:Curr     '</span>     <span class="string">'MS1-SDM:CurrSetpt   '</span>  1   [18 ,1]  7          1.0     [0 500]  0.050   -0.75; <span class="keyword">...</span>
2080  <span class="string">'18SDM2    '</span>    <span class="string">'MS1-SDM:CurrSetptDes  '</span>    <span class="string">'MS1-SDM:Curr     '</span>     <span class="string">'MS1-SDM:CurrSetpt   '</span>  1   [18 ,2]  8          1.0     [0 500]  0.050   -0.75; <span class="keyword">...</span>
2081   };
2082 
2083 <span class="keyword">for</span> ii=1:size(sdm,1)
2084 name=sdm{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
2085 name=sdm{ii,2};     AO{ifam}.Desired.ChannelNames(ii,:) = name; 
2086 name=sdm{ii,3};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
2087 name=sdm{ii,4};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
2088 val =sdm{ii,5};     AO{ifam}.Status(ii,1)               = val;
2089 val =sdm{ii,6};     AO{ifam}.DeviceList(ii,:)           = val;
2090 val =sdm{ii,7};     AO{ifam}.ElementList(ii,1)          = val;
2091 val =sdm{ii,8};
2092 AO{ifam}.Desired.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
2093 AO{ifam}.Desired.HW2PhysicsParams{2}(ii,:)              = val;
2094 AO{ifam}.Monitor.HW2PhysicsParams{1}(ii,:)              = HW2PhysicsParams;
2095 AO{ifam}.Monitor.HW2PhysicsParams{2}(ii,:)              = val;
2096 AO{ifam}.Setpoint.HW2PhysicsParams{1}(ii,:)             = HW2PhysicsParams;
2097 AO{ifam}.Setpoint.HW2PhysicsParams{2}(ii,:)             = val;
2098 AO{ifam}.Desired.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
2099 AO{ifam}.Desired.Physics2HWParams{2}(ii,:)              = val;
2100 AO{ifam}.Monitor.Physics2HWParams{1}(ii,:)              = Physics2HWParams;
2101 AO{ifam}.Monitor.Physics2HWParams{2}(ii,:)              = val;
2102 AO{ifam}.Setpoint.Physics2HWParams{1}(ii,:)             = Physics2HWParams;
2103 AO{ifam}.Setpoint.Physics2HWParams{2}(ii,:)             = val;
2104 val =sdm{ii,9};     AO{ifam}.Setpoint.Range(ii,:)       = val;
2105 val =sdm{ii,10};    AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
2106 val =sdm{ii,11};    AO{ifam}.Setpoint.DeltaRespMat(ii,1)        = val;
2107 <span class="keyword">end</span>
2108 
2109 
2110 <span class="comment">% *** Kicker Amplitude ***</span>
2111 ifam=ifam+1;
2112 AO{ifam}.FamilyName                     = <span class="string">'KickerAmp'</span>;
2113 AO{ifam}.FamilyType                     = <span class="string">'KickerAmp'</span>;
2114 AO{ifam}.MemberOf                       = {<span class="string">'Injection'</span>};
2115 
2116 AO{ifam}.Monitor.Mode                   = Mode;
2117 AO{ifam}.Monitor.DataType               = <span class="string">'Scalar'</span>;
2118 AO{ifam}.Monitor.Units                  = <span class="string">'Hardware'</span>;
2119 AO{ifam}.Monitor.HWUnits                = <span class="string">'DAC'</span>;           
2120 AO{ifam}.Monitor.PhysicsUnits           = <span class="string">'mradian'</span>;
2121 
2122 AO{ifam}.Setpoint.Mode                  = Mode;
2123 AO{ifam}.Setpoint.DataType              = <span class="string">'Scalar'</span>;
2124 AO{ifam}.Setpoint.Units                 = <span class="string">'Hardware'</span>;
2125 AO{ifam}.Setpoint.HWUnits               = <span class="string">'DAC'</span>;           
2126 AO{ifam}.Setpoint.PhysicsUnits          = <span class="string">'mradian'</span>;
2127 
2128 <span class="comment">%common        monitor                  setpoint                stat  devlist elem range    tol</span>
2129 kickeramp={ 
2130  <span class="string">'K1     '</span>    <span class="string">'02S-K1:PulseAmpl  '</span>     <span class="string">'02S-K1:PulseAmplSetpt  '</span>  1   [2  ,1]  1  [0 9]  0.10 ; <span class="keyword">...</span>
2131  <span class="string">'K2     '</span>    <span class="string">'03S-K2:PulseAmpl  '</span>     <span class="string">'03S-K2:PulseAmplSetpt  '</span>  1   [3  ,1]  2  [0 9]  0.10 ; <span class="keyword">...</span>
2132  <span class="string">'K3     '</span>    <span class="string">'04S-K3:PulseAmpl  '</span>     <span class="string">'04S-K3:PulseAmplSetpt  '</span>  1   [4  ,1]  3  [0 9]  0.10 ; <span class="keyword">...</span>
2133   };
2134 
2135 <span class="keyword">for</span> ii=1:size(kickeramp,1)
2136 name=kickeramp{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
2137 name=kickeramp{ii,2};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
2138 name=kickeramp{ii,3};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
2139 val =kickeramp{ii,4};     AO{ifam}.Status(ii,1)               = val;
2140 val =kickeramp{ii,5};     AO{ifam}.DeviceList(ii,:)           = val;
2141 val =kickeramp{ii,6};     AO{ifam}.ElementList(ii,1)          = val;
2142 val =kickeramp{ii,7};     AO{ifam}.Setpoint.Range(ii,:)       = val;
2143 val =kickeramp{ii,8};     AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
2144 
2145 
2146 <span class="keyword">end</span>
2147 
2148 
2149 k1hw2physics=1/8691;
2150 k2hw2physics=1/17171;
2151 k3hw2physics=1/8691;
2152 AO{ifam}.Monitor.HW2PhysicsParams(1,:)    = [k1hw2physics 0];     
2153 AO{ifam}.Monitor.Physics2HWParams(1,:)    = [1/k1hw2physics 0];
2154 AO{ifam}.Setpoint.HW2PhysicsParams(1,:)   = [k1hw2physics 0];         
2155 AO{ifam}.Setpoint.Physics2HWParams(1,:)   = [1/k1hw2physics 0];
2156 AO{ifam}.Monitor.HW2PhysicsParams(2,:)    = [k2hw2physics 0];          
2157 AO{ifam}.Monitor.Physics2HWParams(2,:)    = [1/k2hw2physics 0];
2158 AO{ifam}.Setpoint.HW2PhysicsParams(2,:)   = [k2hw2physics 0];         
2159 AO{ifam}.Setpoint.Physics2HWParams(2,:)   = [1/k2hw2physics 0];
2160 AO{ifam}.Monitor.HW2PhysicsParams(3,:)    = [k3hw2physics 0];          
2161 AO{ifam}.Monitor.Physics2HWParams(3,:)    = [1/k3hw2physics 0];
2162 AO{ifam}.Setpoint.HW2PhysicsParams(3,:)   = [k3hw2physics 0];         
2163 AO{ifam}.Setpoint.Physics2HWParams(3,:)   = [1/k3hw2physics 0];
2164 
2165 
2166 <span class="comment">% *** Kicker Delay ***</span>
2167 ifam=ifam+1;
2168 AO{ifam}.FamilyName                     = <span class="string">'KickerDelay'</span>;
2169 AO{ifam}.FamilyType                     = <span class="string">'KickerDelay'</span>;
2170 AO{ifam}.MemberOf                       = {<span class="string">'Injection'</span>};
2171 
2172 AO{ifam}.Monitor.Mode                   = Mode;
2173 AO{ifam}.Monitor.DataType               = <span class="string">'Scalar'</span>;
2174 AO{ifam}.Monitor.Units                  = <span class="string">'Hardware'</span>;
2175 AO{ifam}.Monitor.HWUnits                = <span class="string">'volts'</span>;           
2176 AO{ifam}.Monitor.PhysicsUnits           = <span class="string">'radian'</span>;
2177 
2178 AO{ifam}.Setpoint.Mode                  = Mode;
2179 AO{ifam}.Setpoint.DataType              = <span class="string">'Scalar'</span>;
2180 AO{ifam}.Setpoint.Units                 = <span class="string">'Hardware'</span>;
2181 AO{ifam}.Setpoint.HWUnits               = <span class="string">'ampere'</span>;           
2182 AO{ifam}.Setpoint.PhysicsUnits          = <span class="string">'radian'</span>;
2183 
2184 <span class="comment">%common        monitor                  setpoint                  stat  devlist elem range tol</span>
2185 kickeramp={ 
2186  <span class="string">'K1     '</span>    <span class="string">'02S-K1:PulseDelay  '</span>     <span class="string">'02S-K1:PulseDelaySetpt  '</span>  1   [2  ,1]  1  [0 9]  0.10 ; <span class="keyword">...</span>
2187  <span class="string">'K2     '</span>    <span class="string">'03S-K2:PulseDelay  '</span>     <span class="string">'03S-K2:PulseDelaySetpt  '</span>  1   [3  ,1]  2  [0 9]  0.10 ; <span class="keyword">...</span>
2188  <span class="string">'K3     '</span>    <span class="string">'04S-K3:PulseDelay  '</span>     <span class="string">'04S-K3:PulseDelaySetpt  '</span>  1   [4  ,1]  3  [0 9]  0.10 ; <span class="keyword">...</span>
2189   };
2190 
2191 <span class="keyword">for</span> ii=1:size(kickeramp,1)
2192 name=kickeramp{ii,1};     AO{ifam}.CommonNames(ii,:)          = name;            
2193 name=kickeramp{ii,2};     AO{ifam}.Monitor.ChannelNames(ii,:) = name; 
2194 name=kickeramp{ii,3};     AO{ifam}.Setpoint.ChannelNames(ii,:)= name;     
2195 val =kickeramp{ii,4};     AO{ifam}.Status(ii,1)               = val;
2196 val =kickeramp{ii,5};     AO{ifam}.DeviceList(ii,:)           = val;
2197 val =kickeramp{ii,6};     AO{ifam}.ElementList(ii,1)          = val;
2198 val =kickeramp{ii,7};     AO{ifam}.Setpoint.Range(ii,:)       = val;
2199 val =kickeramp{ii,8};     AO{ifam}.Setpoint.Tolerance(ii,1)   = val;
2200 
2201 AO{ifam}.Monitor.HW2PhysicsParams(ii,:)    = [1 0];          
2202 AO{ifam}.Monitor.Physics2HWParams(ii,:)    = [1 0];
2203 AO{ifam}.Setpoint.HW2PhysicsParams(ii,:)   = [1 0];         
2204 AO{ifam}.Setpoint.Physics2HWParams(ii,:)   = [1 0];
2205 
2206 <span class="keyword">end</span>
2207 
2208 
2209 <span class="comment">% Convert to new format</span>
2210 AO = cell2field(AO);
2211 
2212 
2213 <span class="comment">%============</span>
2214 <span class="comment">%RF System</span>
2215 <span class="comment">%============</span>
2216 AO.RF.FamilyName                  = <span class="string">'RF'</span>;
2217 AO.RF.FamilyType                  = <span class="string">'RF'</span>;
2218 AO.RF.MemberOf                    = {<span class="string">'MachineConfig'</span>; <span class="string">'PlotFamily'</span>;  <span class="string">'RF'</span>; <span class="string">'RFSystem'</span>};
2219 AO.RF.Status                      = 1;
2220 AO.RF.CommonNames                 = <span class="string">'RF'</span>;
2221 AO.RF.DeviceList                  = [1 1];
2222 AO.RF.ElementList                 = [1];
2223 
2224 <span class="comment">%Frequency Readback</span>
2225 AO.RF.Monitor.Mode                = Mode;
2226 AO.RF.Monitor.DataType            = <span class="string">'Scalar'</span>;
2227 AO.RF.Monitor.Units               = <span class="string">'Hardware'</span>;
2228 AO.RF.Monitor.HW2PhysicsParams    = 1e+6;       <span class="comment">%no hw2physics function necessary</span>
2229 AO.RF.Monitor.Physics2HWParams    = 1e-6;
2230 AO.RF.Monitor.HWUnits             = <span class="string">'MHz'</span>;           
2231 AO.RF.Monitor.PhysicsUnits        = <span class="string">'Hz'</span>;
2232 AO.RF.Monitor.ChannelNames        = <span class="string">'SPEAR:RFFreqSetpt'</span>;     
2233 
2234 <span class="comment">%Frequency Setpoint</span>
2235 AO.RF.Setpoint.Mode               = Mode;
2236 AO.RF.Setpoint.DataType           = <span class="string">'Scalar'</span>;
2237 AO.RF.Setpoint.Units              = <span class="string">'Hardware'</span>;
2238 AO.RF.Setpoint.HW2PhysicsParams   = 1e+6;         
2239 AO.RF.Setpoint.Physics2HWParams   = 1e-6;
2240 AO.RF.Setpoint.HWUnits            = <span class="string">'MHz'</span>;           
2241 AO.RF.Setpoint.PhysicsUnits       = <span class="string">'Hz'</span>;
2242 AO.RF.Setpoint.ChannelNames       = <span class="string">'SPEAR:RFFreqSetpt'</span>;     
2243 AO.RF.Setpoint.Range              = [0 2500];
2244 AO.RF.Setpoint.Tolerance          = 100.0;
2245 
2246 <span class="comment">%Voltage control</span>
2247 AO.RF.VoltageCtrl.Mode               = Mode;
2248 AO.RF.VoltageCtrl.DataType           = <span class="string">'Scalar'</span>;
2249 AO.RF.VoltageCtrl.Units              = <span class="string">'Hardware'</span>;
2250 AO.RF.VoltageCtrl.HW2PhysicsParams   = 1;         
2251 AO.RF.VoltageCtrl.Physics2HWParams   = 1;
2252 AO.RF.VoltageCtrl.HWUnits            = <span class="string">'Volts'</span>;           
2253 AO.RF.VoltageCtrl.PhysicsUnits       = <span class="string">'Volts'</span>;
2254 AO.RF.VoltageCtrl.ChannelNames       = <span class="string">'SRF1:STN:VOLT:CTRL'</span>;     
2255 AO.RF.VoltageCtrl.Range              = [-inf inf];
2256 AO.RF.VoltageCtrl.Tolerance          = inf;
2257 
2258 <span class="comment">%Voltage monitor</span>
2259 AO.RF.Voltage.Mode               = Mode;
2260 AO.RF.Voltage.DataType           = <span class="string">'Scalar'</span>;
2261 AO.RF.Voltage.Units              = <span class="string">'Hardware'</span>;
2262 AO.RF.Voltage.HW2PhysicsParams   = 1;         
2263 AO.RF.Voltage.Physics2HWParams   = 1;
2264 AO.RF.Voltage.HWUnits            = <span class="string">'kV'</span>;           
2265 AO.RF.Voltage.PhysicsUnits       = <span class="string">'kV'</span>;
2266 AO.RF.Voltage.ChannelNames       = <span class="string">'SRF1:STN:VOLT'</span>;     <span class="comment">%UNITS ARE KILOVOLTS JC 10/9/04</span>
2267 AO.RF.Voltage.Range              = [-inf inf];
2268 AO.RF.Voltage.Tolerance          = inf;
2269 
2270 <span class="comment">%Power Control</span>
2271 AO.RF.PowerCtrl.Mode               = Mode;
2272 AO.RF.PowerCtrl.DataType           = <span class="string">'Scalar'</span>;
2273 AO.RF.PowerCtrl.Units              = <span class="string">'Hardware'</span>;
2274 AO.RF.PowerCtrl.HW2PhysicsParams   = 1;         
2275 AO.RF.PowerCtrl.Physics2HWParams   = 1;
2276 AO.RF.PowerCtrl.HWUnits            = <span class="string">'MWatts'</span>;           
2277 AO.RF.PowerCtrl.PhysicsUnits       = <span class="string">'MWatts'</span>;
2278 AO.RF.PowerCtrl.ChannelNames       = <span class="string">'SRF1:KLYSDRIVFRWD:POWER:ON'</span>;     
2279 AO.RF.PowerCtrl.Range              = [-inf inf];
2280 AO.RF.PowerCtrl.Tolerance          = inf;
2281 
2282 <span class="comment">%Power Monitor</span>
2283 AO.RF.Power.Mode               = Mode;
2284 AO.RF.Power.DataType           = <span class="string">'Scalar'</span>;
2285 AO.RF.Power.Units              = <span class="string">'Hardware'</span>;
2286 AO.RF.Power.HW2PhysicsParams   = 1;         
2287 AO.RF.Power.Physics2HWParams   = 1;
2288 AO.RF.Power.HWUnits            = <span class="string">'MWatts'</span>;           
2289 AO.RF.Power.PhysicsUnits       = <span class="string">'MWatts'</span>;
2290 AO.RF.Power.ChannelNames       = <span class="string">'SRF1:KLYSDRIVFRWD:POWER'</span>;     
2291 AO.RF.Power.Range              = [-inf inf];
2292 AO.RF.Power.Tolerance          = inf;
2293 
2294 <span class="comment">%Station Phase Control</span>
2295 AO.RF.PhaseCtrl.Mode               = Mode;
2296 AO.RF.PhaseCtrl.DataType           = <span class="string">'Scalar'</span>;
2297 AO.RF.PhaseCtrl.Units              = <span class="string">'Hardware'</span>;
2298 AO.RF.PhaseCtrl.HW2PhysicsParams   = 1;         
2299 AO.RF.PhaseCtrl.Physics2HWParams   = 1;
2300 AO.RF.PhaseCtrl.HWUnits            = <span class="string">'Degrees'</span>;           
2301 AO.RF.PhaseCtrl.PhysicsUnits       = <span class="string">'Degrees'</span>;
2302 AO.RF.PhaseCtrl.ChannelNames       = <span class="string">'SRF1:STN:PHASE'</span>;     
2303 AO.RF.PhaseCtrl.Range              = [-200 200];
2304 AO.RF.PhaseCtrl.Tolerance          = inf;
2305 
2306 <span class="comment">%Station Phase Monitor</span>
2307 AO.RF.Phase.Mode               = Mode;
2308 AO.RF.Phase.DataType           = <span class="string">'Scalar'</span>;
2309 AO.RF.Phase.Units              = <span class="string">'Hardware'</span>;
2310 AO.RF.Phase.HW2PhysicsParams   = 1;         
2311 AO.RF.Phase.Physics2HWParams   = 1;
2312 AO.RF.Phase.HWUnits            = <span class="string">'Degrees'</span>;           
2313 AO.RF.Phase.PhysicsUnits       = <span class="string">'Degrees'</span>;
2314 AO.RF.Phase.ChannelNames       = <span class="string">'SRF1:STN:PHASE:CALC'</span>;     
2315 AO.RF.Phase.Range              = [-200 200];
2316 AO.RF.Phase.Tolerance          = inf;
2317 
2318 <span class="comment">%Klystron Forward Power</span>
2319 AO.RF.KlysPower.Mode               = Mode;
2320 AO.RF.KlysPower.DataType           = <span class="string">'Scalar'</span>;
2321 AO.RF.KlysPower.Units              = <span class="string">'Hardware'</span>;
2322 AO.RF.KlysPower.HW2PhysicsParams   = 1;         
2323 AO.RF.KlysPower.Physics2HWParams   = 1;
2324 AO.RF.KlysPower.HWUnits            = <span class="string">'MWatts'</span>;           
2325 AO.RF.KlysPower.PhysicsUnits       = <span class="string">'MWatts'</span>;
2326 AO.RF.KlysPower.ChannelNames       = <span class="string">'SRF1:KLYSOUTFRWD:POWER'</span>;     
2327 AO.RF.KlysPower.Range              = [-inf inf];
2328 AO.RF.KlysPower.Tolerance          = inf;
2329 
2330 
2331 <span class="comment">%====</span>
2332 <span class="comment">%TUNE</span>
2333 <span class="comment">%====</span>
2334 AO.TUNE.FamilyName  = <span class="string">'TUNE'</span>;
2335 AO.TUNE.FamilyType  = <span class="string">'Diagnostic'</span>;
2336 AO.TUNE.MemberOf    = {<span class="string">'Diagnostics'</span>};
2337 AO.TUNE.CommonNames = [<span class="string">'xtune'</span>;<span class="string">'ytune'</span>;<span class="string">'stune'</span>];
2338 AO.TUNE.DeviceList  = [ 1 1; 1 2; 1 3];
2339 AO.TUNE.ElementList = [1 2 3]';
2340 AO.TUNE.Status      = [1 1 0]';
2341 
2342 AO.TUNE.Monitor.Mode                   = <span class="string">'Manual'</span>; <span class="comment">%'Simulator';  % Mode;</span>
2343 AO.TUNE.Monitor.DataType               = <span class="string">'Vector'</span>;
2344 AO.TUNE.Monitor.DataTypeIndex          = [1 2 3];
2345 AO.TUNE.Monitor.ChannelNames           = <span class="string">'MeasTune'</span>;
2346 AO.TUNE.Monitor.Units                  = <span class="string">'Hardware'</span>;
2347 AO.TUNE.Monitor.HW2PhysicsParams       = 1;
2348 AO.TUNE.Monitor.Physics2HWParams       = 1;
2349 AO.TUNE.Monitor.HWUnits                = <span class="string">'fractional tune'</span>;           
2350 AO.TUNE.Monitor.PhysicsUnits           = <span class="string">'fractional tune'</span>;
2351 
2352 
2353 <span class="comment">%====</span>
2354 <span class="comment">%DCCT</span>
2355 <span class="comment">%====</span>
2356 ifam=ifam+1;
2357 AO.DCCT.FamilyName                     = <span class="string">'DCCT'</span>;
2358 AO.DCCT.FamilyType                     = <span class="string">'Diagnostic'</span>;
2359 AO.DCCT.MemberOf                       = {<span class="string">'Diagnostics'</span>};
2360 AO.DCCT.CommonNames                    = <span class="string">'DCCT'</span>;
2361 AO.DCCT.DeviceList                     = [1 1];
2362 AO.DCCT.ElementList                    = [1]';
2363 AO.DCCT.Status                         = AO.DCCT.ElementList;
2364 
2365 AO.DCCT.Monitor.Mode                   = Mode;
2366 AO.DCCT.Monitor.DataType               = <span class="string">'Scalar'</span>;
2367 AO.DCCT.Monitor.ChannelNames           = <span class="string">'SPEAR:BeamCurrAvg'</span>;    
2368 AO.DCCT.Monitor.Units                  = <span class="string">'Hardware'</span>;
2369 AO.DCCT.Monitor.HWUnits                = <span class="string">'milli-ampere'</span>;           
2370 AO.DCCT.Monitor.PhysicsUnits           = <span class="string">'ampere'</span>;
2371 AO.DCCT.Monitor.HW2PhysicsParams       = 1;          
2372 AO.DCCT.Monitor.Physics2HWParams       = 1;
2373 
2374 
2375 <span class="comment">%===============================</span>
2376 <span class="comment">%Quadrupole Shunt Supply Current</span>
2377 <span class="comment">%===============================</span>
2378 AO.ShuntCurrent.FamilyName                     = <span class="string">'ShuntCurrent'</span>;
2379 AO.ShuntCurrent.FamilyType                     = <span class="string">'Diagnostic'</span>;
2380 AO.ShuntCurrent.MemberOf                       = {<span class="string">'QMS'</span>; <span class="string">'Diagnostics'</span>};
2381 
2382 AO.ShuntCurrent.CommonNames                    = <span class="string">'ShuntCurrent'</span>;
2383 AO.ShuntCurrent.DeviceList                     = [1 1];
2384 AO.ShuntCurrent.ElementList                    = 1;
2385 AO.ShuntCurrent.Status=AO.ShuntCurrent.ElementList;
2386 
2387 AO.ShuntCurrent.Monitor.Mode                   = Mode;
2388 AO.ShuntCurrent.Monitor.DataType               = <span class="string">'Scalar'</span>;
2389 AO.ShuntCurrent.Monitor.ChannelNames           = <span class="string">'ShuntCurrent'</span>;    <span class="comment">%Hz</span>
2390 AO.ShuntCurrent.Monitor.Units                  = <span class="string">'Hardware'</span>;
2391 AO.ShuntCurrent.Monitor.HWUnits                = <span class="string">'ampere'</span>;           
2392 AO.ShuntCurrent.Monitor.PhysicsUnits           = <span class="string">'m-2'</span>;
2393 AO.ShuntCurrent.Monitor.HW2PhysicsParams       = 1;          
2394 AO.ShuntCurrent.Monitor.Physics2HWParams       = 1;
2395 
2396 AO.ShuntCurrent.Setpoint.Mode                  = Mode;
2397 AO.ShuntCurrent.Setpoint.DataType              = <span class="string">'Scalar'</span>;
2398 AO.ShuntCurrent.Setpoint.ChannelNames          = <span class="string">'ShuntCurrent'</span>;
2399 AO.ShuntCurrent.Setpoint.Units                 = <span class="string">'Hardware'</span>;
2400 AO.ShuntCurrent.Setpoint.HWUnits               = <span class="string">'ampere'</span>;           
2401 AO.ShuntCurrent.Setpoint.PhysicsUnits          = <span class="string">'m-2'</span>;
2402 AO.ShuntCurrent.Setpoint.HW2PhysicsParams      = 1;          
2403 AO.ShuntCurrent.Setpoint.Physics2HWParams      = 1;
2404 
2405 
2406 <span class="comment">%===============================</span>
2407 <span class="comment">%Quadrupole Shunt Supply Relay</span>
2408 <span class="comment">%===============================</span>
2409 AO.ShuntRelay.FamilyName                     = <span class="string">'ShuntRelay'</span>;
2410 AO.ShuntRelay.FamilyType                     = <span class="string">'Diagnostic'</span>;
2411 AO.ShuntRelay.MemberOf                       = {<span class="string">'QMS'</span>; <span class="string">'Diagnostics'</span>};
2412 
2413 AO.ShuntRelay.CommonNames                    = <span class="string">'ShuntRelay'</span>;
2414 AO.ShuntRelay.DeviceList                     = [1 1];
2415 AO.ShuntRelay.ElementList                    = [1]';
2416 AO.ShuntRelay.Status                         = AO.ShuntRelay.ElementList;
2417 
2418 AO.ShuntRelay.Monitor.Mode                   = Mode;
2419 AO.ShuntRelay.Monitor.DataType               = <span class="string">'Scalar'</span>;
2420 AO.ShuntRelay.Monitor.ChannelNames           = <span class="string">'118-QMS:ChanSelect'</span>;    
2421 AO.ShuntRelay.Monitor.Units                  = <span class="string">'Hardware'</span>;
2422 AO.ShuntRelay.Monitor.HWUnits                = <span class="string">'quadrupole number'</span>;           
2423 AO.ShuntRelay.Monitor.PhysicsUnits           = <span class="string">'quadrupole number'</span>;
2424 AO.ShuntRelay.Monitor.HW2PhysicsParams       = 1;          
2425 AO.ShuntRelay.Monitor.Physics2HWParams       = 1;
2426 
2427 AO.ShuntRelay.Setpoint.Mode                  = Mode;
2428 AO.ShuntRelay.Setpoint.DataType              = <span class="string">'Scalar'</span>;
2429 AO.ShuntRelay.Setpoint.ChannelNames          = <span class="string">'118-QMS:ChanSelect'</span>;
2430 AO.ShuntRelay.Setpoint.Units                 = <span class="string">'Hardware'</span>;
2431 AO.ShuntRelay.Setpoint.HWUnits               = <span class="string">'quadrupole number'</span>;           
2432 AO.ShuntRelay.Setpoint.PhysicsUnits          = <span class="string">'quadrupole number'</span>;
2433 AO.ShuntRelay.Setpoint.HW2PhysicsParams      = 1;          
2434 AO.ShuntRelay.Setpoint.Physics2HWParams      = 1;
2435 
2436 
2437 <span class="comment">%==================</span>
2438 <span class="comment">%Machine Parameters</span>
2439 <span class="comment">%==================</span>
2440 AO.MachineParameters.FamilyName                = <span class="string">'MachineParameters'</span>;
2441 AO.MachineParameters.FamilyType                = <span class="string">'Parameter'</span>;
2442 AO.MachineParameters.MemberOf                  = {<span class="string">'Diagnostics'</span>};
2443 AO.MachineParameters.Status                    = [1 1 1 1]';
2444 
2445 AO.MachineParameters.Monitor.Mode              = Mode;
2446 AO.MachineParameters.Monitor.DataType          = <span class="string">'Scalar'</span>;
2447 AO.MachineParameters.Monitor.Units             = <span class="string">'Hardware'</span>;
2448 
2449 <span class="comment">%use spear2 process variable names</span>
2450 mp={
2451 <span class="string">'mode    '</span>    <span class="string">'SPEAR:BeamStatus  '</span>          [1 1]  1; <span class="keyword">...</span>
2452 <span class="string">'energy  '</span>    <span class="string">'SPEAR:Energy      '</span>          [1 2]  2; <span class="keyword">...</span>
2453 <span class="string">'current '</span>    <span class="string">'SPEAR:BeamCurrAvg '</span>          [1 3]  3; <span class="keyword">...</span>
2454 <span class="string">'lifetime'</span>    <span class="string">'SPEAR:BeamLifetime'</span>          [1 4]  4; <span class="keyword">...</span>
2455 };
2456 AO.MachineParameters.Monitor.HWUnits          = <span class="string">' '</span>;           
2457 AO.MachineParameters.Monitor.PhysicsUnits     = <span class="string">' '</span>;
2458 
2459 AO.MachineParameters.Setpoint.HWUnits         = <span class="string">' '</span>;           
2460 AO.MachineParameters.Setpoint.PhysicsUnits    = <span class="string">' '</span>;
2461 
2462 <span class="keyword">for</span> ii=1:size(mp,1)
2463     name  =mp(ii,1);    AO.MachineParameters.CommonNames(ii,:)            = char(name{1}); 
2464     name  =mp(ii,2);    AO.MachineParameters.Monitor.ChannelNames(ii,:)   = char(name{1});
2465     name  =mp(ii,2);    AO.MachineParameters.Setpoint.ChannelNames(ii,:)  = char(name{1});
2466     val   =mp(ii,3);    AO.MachineParameters.DeviceList(ii,:)             = val{1};
2467     val   =mp(ii,4);    AO.MachineParameters.ElementList(ii,:)            = val{1};
2468     
2469     AO.MachineParameters.Monitor.HW2PhysicsParams(ii,:)    = 1;          
2470     AO.MachineParameters.Monitor.Physics2HWParams(ii,:)    = 1;
2471     AO.MachineParameters.Setpoint.HW2PhysicsParams(ii,:)   = 1;         
2472     AO.MachineParameters.Setpoint.Physics2HWParams(ii,:)   = 1;
2473 <span class="keyword">end</span>
2474 
2475 
2476 <span class="comment">%======</span>
2477 <span class="comment">%Septum</span>
2478 <span class="comment">%======</span>
2479 AO.Septum.FamilyName                  = <span class="string">'Septum'</span>;
2480 AO.Septum.FamilyType                  = <span class="string">'Septum'</span>;
2481 AO.Septum.MemberOf                    = {<span class="string">'PlotFamily'</span>; <span class="string">'Injection'</span>};
2482 AO.Septum.Status                      = 1;
2483 
2484 AO.Septum.CommonNames                 = <span class="string">'Septum  '</span>;
2485 AO.Septum.DeviceList                  = [3 1];
2486 AO.Septum.ElementList                 = [1];
2487 
2488 AO.Septum.Monitor.Mode                = Mode;
2489 AO.Septum.Monitor.DataType            = <span class="string">'Scalar'</span>;
2490 AO.Septum.Monitor.Units               = <span class="string">'Hardware'</span>;
2491 AO.Septum.Monitor.HWUnits             = <span class="string">'ampere'</span>;           
2492 AO.Septum.Monitor.PhysicsUnits        = <span class="string">'radian'</span>;
2493 AO.Septum.Monitor.ChannelNames        = <span class="string">'BTS-B9V:Curr'</span>;     
2494 
2495 AO.Septum.Setpoint.Mode               = Mode;
2496 AO.Septum.Setpoint.DataType           = <span class="string">'Scalar'</span>;
2497 AO.Septum.Setpoint.Units              = <span class="string">'Hardware'</span>;
2498 AO.Septum.Setpoint.HWUnits            = <span class="string">'ampere'</span>;           
2499 AO.Septum.Setpoint.PhysicsUnits       = <span class="string">'radian'</span>;
2500 AO.Septum.Setpoint.ChannelNames       = <span class="string">'BTS-B9V:CurrSetpt'</span>;    
2501 AO.Septum.Setpoint.Range              = [0, 2500];
2502 AO.Septum.Setpoint.Tolerance          = 100.0;
2503 
2504 AO.Septum.Monitor.HW2PhysicsParams    = 1;          
2505 AO.Septum.Monitor.Physics2HWParams    = 1;
2506 AO.Septum.Setpoint.HW2PhysicsParams   = 1;         
2507 AO.Septum.Setpoint.Physics2HWParams   = 1;
2508 
2509 
2510 <span class="comment">%===================</span>
2511 <span class="comment">% Ion Gauge Pressure</span>
2512 <span class="comment">%===================</span>
2513 AO.IonGauge.FamilyName = <span class="string">'IonGauge'</span>;
2514 AO.IonGauge.FamilyType = <span class="string">'IonGauge'</span>;
2515 AO.IonGauge.MemberOf   = {<span class="string">'PlotFamily'</span>; <span class="string">'IonGauge'</span>; <span class="string">'Vacuum'</span>;};
2516 AO.IonGauge.Status     = 1;
2517 AO.IonGauge.DeviceList = [ <span class="keyword">...</span>
2518         1 1
2519         1 2
2520         2 1
2521         3 1
2522         3 2
2523         3 3
2524         3 4
2525         3 5
2526         3 6
2527         3 7
2528         4 1
2529         4 2
2530         4 3
2531         4 4
2532         5 1
2533         5 2
2534         5 3
2535         6 1
2536         6 2
2537         6 3
2538         7 1
2539         7 2
2540         7 3
2541         7 4
2542         8 1
2543         8 2
2544         9 1
2545         9 2
2546         10 1
2547         10 2
2548         11 1
2549         11 2
2550         12 1
2551         12 2
2552         12 3
2553         13 1
2554         13 2
2555         13 3
2556         14 1
2557         14 2
2558         14 3
2559         14 4
2560         14 5
2561         14 6
2562         14 7
2563         14 8
2564         14 9
2565         15 1
2566         15 2
2567         16 1
2568         16 2
2569         17 1
2570         18 1
2571         18 2
2572         18 3 ];
2573 AO.IonGauge.ElementList = (1:55)';
2574 AO.IonGauge.Monitor.Mode         = Mode;
2575 AO.IonGauge.Monitor.DataType     = <span class="string">'Scalar'</span>;
2576 AO.IonGauge.Monitor.Units        = <span class="string">'Hardware'</span>;
2577 AO.IonGauge.Monitor.HWUnits      = <span class="string">'Torr'</span>;           
2578 AO.IonGauge.Monitor.PhysicsUnits = <span class="string">'Torr'</span>;
2579 AO.IonGauge.Monitor.ChannelNames = [];
2580 <span class="keyword">for</span> i = 1:length(AO.IonGauge.ElementList)
2581     AO.IonGauge.Monitor.ChannelNames = strvcat(AO.IonGauge.Monitor.ChannelNames, sprintf(<span class="string">'spr:VG%02d/AM1'</span>,AO.IonGauge.ElementList(i)));
2582 <span class="keyword">end</span>
2583 AO.IonGauge.Monitor.HW2PhysicsParams = 1;          
2584 AO.IonGauge.Monitor.Physics2HWParams = 1;
2585 <span class="comment">% The Positions here are a cluge</span>
2586 AO.IonGauge.Position = 234.1440 * (1:length(AO.IonGauge.ElementList))' / length(AO.IonGauge.ElementList);
2587 
2588 
2589 <span class="comment">%==================</span>
2590 <span class="comment">% Ion Pump Pressure</span>
2591 <span class="comment">%==================</span>
2592 AO.IonPump.FamilyName = <span class="string">'IonPump'</span>;
2593 AO.IonPump.FamilyType = <span class="string">'IonPump'</span>;
2594 AO.IonPump.MemberOf   = {<span class="string">'PlotFamily'</span>; <span class="string">'IonPump'</span>; <span class="string">'Vacuum'</span>;};
2595 AO.IonPump.Status     = ones(28,1);
2596 <span class="comment">%AO.IonPump.Status([14 21 28]) = 0;</span>
2597 AO.IonPump.DeviceList = [ <span class="keyword">...</span>
2598         1 1
2599         1 2
2600         2 1
2601         2 2
2602         3 1
2603         3 2
2604         4 1
2605         5 1
2606         5 2
2607         6 1
2608         6 2
2609         7 1
2610         7 2
2611         8 1
2612         9 1
2613         9 2
2614         10 1
2615         10 2
2616         11 1
2617         11 2
2618         12 1
2619         13 1
2620         13 2
2621         14 1
2622         14 2
2623         15 1
2624         15 2
2625         16 1
2626 ];
2627 AO.IonPump.ElementList = (1:28)';
2628 AO.IonPump.Monitor.Mode         = Mode;
2629 AO.IonPump.Monitor.DataType     = <span class="string">'Scalar'</span>;
2630 AO.IonPump.Monitor.Units        = <span class="string">'Hardware'</span>;
2631 AO.IonPump.Monitor.HWUnits      = <span class="string">'mircoAmp'</span>;           
2632 AO.IonPump.Monitor.PhysicsUnits = <span class="string">'mircoAmp'</span>;
2633 AO.IonPump.Monitor.ChannelNames = [];
2634 <span class="keyword">for</span> i = 1:28
2635     AO.IonPump.Monitor.ChannelNames = strvcat(AO.IonPump.Monitor.ChannelNames, sprintf(<span class="string">'spr:VP%02d/AM1'</span>,i));
2636 <span class="keyword">end</span>
2637 <span class="comment">%AO.IonPump.Monitor.ChannelNames([6 27],:) = [];</span>
2638 AO.IonPump.Monitor.HW2PhysicsParams = 1;          
2639 AO.IonPump.Monitor.Physics2HWParams = 1;
2640 <span class="comment">% The Positions here are a cluge</span>
2641 AO.IonPump.Position = 234.1440 * (1:length(AO.IonPump.ElementList))' / length(AO.IonPump.ElementList);
2642 
2643 
2644 
2645 <span class="comment">%====================</span>
2646 <span class="comment">%Photon Beamline Data</span>
2647 <span class="comment">%====================</span>
2648 
2649 insdevGapsPV = {<span class="string">'spr:ID04M1/AM1'</span>;<span class="string">'spr:ID05M1/AM1'</span>;<span class="string">'spr:ID06M1/AM1'</span>;<span class="string">'spr:ID07M1/AM1'</span>;<span class="string">'spr:ID09M1/AM1'</span>;<span class="string">'spr:ID10M1/AM1'</span>;<span class="string">'spr:ID11M1/AM1'</span>};
2650 insdevTrimsPV  = {<span class="string">'05S-ID7TH:CurrSetpt'</span>; <span class="string">'05S-ID7TO:CurrSetpt'</span>; <span class="string">'05S-ID7TV:CurrSetpt'</span>;<span class="keyword">...</span>
2651                      <span class="string">'06S-ID10TH1:CurrSetpt'</span>; <span class="string">'06S-ID10TH2:CurrSetpt'</span>;<span class="keyword">...</span>
2652                      <span class="string">'07S-ID9TH:CurrSetpt'</span>;<span class="keyword">...</span>
2653                      <span class="string">'11S-ID6TH:CurrSetpt'</span>;<span class="keyword">...</span>
2654                      <span class="string">'12S-ID5TH1:CurrSetpt'</span>; <span class="string">'12S-ID5TH2:CurrSetpt'</span>;<span class="keyword">...</span>
2655                      <span class="string">'13S-ID4TH:CurrSetpt'</span>;  <span class="string">'13S-ID4TV:CurrSetpt'</span>;<span class="keyword">...</span>
2656                      <span class="string">'15S-ID11TH:CurrSetpt'</span>; <span class="string">'15S-ID11TV:CurrSetpt'</span>};
2657              
2658 <span class="comment">%Name    status   openpv             sumpv           errorpv        normpv      devlist  elemlist  type   upstream bpm       dBPM       BLLength</span>
2659 bl={
2660 <span class="string">'BL1 '</span>     0     <span class="string">'BL01:OpenState'</span>   <span class="string">'BL01-BPM1:S'</span>   <span class="string">'BL01-BPM1:V'</span> <span class="string">'BL01-BPM1:N'</span>  [1 1 ]     1     <span class="string">'DIPOLE'</span>   [4  2]       0.0000000000   10.0; <span class="keyword">...</span>
2661 <span class="string">'BL2 '</span>     0     <span class="string">'BL02:OpenState'</span>   <span class="string">'BL02-BPM1:S'</span>   <span class="string">'BL02-BPM1:V'</span> <span class="string">'BL02-BPM1:N'</span>  [1 2 ]     2     <span class="string">'DIPOLE'</span>   [5  2]       0.0000000000   10.0; <span class="keyword">...</span>
2662 <span class="string">'BL3 '</span>     0     <span class="string">'BL03:OpenState'</span>   <span class="string">'BL03-BPM1:S'</span>   <span class="string">'BL03-BPM1:V'</span> <span class="string">'BL03-BPM1:N'</span>  [1 3 ]     3     <span class="string">'DIPOLE'</span>   [14 6]       0.0000000000   10.0; <span class="keyword">...</span>
2663 <span class="string">'BL4 '</span>     0     <span class="string">'BL04:OpenState'</span>   <span class="string">'BL04-BPM1:S'</span>   <span class="string">'BL04-BPM1:V'</span> <span class="string">'BL04-BPM1:N'</span>  [1 4 ]     4     <span class="string">'ID    '</span>   [13 6]       2.8118680000   10.0; <span class="keyword">...</span>
2664 <span class="string">'BL5 '</span>     0     <span class="string">'BL05:OpenState'</span>   <span class="string">'BL05-BPM1:S'</span>   <span class="string">'BL05-BPM1:V'</span> <span class="string">'BL05-BPM1:N'</span>  [1 5 ]     5     <span class="string">'ID    '</span>   [12 6]       2.8118680000   10.0; <span class="keyword">...</span>
2665 <span class="string">'BL6 '</span>     0     <span class="string">'BL06:OpenState'</span>   <span class="string">'BL06-BPM1:S'</span>   <span class="string">'BL06-BPM1:V'</span> <span class="string">'BL06-BPM1:N'</span>  [1 6 ]     6     <span class="string">'ID    '</span>   [11 6]       2.8118680000   10.0; <span class="keyword">...</span>
2666 <span class="string">'BL7 '</span>     0     <span class="string">'BL07:OpenState'</span>   <span class="string">'BL07-BPM1:S'</span>   <span class="string">'BL07-BPM1:V'</span> <span class="string">'BL07-BPM1:N'</span>  [1 7 ]     7     <span class="string">'ID    '</span>   [5  6]       2.8118680000   10.0; <span class="keyword">...</span>
2667 <span class="string">'BL8 '</span>     0     <span class="string">'BL08:OpenState'</span>   <span class="string">'BL08-BPM1:S'</span>   <span class="string">'BL08-BPM1:V'</span> <span class="string">'BL08-BPM1:N'</span>  [1 8 ]     8     <span class="string">'DIPOLE'</span>   [7  2]       0.0000000000   10.0; <span class="keyword">...</span>
2668 <span class="string">'BL9 '</span>     1     <span class="string">'BL09:OpenState'</span>   <span class="string">'BL09-BPM1:S'</span>   <span class="string">'BL09-BPM1:V'</span> <span class="string">'BL09-BPM1:N'</span>  [1 9 ]     9     <span class="string">'ID    '</span>   [7  6]       2.8118680000   10.0; <span class="keyword">...</span>
2669 <span class="string">'BL10'</span>     0     <span class="string">'BL10:OpenState'</span>   <span class="string">'BL10-BPM1:S'</span>   <span class="string">'BL10-BPM1:V'</span> <span class="string">'BL10-BPM1:N'</span>  [1 10]    10     <span class="string">'ID    '</span>   [6  6]       2.8118680000   10.0; <span class="keyword">...</span>
2670 <span class="string">'BL11'</span>     0     <span class="string">'BL11:OpenState'</span>   <span class="string">'BL11-BPM1:S'</span>   <span class="string">'BL11-BPM1:V'</span> <span class="string">'BL11-BPM1:N'</span>  [1 11]    11     <span class="string">'ID    '</span>   [15 6]       2.8118680000   10.0; <span class="keyword">...</span>
2671 };
2672 <span class="comment">% NOTE: dBPM=distance between ID BPMs. To compute dBPM (1) s=findspos('BPMy') (2) s(2:end)-s(1:end-1)</span>
2673 <span class="comment">% NOTE: BLLength=distance from source point to photon BPM</span>
2674 <span class="comment">%Photon Beamline Open Signal</span>
2675 AO.BLOpen.FamilyName                     = <span class="string">'BLOpen'</span>;
2676 AO.BLOpen.FamilyType                     = <span class="string">'Beamline'</span>;
2677 AO.BLOpen.MemberOf                       = {<span class="string">'PlotFamily'</span>; <span class="string">'Beamlines'</span>};
2678 AO.BLOpen.Monitor.Mode                   = <span class="string">'ONLINE'</span>;
2679 AO.BLOpen.Monitor.DataType               = <span class="string">'Scalar'</span>;
2680 AO.BLOpen.Monitor.Units                  = <span class="string">'Hardware'</span>;
2681 AO.BLOpen.Monitor.HWUnits                = <span class="string">'open'</span>;           
2682 AO.BLOpen.Monitor.PhysicsUnits           = <span class="string">'open'</span>;
2683 
2684 <span class="keyword">for</span> ii=1:size(bl,1) 
2685 name=bl{ii,1};     AO.BLOpen.CommonNames(ii,:)                  = name;     
2686 stat=bl{ii,2};     AO.BLOpen.Status(ii,1)                       = stat;
2687 name=bl{ii,3};     AO.BLOpen.Monitor.ChannelNames(ii,:)         = name; 
2688 val =bl{ii,7};     AO.BLOpen.DeviceList(ii,:)                   = val;
2689 val =bl{ii,8};     AO.BLOpen.ElementList(ii,1)                  = val;
2690 type=bl{ii,9};     AO.BLOpen.BLType(ii,:)                       = type;     
2691 AO.BLOpen.Monitor.HW2PhysicsParams(ii,:) = 1;          
2692 AO.BLOpen.Monitor.Physics2HWParams(ii,:) = 1;
2693 <span class="keyword">end</span>
2694 
2695 <span class="comment">%Photon Beamline Sum Signal</span>
2696 AO.BLSum.FamilyName                     = <span class="string">'BLSum'</span>;
2697 AO.BLSum.FamilyType                     = <span class="string">'Beamline'</span>;
2698 AO.BLSum.MemberOf                       = {<span class="string">'PlotFamily'</span>; <span class="string">'Beamlines'</span>};
2699 AO.BLSum.Monitor.Mode                   = <span class="string">'ONLINE'</span>;
2700 AO.BLSum.Monitor.DataType               = <span class="string">'Scalar'</span>;
2701 AO.BLSum.Monitor.Units                  = <span class="string">'Hardware'</span>;
2702 AO.BLSum.Monitor.HWUnits                = <span class="string">'au'</span>;           
2703 AO.BLSum.Monitor.PhysicsUnits           = <span class="string">'au'</span>;
2704 
2705 <span class="keyword">for</span> ii=1:size(bl,1) 
2706 name=bl{ii,1};     AO.BLSum.CommonNames(ii,:)                  = name;            
2707 stat=bl{ii,2};     AO.BLSum.Status(ii,1)                       = stat;
2708 name=bl{ii,4};     AO.BLSum.Monitor.ChannelNames(ii,:)         = name; 
2709 val =bl{ii,7};     AO.BLSum.DeviceList(ii,:)                   = val;
2710 val =bl{ii,8};     AO.BLSum.ElementList(ii,1)                  = val;
2711 type=bl{ii,9};     AO.BLSum.BLType(ii,:)                       = type;     
2712 
2713 AO.BLSum.Monitor.HW2PhysicsParams(ii,:) = 1;          
2714 AO.BLSum.Monitor.Physics2HWParams(ii,:) = 1;
2715 <span class="keyword">end</span>
2716 
2717 <span class="comment">%Photon Beamline Error Signal</span>
2718 AO.BLErr.FamilyName                     = <span class="string">'BLErr'</span>;
2719 AO.BLErr.FamilyType                     = <span class="string">'Beamline'</span>;
2720 AO.BLErr.MemberOf                       = {<span class="string">'PlotFamily'</span>; <span class="string">'Beamlines'</span>};
2721 AO.BLErr.Monitor.Mode                   = <span class="string">'ONLINE'</span>;
2722 AO.BLErr.Monitor.DataType               = <span class="string">'Scalar'</span>;
2723 AO.BLErr.Monitor.Units                  = <span class="string">'Hardware'</span>;
2724 AO.BLErr.Monitor.HWUnits                = <span class="string">'au'</span>;           
2725 AO.BLErr.Monitor.PhysicsUnits           = <span class="string">'au'</span>;
2726 
2727 
2728 <span class="comment">% Save the AO so that dev2elem will work</span>
2729 setao(AO);
2730 
2731 <span class="keyword">for</span> ii=1:size(bl,1) 
2732 name=bl{ii,1};     AO.BLErr.CommonNames(ii,:)                  = name;            
2733 stat=bl{ii,2};     AO.BLErr.Status(ii,1)                       = stat;
2734 name=bl{ii,5};     AO.BLErr.Monitor.ChannelNames(ii,:)         = name; 
2735 val =bl{ii,7};     AO.BLErr.DeviceList(ii,:)                   = val;
2736 val =bl{ii,8};     AO.BLErr.ElementList(ii,1)                  = val;
2737 type=bl{ii,9};     AO.BLErr.BLType(ii,:)                       = type;     
2738 val =bl{ii,10};    AO.BLErr.UpstreamBPM(ii,:)                  = dev2elem(<span class="string">'BPMy'</span>,val);
2739 val =bl{ii,11};    AO.BLErr.dBPM(ii,1)                         = val;
2740 val =bl{ii,12};    AO.BLErr.BLLength(ii,1)                     = val;
2741 
2742 AO.BLErr.Monitor.HW2PhysicsParams(ii,:) = 1;          
2743 AO.BLErr.Monitor.Physics2HWParams(ii,:) = 1;
2744 <span class="keyword">end</span>
2745 
2746 <span class="comment">%====================</span>
2747 <span class="comment">%BPLD Data</span>
2748 <span class="comment">%====================</span>
2749 <span class="comment">%Name            channel       status    devlist   elemlist  chan beamline      up-bpm  down-bpm  alt-bpm   dBPM     x     xp       y    yp       xalt   yalt</span>
2750 bpld={
2751 <span class="string">'CH01'</span>   <span class="string">'OrbInt:Ch01BpldState'</span>  1       [1 1 ]       1       1  <span class="string">'none  '</span>      [ 1  7]   [ 2  1]  [ 1  4]    4.500   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2752 <span class="string">'CH02'</span>   <span class="string">'OrbInt:Ch02BpldState'</span>  1       [1 2 ]       2       2  <span class="string">'none  '</span>      [ 2  6]   [ 3  1]  [ 2  4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2753 <span class="string">'CH03'</span>   <span class="string">'OrbInt:Ch03BpldState'</span>  1       [1 3 ]       3       3  <span class="string">'BL1   '</span>      [ 3  6]   [ 4  1]  [ 3  4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2754 <span class="string">'CH04'</span>   <span class="string">'OrbInt:Ch04BpldState'</span>  1       [1 4 ]       4       4  <span class="string">'BL2   '</span>      [ 4  6]   [ 5  1]  [ 4  4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2755 <span class="string">'CH05'</span>   <span class="string">'OrbInt:Ch05BpldState'</span>  1       [1 5 ]       5       5  <span class="string">'BL7   '</span>      [ 5  6]   [ 6  1]  [ 5  4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2756 <span class="string">'CH06'</span>   <span class="string">'OrbInt:Ch06BpldState'</span>  1       [1 6 ]       6       6  <span class="string">'BL8/10'</span>      [ 6  6]   [ 7  1]  [ 6  4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2757 <span class="string">'CH07'</span>   <span class="string">'OrbInt:Ch07BpldState'</span>  1       [1 7 ]       7       7  <span class="string">'BL9   '</span>      [ 7  6]   [ 8  1]  [ 7  4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2758 <span class="string">'CH08'</span>   <span class="string">'OrbInt:Ch08BpldState'</span>  1       [1 8 ]       8       8  <span class="string">'none  '</span>      [ 8  6]   [ 9  1]  [ 8  4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2759 <span class="string">'CH09'</span>   <span class="string">'OrbInt:Ch09BpldState'</span>  1       [1 9 ]       9       9  <span class="string">'BL12  '</span>      [ 9  4]   [ 9  7]  [10  1]    5.952   3.0   1.00     1.00  0.33     1.0    1.0; <span class="keyword">...</span>
2760 <span class="string">'CH10'</span>   <span class="string">'OrbInt:Ch10BpldState'</span>  1       [1 10]      10       10 <span class="string">'none  '</span>      [10  7]   [11  1]  [ 10 4]    4.500   4.7   0.70    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2761 <span class="string">'CH11'</span>   <span class="string">'OrbInt:Ch11BpldState'</span>  1       [1 11]      11       11 <span class="string">'BL6   '</span>      [11  6]   [12  1]  [ 11 4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2762 <span class="string">'CH12'</span>   <span class="string">'OrbInt:Ch12BpldState'</span>  1       [1 12]      12       12 <span class="string">'BL5   '</span>      [12  6]   [13  1]  [ 12 4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2763 <span class="string">'CH13'</span>   <span class="string">'OrbInt:Ch13BpldState'</span>  1       [1 13]      13       13 <span class="string">'BL3/4 '</span>      [13  6]   [14  1]  [ 13 4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2764 <span class="string">'CH14'</span>   <span class="string">'OrbInt:Ch14BpldState'</span>  1       [1 14]      14       14 <span class="string">'none  '</span>      [14  6]   [15  1]  [ 14 4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2765 <span class="string">'CH15'</span>   <span class="string">'OrbInt:Ch15BpldState'</span>  1       [1 15]      15       15 <span class="string">'BL11  '</span>      [15  6]   [16  1]  [ 15 4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2766 <span class="string">'CH16'</span>   <span class="string">'OrbInt:Ch16BpldState'</span>  1       [1 16]      16       16 <span class="string">'none  '</span>      [16  6]   [17  1]  [ 16 4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2767 <span class="string">'CH17'</span>   <span class="string">'OrbInt:Ch17BpldState'</span>  1       [1 17]      17       17 <span class="string">'none  '</span>      [17  6]   [18  1]  [ 17 4]    2.812   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2768 <span class="string">'CH18'</span>   <span class="string">'OrbInt:Ch18BpldState'</span>  1       [1 18]      18       18 <span class="string">'none  '</span>      [18  7]   [ 1  1]  [ 18 4]    4.500   4.7   1.10    1.16  0.36     1.0    1.0; <span class="keyword">...</span>
2769 };
2770 <span class="comment">%BPLD</span>
2771 AO.BPLD.FamilyName                     = <span class="string">'BPLD'</span>;
2772 AO.BPLD.FamilyType                     = <span class="string">'BPLD'</span>;
2773 AO.BPLD.MemberOf                       = {<span class="string">'Beamlines'</span>; <span class="string">'Interlock'</span>};
2774 AO.BPLD.Monitor.Mode                   = <span class="string">'ONLINE'</span>;
2775 AO.BPLD.Monitor.DataType               = <span class="string">'Scalar'</span>;
2776 AO.BPLD.Monitor.Units                  = <span class="string">'Hardware'</span>;
2777 AO.BPLD.Monitor.HWUnits                = <span class="string">'mm'</span>;           
2778 AO.BPLD.Monitor.PhysicsUnits           = <span class="string">'mm'</span>;
2779 
2780 <span class="keyword">for</span> ii=1:size(bpld,1) 
2781 name=bpld{ii,1};     AO.BPLD.CommonNames(ii,:)                  = name;     
2782 name=bpld{ii,2};     AO.BPLD.Monitor.ChannelNames(ii,:)         = name;
2783 stat=bpld{ii,3};     AO.BPLD.Status(ii,1)                       = stat;
2784 val =bpld{ii,4};     AO.BPLD.DeviceList(ii,:)                   = val;
2785 val =bpld{ii,5};     AO.BPLD.ElementList(ii,1)                  = val;
2786 val =bpld{ii,6};     AO.BPLD.Channel(ii,1)                      = val;
2787 name=bpld{ii,7};     AO.BPLD.Beamline(ii,:)                     = name;     
2788 val =bpld{ii,8};     AO.BPLD.UpStreamBPM(ii,:)                  = val;
2789 val =bpld{ii,9};     AO.BPLD.DownStreamBPM(ii,:)                = val;
2790 val =bpld{ii,10};    AO.BPLD.AltBPM(ii,:)                       = val;   <span class="comment">%alternate BPM in case one BPM fails</span>
2791 val =bpld{ii,11};    AO.BPLD.dBPM(ii,1)                         = val;
2792 val =bpld{ii,12};    AO.BPLD.x(ii,1)                            = val;
2793 val =bpld{ii,13};    AO.BPLD.xp(ii,1)                           = val;
2794 val =bpld{ii,14};    AO.BPLD.y(ii,1)                            = val;
2795 val =bpld{ii,15};    AO.BPLD.yp(ii,1)                           = val;
2796 val =bpld{ii,16};    AO.BPLD.xalt(ii,1)                         = val;   <span class="comment">%alternate BPM limit in case one BPM fails</span>
2797 val =bpld{ii,17};    AO.BPLD.yalt(ii,1)                         = val;
2798 AO.BPLD.Monitor.HW2PhysicsParams(ii,:)                          = 1;          
2799 AO.BPLD.Monitor.Physics2HWParams(ii,:)                          = 1;
2800 <span class="keyword">end</span>
2801 
2802 
2803 <span class="comment">% The operational mode sets the path, filenames, and other important parameters</span>
2804 <span class="comment">% Run setoperationalmode after most of the AO is built so that the Units and Mode fields</span>
2805 <span class="comment">% can be set in setoperationalmode</span>
2806 setao(AO);
2807 <a href="setoperationalmode.html" class="code" title="function setoperationalmode(ModeNumber)">setoperationalmode</a>(1);
2808 
2809 
2810 
2811 <span class="comment">%Machine Parameters (I'm not sure where this are used - Greg)</span>
2812 AO = getao;
2813 AO.MachineParameters.AT.ATType = <span class="string">'MachineParameters'</span>;
2814 AO.MachineParameters.AT.ATName(1,:) = <span class="string">'Energy  '</span>;
2815 AO.MachineParameters.AT.ATName(2,:) = <span class="string">'Current '</span>;
2816 AO.MachineParameters.AT.ATName(3,:) = <span class="string">'Lifetime'</span>;
2817 setao(AO);
2818 
2819 
2820 
2821 <span class="comment">% Response matrix kick size must be in hardware units.</span>
2822 <span class="comment">% Since they were set in physics units, they must be converted.</span>
2823 <span class="comment">% Note #1: The AO must be setup for the BEND family for physics2hw to work</span>
2824 <span class="comment">% Note #2: This is being done in simulate mode so that the BEND will not be</span>
2825 <span class="comment">%          accessed to get the energy.  This can be problem when the BEND is</span>
2826 <span class="comment">%          not online or not at the proper setpoint</span>
2827 ModeBEND = getmode(<span class="string">'BEND'</span>, <span class="string">'Setpoint'</span>);
2828 setfamilydata(<span class="string">'Simulator'</span>, <span class="string">'BEND'</span>, <span class="string">'Monitor'</span>, <span class="string">'Mode'</span>);
2829 setfamilydata(<span class="string">'Simulator'</span>, <span class="string">'BEND'</span>, <span class="string">'Setpoint'</span>, <span class="string">'Mode'</span>);
2830 AO = getao;
2831 AO.HCM.Setpoint.DeltaRespMat = physics2hw(<span class="string">'HCM'</span>,<span class="string">'Setpoint'</span>, AO.HCM.Setpoint.DeltaRespMat, AO.HCM.DeviceList);
2832 AO.VCM.Setpoint.DeltaRespMat = physics2hw(<span class="string">'VCM'</span>,<span class="string">'Setpoint'</span>, AO.VCM.Setpoint.DeltaRespMat, AO.VCM.DeviceList);
2833 AO.VCM.Setpoint.PhotResp     = physics2hw(<span class="string">'VCM'</span>,<span class="string">'Setpoint'</span>, AO.VCM.Setpoint.PhotResp,     AO.VCM.DeviceList);
2834 AO.QF.Setpoint.DeltaRespMat  = physics2hw(<span class="string">'QF'</span>, <span class="string">'Setpoint'</span>, AO.QF.Setpoint.DeltaRespMat,  AO.QF.DeviceList);
2835 AO.QD.Setpoint.DeltaRespMat  = physics2hw(<span class="string">'QD'</span>, <span class="string">'Setpoint'</span>, AO.QD.Setpoint.DeltaRespMat,  AO.QD.DeviceList);
2836 AO.QFC.Setpoint.DeltaRespMat = physics2hw(<span class="string">'QFC'</span>,<span class="string">'Setpoint'</span>, AO.QFC.Setpoint.DeltaRespMat, AO.QFC.DeviceList);
2837 AO.QFX.Setpoint.DeltaRespMat = physics2hw(<span class="string">'QFX'</span>,<span class="string">'Setpoint'</span>, AO.QFX.Setpoint.DeltaRespMat, AO.QFX.DeviceList);
2838 AO.QFY.Setpoint.DeltaRespMat = physics2hw(<span class="string">'QFY'</span>,<span class="string">'Setpoint'</span>, AO.QFY.Setpoint.DeltaRespMat, AO.QFY.DeviceList);
2839 AO.QFZ.Setpoint.DeltaRespMat = physics2hw(<span class="string">'QFZ'</span>,<span class="string">'Setpoint'</span>, AO.QFZ.Setpoint.DeltaRespMat, AO.QFZ.DeviceList);
2840 AO.QDX.Setpoint.DeltaRespMat = physics2hw(<span class="string">'QDX'</span>,<span class="string">'Setpoint'</span>, AO.QDX.Setpoint.DeltaRespMat, AO.QDX.DeviceList);
2841 AO.QDY.Setpoint.DeltaRespMat = physics2hw(<span class="string">'QDY'</span>,<span class="string">'Setpoint'</span>, AO.QDY.Setpoint.DeltaRespMat, AO.QDY.DeviceList);
2842 AO.QDZ.Setpoint.DeltaRespMat = physics2hw(<span class="string">'QDZ'</span>,<span class="string">'Setpoint'</span>, AO.QDZ.Setpoint.DeltaRespMat, AO.QDZ.DeviceList);
2843 <span class="comment">%AO.QDW.Setpoint.DeltaRespMat = physics2hw('QDW','Setpoint', AO.QDW.Setpoint.DeltaRespMat, AO.QDW.DeviceList);</span>
2844 AO.SF.Setpoint.DeltaRespMat  = physics2hw(<span class="string">'SF'</span>, <span class="string">'Setpoint'</span>, AO.SF.Setpoint.DeltaRespMat,  AO.SF.DeviceList);
2845 AO.SD.Setpoint.DeltaRespMat  = physics2hw(<span class="string">'SD'</span>, <span class="string">'Setpoint'</span>, AO.SD.Setpoint.DeltaRespMat,  AO.SD.DeviceList);
2846 AO.SFM.Setpoint.DeltaRespMat = physics2hw(<span class="string">'SFM'</span>,<span class="string">'Setpoint'</span>, AO.SFM.Setpoint.DeltaRespMat, AO.SFM.DeviceList);
2847 AO.SDM.Setpoint.DeltaRespMat = physics2hw(<span class="string">'SDM'</span>,<span class="string">'Setpoint'</span>, AO.SDM.Setpoint.DeltaRespMat, AO.SDM.DeviceList);
2848 AO.SkewQuad.Setpoint.DeltaRespMat = physics2hw(<span class="string">'SkewQuad'</span>, <span class="string">'Setpoint'</span>, AO.SkewQuad.Setpoint.DeltaRespMat, AO.SkewQuad.DeviceList);
2849 setao(AO);  <span class="comment">% setfamilydata works on the saved AO</span>
2850 setfamilydata(ModeBEND, <span class="string">'BEND'</span>, <span class="string">'Monitor'</span>, <span class="string">'Mode'</span>);
2851 setfamilydata(ModeBEND, <span class="string">'BEND'</span>, <span class="string">'Setpoint'</span>, <span class="string">'Mode'</span>);
2852</pre></div>
<hr><address>Generated on Wed 16-Aug-2006 12:45:04 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>