<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of arplot_sr</title>
  <meta name="keywords" content="arplot_sr">
  <meta name="description" content="ARPLOT_SR - Plots various performance data from the ALS archiver">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="#">ALS</a> &gt; <a href="index.html">StorageRing</a> &gt; arplot_sr.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for ALS\StorageRing&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>arplot_sr
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>ARPLOT_SR - Plots various performance data from the ALS archiver</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function arplot_sr(monthStr, days, year1, month2Str, days2, year2) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">ARPLOT_SR - Plots various performance data from the ALS archiver
  arplot_sr(Month1 String, Days1, Year1, Month2 String, Days2, Year2)

  Plots a whole bunch of storage ring related archived data.
  Only plots data when feed forward is on.

  EXAMPLES
  1. arplot_sr('January',22:24,1998);
     plots data from 1/22, 1/23, and 1/24 in 1998

  2. arplot_sr('January',28:31,1998,'February',1:4,1998);
     plots data from the last 4 days in Jan. and the first 4 days in Feb.

  See also <a href="arplot.html" class="code" title="function [yout, ivecout] = arplot(ChanName, LineType);">arplot</a>, <a href="arplot_sr_report.html" class="code" title="function [FileName, DirectoryName] = arplot_sr_report(DirectoryName)">arplot_sr_report</a>, <a href="arplot_sbm.html" class="code" title="function arplot_sbm(monthStr, days, year1, month2Str, days2, year2)">arplot_sbm</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="arglobal.html" class="code" title="">arglobal</a>	Just used to make archived variables global</li><li><a href="arread.html" class="code" title="function arread(InputDate, BooleanFlag)">arread</a>	ARREAD - Loads one day of archived data into matlab global memory</li><li><a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>	ARSELECT - Return the archived data for a group on channel names</li><li><a href="gap2tune.html" class="code" title="function [Dnuy, Beff, Bmax, Lambda, IDLength, B10, B30, B50] = gap2tune(Sector, Gap, GeV, FitFlag)">gap2tune</a>	GAP2TUNE - Computes the vertical tune shift for a insertion device gap change.</li><li><a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>	GETBPMLIST - Return a BPM list based on key words and sector numbers</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function ChangeAxesLabel(t, Days, DayFlag)</a></li></ul>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function arplot_sr(monthStr, days, year1, month2Str, days2, year2)</a>
0002 <span class="comment">%ARPLOT_SR - Plots various performance data from the ALS archiver</span>
0003 <span class="comment">%  arplot_sr(Month1 String, Days1, Year1, Month2 String, Days2, Year2)</span>
0004 <span class="comment">%</span>
0005 <span class="comment">%  Plots a whole bunch of storage ring related archived data.</span>
0006 <span class="comment">%  Only plots data when feed forward is on.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%  EXAMPLES</span>
0009 <span class="comment">%  1. arplot_sr('January',22:24,1998);</span>
0010 <span class="comment">%     plots data from 1/22, 1/23, and 1/24 in 1998</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%  2. arplot_sr('January',28:31,1998,'February',1:4,1998);</span>
0013 <span class="comment">%     plots data from the last 4 days in Jan. and the first 4 days in Feb.</span>
0014 <span class="comment">%</span>
0015 <span class="comment">%  See also arplot, arplot_sr_report, arplot_sbm</span>
0016 
0017 <span class="comment">% Written by Greg Portmann &amp; Tom Scarvie</span>
0018 <span class="comment">%</span>
0019 <span class="comment">% Modified</span>
0020 <span class="comment">% 2001, C. Steier</span>
0021 <span class="comment">% 2002, T. Scarvie</span>
0022 <span class="comment">%</span>
0023 <span class="comment">% 2002-05-08, T.Scarvie</span>
0024 <span class="comment">%         modified to plot SR09S_IBPM1X/Y_RMS instead of SR09C_IBPM5X/Y_RMS</span>
0025 <span class="comment">%         we no longer measure IDBPM(9,5) RMS data due to change in IDBPM(9,5) electronics</span>
0026 <span class="comment">%         for now, IDBPM(9,1) and (9,2) RMS's are the ones measured</span>
0027 <span class="comment">%</span>
0028 <span class="comment">% 2004-06-14, T.Scarvie</span>
0029 <span class="comment">%       added all new curved section BPMs to plots</span>
0030 <span class="comment">%</span>
0031 <span class="comment">% 2005-07-01, G.Portmann</span>
0032 <span class="comment">%       small changes to a lot of graphs</span>
0033 <span class="comment">%</span>
0034 <span class="comment">% 2007-02-15, T.Scarvie</span>
0035 <span class="comment">%       added new BR RF plots at request of K.Baptiste</span>
0036 
0037 
0038 LeftGraphColor = <span class="string">'b'</span>;
0039 RightGraphColor = <span class="string">'r'</span>;
0040 FFFlag = 1;
0041 
0042 
0043 <span class="comment">% Inputs</span>
0044 <span class="keyword">if</span> nargin &lt; 2
0045     error(<span class="string">'ARPLOTS:  You need at least two input arguments.'</span>);
0046 <span class="keyword">elseif</span> nargin == 2
0047     tmp = clock;
0048     year1 = tmp(1);
0049     monthStr2 = [];
0050     days2 = [];
0051     year2 = [];
0052 <span class="keyword">elseif</span> nargin == 3
0053     monthStr2 = [];
0054     days2 = [];
0055     year2 = [];
0056 <span class="keyword">elseif</span> nargin == 4
0057     error(<span class="string">'ARPLOTS:  You need 2, 3, 5, or 6 input arguments.'</span>);
0058 <span class="keyword">elseif</span> nargin == 5
0059     tmp = clock;
0060     year2 = tmp(1);
0061 <span class="keyword">elseif</span> nargin == 6
0062 <span class="keyword">else</span>
0063     error(<span class="string">'ARPLOTS:  Inputs incorrect.'</span>);
0064 <span class="keyword">end</span>
0065 
0066 
0067 <a href="arglobal.html" class="code" title="">arglobal</a>
0068 
0069 BPMlist = <a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>);
0070 GapEnableNames = family2channel(<span class="string">'ID'</span>,<span class="string">'GapEnable'</span>);
0071 BPMxNames = family2channel(<span class="string">'BPMx'</span>,BPMlist);
0072 BPMyNames = family2channel(<span class="string">'BPMy'</span>,BPMlist);
0073 BPMxPos = getspos(<span class="string">'BPMx'</span>,BPMlist);
0074 BPMyPos = getspos(<span class="string">'BPMy'</span>,BPMlist);
0075 BPMxGolden = getgolden(<span class="string">'BPMx'</span>,BPMlist);
0076 BPMyGolden = getgolden(<span class="string">'BPMy'</span>,BPMlist);
0077 
0078 ar_functions_time = 0;
0079 
0080 <span class="keyword">if</span> isempty(days2)
0081     <span class="keyword">if</span> length(days) == [1]
0082         month  = mon2num(monthStr);
0083         NumDays = length(days);
0084         StartDayStr = [monthStr, <span class="string">' '</span>, num2str(days(1)),<span class="string">', '</span>, num2str(year1)];
0085         EndDayStr =   [<span class="string">''</span>];
0086         titleStr = [StartDayStr];
0087         DirectoryDate = sprintf(<span class="string">'%d-%02d-%02d'</span>, year1, month, days(1));
0088     <span class="keyword">else</span>
0089         month  = mon2num(monthStr);
0090         NumDays = length(days);
0091         StartDayStr = [monthStr, <span class="string">' '</span>, num2str(days(1)),<span class="string">', '</span>, num2str(year1)];
0092         EndDayStr =   [monthStr, <span class="string">' '</span>, num2str(days(length(days))),<span class="string">', '</span>, num2str(year1)];
0093         titleStr = [StartDayStr,<span class="string">' to '</span>, EndDayStr,<span class="string">' ('</span>, num2str(NumDays),<span class="string">' days)'</span>];
0094         DirectoryDate = sprintf(<span class="string">'%d-%02d-%02d to %d-%02d-%02d'</span>, year1, month, days(1), year1, month, days(end));
0095     <span class="keyword">end</span>
0096 <span class="keyword">else</span>
0097     month  = mon2num(monthStr);
0098     month2 = mon2num(month2Str);
0099     NumDays = length(days) + length(days2);
0100     StartDayStr = [monthStr, <span class="string">' '</span>, num2str(days(1)),<span class="string">', '</span>, num2str(year1)];
0101     EndDayStr =   [month2Str, <span class="string">' '</span>, num2str(days2(length(days2))),<span class="string">', '</span>, num2str(year2)];
0102     titleStr = [StartDayStr,<span class="string">' to '</span>, EndDayStr,<span class="string">' ('</span>, num2str(NumDays),<span class="string">' days)'</span>];
0103     DirectoryDate = sprintf(<span class="string">'%d-%02d-%02d to %d-%02d-%02d'</span>, year1, month, days(1), year2, month2, days2(end));
0104 <span class="keyword">end</span>
0105 
0106 StartDay = days(1);
0107 EndDay = days(length(days));
0108 
0109 tic;
0110 <span class="keyword">for</span> day = days
0111     year1str = num2str(year1);
0112     <span class="keyword">if</span> year1 &lt; 2000
0113         year1str = year1str(3:4);
0114         FileName = sprintf(<span class="string">'%2s%02d%02d'</span>, year1str, month, day);
0115     <span class="keyword">else</span>
0116         FileName = sprintf(<span class="string">'%4s%02d%02d'</span>, year1str, month, day);
0117     <span class="keyword">end</span>
0118     <a href="arread.html" class="code" title="function arread(InputDate, BooleanFlag)">arread</a>(FileName, FFFlag);
0119 
0120     ar_functions_time = ar_functions_time + toc;
0121     tic;
0122     <span class="keyword">if</span> day==days(1)
0123         [dcct, idcct] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR05S___DCCTLP_AM01'</span>);
0124         [lcw, ilcw ] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03S___LCWTMP_AM00'</span>);
0125         [i_cam, ii_cam] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'cmm:cam_current'</span>);
0126         [gev, igev] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'cmm:sr_energy'</span>);
0127         [lifetime, ilifetime] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR05W___DCCT2__AM00'</span>);
0128 
0129         EPUChan = family2channel(<span class="string">'EPU'</span>,<span class="string">'Monitor'</span>);
0130         <span class="keyword">if</span> str2num(FileName) &lt; 20050223 <span class="comment">% this is the date that EPU(11,2) was renamed</span>
0131             [tmp, i] = ismember(<span class="string">'SR11U___ODS2PS_AM00'</span>, EPUChan, <span class="string">'rows'</span>);
0132             EPUChan(i,:) = []; <span class="comment">% remove it because it probably already in the list 'SR11U___ODS1PS_AM00';</span>
0133         <span class="keyword">end</span>
0134         [EPU, iEPU, iNotFound] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(EPUChan);
0135         EPU(iNotFound,:) = [];
0136         EPULegend = mat2cell(ARChanNames(iEPU,3:4), ones(length(iEPU),1), 2);
0137         EPULegend = strcat(EPULegend,<span class="string">'EPU'</span>);
0138         EPULegend = strcat(EPULegend,ARChanNames(iEPU,12));
0139 
0140         <span class="comment">% ID vertical gap</span>
0141         IDlist = family2dev(<span class="string">'ID'</span>);
0142         [IDgap, iIDgap, iNotFound] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(family2channel(<span class="string">'ID'</span>,<span class="string">'Monitor'</span>,IDlist));
0143         IDgap(iNotFound,:) = [];
0144         IDlist(iNotFound,:) = [];
0145         IDLegend = mat2cell(ARChanNames(iIDgap,3:5),ones(length(iIDgap),1),3);
0146         IDLegend = strcat(IDLegend,ARChanNames(iIDgap,12));
0147 
0148         <span class="keyword">if</span> FFFlag
0149             [GapEnable, iGapEnable] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(GapEnableNames);
0150             [FF7Enable,iFF7Enable] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'sr07u:FFEnable:bi'</span>);
0151         <span class="keyword">end</span>
0152 
0153         [TC7_1, iTC7_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07U___IDTC1__AM'</span>);
0154         [TC7_2, iTC7_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07U___IDTC2__AM'</span>);
0155         [TC7_3, iTC7_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07U___IDTC3__AM'</span>);
0156         [TC7_4, iTC7_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07U___IDTC4__AM'</span>);
0157 
0158         [TC8_1, iTC8_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08U___IDTC1__AM'</span>);
0159         [TC8_2, iTC8_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08U___IDTC2__AM'</span>);
0160         [TC8_3, iTC8_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08U___IDTC3__AM'</span>);
0161         [TC8_4, iTC8_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08U___IDTC4__AM'</span>);
0162 
0163         [TC9_1, iTC9_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09U___IDTC1__AM'</span>);
0164         [TC9_2, iTC9_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09U___IDTC2__AM'</span>);
0165         [TC9_3, iTC9_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09U___IDTC3__AM'</span>);
0166         [TC9_4, iTC9_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09U___IDTC4__AM'</span>);
0167 
0168         [TC10_1, iTC10_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR10U___IDTC1__AM'</span>);
0169         [TC10_2, iTC10_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR10U___IDTC2__AM'</span>);
0170         [TC10_3, iTC10_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR10U___IDTC3__AM'</span>);
0171         [TC10_4, iTC10_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR10U___IDTC4__AM'</span>);
0172 
0173         [TC12_1, iTC12_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12U___IDTC1__AM'</span>);
0174         [TC12_2, iTC12_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12U___IDTC2__AM'</span>);
0175         [TC12_3, iTC12_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12U___IDTC3__AM'</span>);
0176         [TC12_4, iTC12_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12U___IDTC4__AM'</span>);
0177 
0178         [TCSR01, iTCSR01] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___T______AM'</span>);
0179         [TCSR02, iTCSR02] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR02C___T______AM'</span>);
0180         [TCSR03, iTCSR03] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03C___T______AM'</span>);
0181         [TCSR04, iTCSR04] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04C___T______AM'</span>);
0182         [TCSR05, iTCSR05] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR05C___T______AM'</span>);
0183         [TCSR06, iTCSR06] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR06C___T______AM'</span>);
0184         [TCSR07, iTCSR07] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07C___T______AM'</span>);
0185         [TCSR08, iTCSR08] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08C___T______AM'</span>);
0186         [TCSR09, iTCSR09] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09C___T______AM'</span>);
0187         [TCSR11, iTCSR11] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR11C___T______AM'</span>);
0188         [TCSR12, iTCSR12] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12C___T______AM'</span>);
0189         [TCSRAVG, iTCSRAVG] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___T_AVG__AM'</span>);
0190 
0191         [AHUT01, iAHUT01] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___AHUT___AM'</span>);
0192         [AHUT03, iAHUT03] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03C___AHUT___AM'</span>);
0193         [AHUT04, iAHUT04] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04C___AHUT___AM'</span>);
0194         [AHUT06, iAHUT06] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR06C___AHUT___AM'</span>);
0195         [AHUT07, iAHUT07] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07C___AHUT___AM'</span>);
0196         [AHUT08, iAHUT08] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08C___AHUT___AM'</span>);
0197         [AHUT09, iAHUT09] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09C___AHUT___AM'</span>);
0198         [AHUT11, iAHUT11] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR11C___AHUT___AM'</span>);
0199 
0200         [WVSRM, iWVSRM] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___AHWVM__AM00'</span>);
0201 
0202         [CWTemp, iCWTemp] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'6_______CW__T__AM00'</span>); <span class="comment">%chilled H20 supply temp. bld 6 AHU's F</span>
0203         [CWValve, iCWValve] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'6_______CWV____AM00'</span>); <span class="comment">%chilled water valve</span>
0204 
0205         [RingLCWSupPx, iRingLCWSupPx]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR11U___H2OPX1_AM00'</span>); <span class="comment">%Bldg 6 LCW supply pressure in PSI</span>
0206         [RingLCWRetPx, iRingLCWRetPx]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR11U___H2OPX2_AM01'</span>); <span class="comment">%Bldg 6 LCW return pressure in PSI</span>
0207         [LCWSupPx, iLCWSupPx]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37LCW___SPPAVG_AM00'</span>); <span class="comment">%LCW supply pressure average in PSI</span>
0208         [LCWRetPx, iLCWRetPx]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37LCW___RTP____AM00'</span>); <span class="comment">%LCW return pressure in PSIG</span>
0209         [LCWSupTemp, iLCWSupTemp]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37LCW___SPTAVG_AM00'</span>); <span class="comment">%LCW supply temperature average in deg. F</span>
0210         [LCWRetTemp, iLCWRetTemp]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37LCW___RTT'</span>); <span class="comment">%LCW return temperature (3 entries)</span>
0211         [WBasinTemp, iWBasinTemp]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37CT100_TW_ST__AM00'</span>); <span class="comment">%North Cooling tower supply (basin) temperature</span>
0212         [EBasinTemp, iEBasinTemp] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37CT101_TW_ST__AM00'</span>); <span class="comment">%South Cooling tower supply (basin) temperature</span>
0213 
0214         <span class="comment">% All Bergoz BPMs</span>
0215         [BPMx, iBPMx] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(BPMxNames);
0216         [BPMy, iBPMy] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(BPMyNames);
0217 
0218         [ID9BPM1xRMS, iID9BPM1xRMS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09S_IBPM1X_RMS'</span>);
0219         [ID9BPM1yRMS, iID9BPM1yRMS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09S_IBPM1Y_RMS'</span>);
0220         [ID9BPM2xRMS, iID9BPM2xRMS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09S_IBPM2X_RMS'</span>);
0221         [ID9BPM2yRMS, iID9BPM2yRMS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09S_IBPM2Y_RMS'</span>);
0222 
0223         [C1TEMP, iC1TEMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03S___C1TEMP_AM'</span>);
0224         [C2TEMP, iC2TEMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03S___C2TEMP_AM'</span>);
0225 
0226         [SigX, iSigX] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04S___SPIRICOAM07'</span>);
0227         [SigY, iSigY] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04S___SPIRICOAM08'</span>);
0228 
0229         [SigX31, iSigX31] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'beamline31:XRMSAve'</span>,1);
0230         [SigY31, iSigY31] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'beamline31:YRMSAve'</span>,1);
0231         <span class="keyword">if</span> isempty(SigX31)
0232             SigX31 = NaN * ones(1,length(ARt));
0233         <span class="keyword">end</span>
0234         <span class="keyword">if</span> isempty(SigY31)
0235             SigY31 = NaN * ones(1,length(ARt));
0236         <span class="keyword">end</span>
0237 
0238         [SigX72, iSigX72] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'bl72:XRMSAve'</span>,1);
0239         [SigY72, iSigY72] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'bl72:YRMSAve'</span>,1);
0240         <span class="keyword">if</span> isempty(SigX72)
0241             SigX72 = NaN * ones(1,length(ARt));
0242         <span class="keyword">end</span>
0243         <span class="keyword">if</span> isempty(SigY72)
0244             SigY72 = NaN * ones(1,length(ARt));
0245         <span class="keyword">end</span>
0246 
0247         [SpiroX, iSpiroX] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04S___SPIRICOAM01'</span>);
0248         [SpiroY, iSpiroY] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04S___SPIRICOAM02'</span>);
0249 
0250         [HPcounter, iHPcounter] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___FREQB__AM00'</span>);
0251 
0252         [HPsyn, iHPsyn] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03S___RFFREQ_AM00'</span>);
0253 
0254         [hqmofm, ihqmofm] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'EG______HQMOFM_AC01'</span>);
0255         hqmofm = hqmofm*4.988e3;
0256 
0257         [QFAam, iQFAam] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___QFA____AM00'</span>);
0258 
0259         <span class="comment">% BR RF parameters</span>
0260         [Power_RF_fwd, iPower_RF_fwd] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Power_RF_fwd'</span>);
0261         [Power_RF_ref, iPower_RF_ref] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Power_RF_ref'</span>);
0262         [Power_drive, iPower_drive] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Power_drive'</span>);
0263         [HV_setpoint, iHV_setpoint] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'HV_setpoint'</span>);
0264         [Beam_volts, iBeam_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Beam_volts'</span>);
0265         [Beam_current, iBeam_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Beam_current'</span>);
0266         [Bias_volts, iBias_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Bias_volts'</span>);
0267         [Bias_current, iBias_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Bias_current'</span>);
0268         [Heater_Voltage, iHeater_Voltage] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Heater_Voltage'</span>);
0269         [Heater_current, iHeater_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Heater_current'</span>);
0270         [Focus_voltage, iFocus_voltage] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Focus_voltage'</span>);
0271         [Focus_current, iFocus_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Focus_current'</span>);
0272         [VacIon_voltage, iVacIon_voltage] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'VacIon_voltage'</span>);
0273         [VacIon_current, iVacIon_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'VacIon_current'</span>);
0274         [Thy_Grid1_volts, iThy_Grid1_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Thy_Grid1_volts'</span>);
0275         [Thy_Grid2_volts, iThy_Grid2_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Thy_Grid2_volts'</span>);
0276         [Thy_heater_volts, iThy_heater_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Thy_heater_volts'</span>);
0277         [Thy_heater_current, iThy_heater_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Thy_heater_current'</span>);
0278         [Body_Current, iBody_Current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Body_Current'</span>);
0279         [Temp_HV_enclose, iTemp_HV_enclose] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Temp_HV_enclose'</span>);
0280         [Temp_IOT_enclose, iTemp_IOT_enclose] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Temp_IOT_enclose'</span>);
0281         [Temp_IOT_cooling, iTemp_IOT_cooling] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Temp_IOT_cooling'</span>);
0282         [Temp_ceramic_output, iTemp_ceramic_output] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Temp_ceramic_output'</span>);
0283         [BR_CLDFWD, iBR_CLDFWD] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CLDFWD_AM00'</span>);
0284         [BR_WGREV, iBR_WGREV] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____WGREV__AM01'</span>);
0285         [BR_WGFWD, iBR_WGFWD] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____WGFWD__AM02'</span>);
0286         [BR_RFCONT, iBR_RFCONT] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____RFCONT_AM01'</span>);
0287         [BR_PHSCON_AM, iBR_PHSCON_AM] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____PHSCON_AM00'</span>);
0288         [BR_PHSCON_AC, iBR_PHSCON_AC] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____PHSCON_AC00'</span>);
0289         [BR_TUNPOS, iBR_TUNPOS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____TUNPOS_AM00'</span>);
0290         [BR_TUNERR, iBR_TUNERR] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____TUNERR_AM02'</span>);
0291         [BR_CAVTMP, iBR_CAVTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CAVTMP_AM03'</span>);
0292         [BR_LCWTMP, iBR_LCWTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____LCWTMP_AM03'</span>);
0293         [BR_CLDFLW, iBR_CLDFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CLDFLW_AM01'</span>);
0294         [BR_CIRFLW, iBR_CIRFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CIRFLW_AM02'</span>);
0295         [BR_SLDTMP, iBR_SLDTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____SLDTMP_AM01'</span>);
0296         [BR_CIRTMP, iBR_CIRTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CIRTMP_AM03'</span>);
0297         [BR_SLDFLW, iBR_SLDFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____SLDFLW_AM00'</span>);
0298         [BR_CLDTMP, iBR_CLDTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CLDTMP_AM03'</span>);
0299         [BR_CAVFLW, iBR_CAVFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CAVFLW_AM00'</span>);
0300         [BR_WINFLW, iBR_WINFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____WINFLW_AM01'</span>);
0301         [BR_TUNFLW, iBR_TUNFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____TUNFLW_AM02'</span>);
0302 
0303         <span class="comment">% Beamline shutters</span>
0304         [B021_PSS201_OPN, iB021_PSS201_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B021_PSS201_OPN'</span>);
0305         <span class="keyword">if</span> isempty(iB021_PSS201_OPN)
0306             B021_PSS201_OPN = NaN * ones(1,length(ARt));
0307         <span class="keyword">end</span>
0308         [B03_11_PSS1_RSS_TRLY_OPN, iB03_11_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_11_PSS1_RSS_TRLY_OPN'</span>);
0309         [B03_2_PSS101_RSS_TRLY_OPN, iB03_2_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_2_PSS101_RSS_TRLY_OPN'</span>);
0310         [B03_2_PSS201_RSS_TRLY_OPN, iB03_2_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_2_PSS201_RSS_TRLY_OPN'</span>);
0311         [B03_3_PSS101_RSS_TRLY_OPN, iB03_3_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_3_PSS101_RSS_TRLY_OPN'</span>);
0312         [B03_3_PSS201_RSS_TRLY_OPN, iB03_3_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_3_PSS201_RSS_TRLY_OPN'</span>);
0313         [B040_PSS002_RSS_TRLY_OPN, iB040_PSS002_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B040_PSS002_RSS_TRLY_OPN'</span>);
0314         [B040_PSS001_RSS_TRLY_OPN, iB040_PSS001_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B040_PSS001_RSS_TRLY_OPN'</span>);
0315         [ICS_BL042_PSS101_RSS_TRLY_OP, iICS_BL042_PSS101_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL042_PSS101_RSS_TRLY_OP'</span>);
0316         [ICS_BL042_PSS201_RSS_TRLY_OP, iICS_BL042_PSS201_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL042_PSS201_RSS_TRLY_OP'</span>);
0317         [ICS_BL043_PSS101_RSS_TRLY_OP, iICS_BL043_PSS101_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL043_PSS101_RSS_TRLY_OP'</span>);
0318         [ICS_BL043_PSS201_RSS_TRLY_OP, iICS_BL043_PSS201_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL043_PSS201_RSS_TRLY_OP'</span>);
0319         [B050_PSS001_RSS_TRLY_OPN, iB050_PSS001_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS001_RSS_TRLY_OPN'</span>);
0320         [B050_PSS101_OPN, iB050_PSS101_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS101_OPN'</span>);
0321         [B050_PSS201_OPN, iB050_PSS201_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS201_OPN'</span>);
0322         [B050_PSS301_OPN, iB050_PSS301_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS301_OPN'</span>);
0323         [B050_PSS111_OPN, iB050_PSS111_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS111_OPN'</span>);
0324         [B050_PSS211_OPN, iB050_PSS211_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS211_OPN'</span>);
0325         [B050_PSS311_OPN, iB050_PSS311_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS311_OPN'</span>);
0326         [B053_PSS101_RSS_TRLY_OPN, iB053_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B053_PSS101_RSS_TRLY_OPN'</span>);
0327         [B053_PSS201_RSS_TRLY_OPN, iB053_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B053_PSS201_RSS_TRLY_OPN'</span>);
0328         [B060_PSS101_OPN, iB060_PSS101_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B060_PSS101_OPN'</span>);
0329         [B0612_PSS1_OPN, iB0612_PSS1_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0612_PSS1_OPN'</span>);
0330         [B0631_PSS1_OPN, iB0631_PSS1_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0631_PSS1_OPN'</span>);
0331         [B0632_PSS1_OPN, iB0632_PSS1_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0632_PSS1_OPN'</span>);
0332         [B0701_PSS1_RSS_TRLY_OPN, iB0701_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0701_PSS1_RSS_TRLY_OPN'</span>);
0333         [B073_PSS1_RSS_TRLY_OPN, iB073_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B073_PSS1_RSS_TRLY_OPN'</span>);
0334         [B0733_PSS1_OPN, iB0733_PSS1_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0733_PSS1_OPN'</span>);
0335         [ICS_B0801_PSS1_RSS_TRLY_OPN, iICS_B0801_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B0801_PSS1_RSS_TRLY_OPN'</span>);
0336         [ICS_B082_PSS101_RSS_TRLY_OP, iICS_B082_PSS101_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B082_PSS101_RSS_TRLY_OP'</span>);
0337         [ICS_B082_PSS201_RSS_TRLY_OP, iICS_B082_PSS201_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B082_PSS201_RSS_TRLY_OP'</span>);
0338         [ICS_B083_PSS101_RSS_TRLY_OP, iICS_B083_PSS101_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B083_PSS101_RSS_TRLY_OP'</span>);
0339         [ICS_B083_PSS201_RSS_TRLY_OP, iICS_B083_PSS201_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B083_PSS201_RSS_TRLY_OP'</span>);
0340         [B090_PSS1_RSS_TRLY_OPN, iB090_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B090_PSS1_RSS_TRLY_OPN'</span>);
0341         [B09_31_PSS1_RSS_TRLY_OPN, iB09_31_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B09_31_PSS1_RSS_TRLY_OPN'</span>);
0342         [B09_3_PSS1_RSS_TRLY_OPN, iB09_3_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B09_3_PSS1_RSS_TRLY_OPN'</span>);
0343         [B10_0_PSS001_RSS_TRLY_OPN, iB10_0_PSS001_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B10_0_PSS001_RSS_TRLY_OPN'</span>);
0344         [B10_31_PSS1_RSS_TRLY_OPN, iB10_31_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B10_31_PSS1_RSS_TRLY_OPN'</span>);
0345         [B110_PSS101_RSS_TRLY_OPN, iB110_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B110_PSS101_RSS_TRLY_OPN'</span>);
0346         [B110_PSS201_RSS_TRLY_OPN, iB110_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B110_PSS201_RSS_TRLY_OPN'</span>);
0347         [BL113_PSS101_RSS_TRLY_OPN, iBL113_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BL113_PSS101_RSS_TRLY_OPN'</span>);
0348         [BL113_PSS201_RSS_TRLY_OPN, iBL113_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BL113_PSS201_RSS_TRLY_OPN'</span>);
0349         [ICS_BL12_0_PSS1_RSS_TRLY_OPN, iICS_BL12_0_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_0_PSS1_RSS_TRLY_OPN'</span>);
0350         [ICS_BL12_2_PSS101_RSS_TRLY_O, iICS_BL12_2_PSS101_RSS_TRLY_O] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_2_PSS101_RSS_TRLY_O'</span>);
0351         [ICS_BL12_2_PSS201_RSS_TRLY_O, iICS_BL12_2_PSS201_RSS_TRLY_O] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_2_PSS201_RSS_TRLY_O'</span>);
0352         [ICS_BL12_3_PSS101_RSS_TRLY_O, iICS_BL12_3_PSS101_RSS_TRLY_O] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_3_PSS101_RSS_TRLY_O'</span>);
0353         [ICS_BL12_3_PSS201_RSS_TRLY_O, iICS_BL12_3_PSS201_RSS_TRLY_O] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_3_PSS201_RSS_TRLY_O'</span>);
0354         [B122_PSS111_OPN, iB122_PSS111_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B122_PSS111_OP'</span>);
0355         [B122_PSS211_OPN, iB122_PSS211_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B122_PSS211_OP'</span>);
0356         [B123_PSS111_OPN, iB123_PSS111_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B123_PSS111_OP'</span>);
0357         [B123_PSS211_OPN, iB123_PSS211_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B123_PSS211_OP'</span>);
0358 
0359         <span class="comment">% time vector</span>
0360         t = [ARt+(day-StartDay)*24*60*60];
0361 
0362 
0363     <span class="keyword">else</span>
0364 
0365         dcct = [dcct ARData(idcct,:)];
0366         lcw  = [lcw  ARData(ilcw,:)];
0367         i_cam = [i_cam ARData(ii_cam,:)];
0368         gev = [gev ARData(igev,:)];
0369         lifetime = [lifetime ARData(ilifetime,:)];
0370 
0371         <span class="comment">% EPU</span>
0372         EPU =[EPU  ARData(iEPU,:)];
0373 
0374         <span class="comment">% ID vertical gap</span>
0375         IDgap = [IDgap  ARData(iIDgap,:)];
0376 
0377         <span class="keyword">if</span> FFFlag
0378             GapEnable = [GapEnable ARData(iGapEnable,:)];
0379             FF7Enable = [FF7Enable ARData(iFF7Enable,:)];
0380         <span class="keyword">end</span>
0381 
0382         TC7_1=[TC7_1 ARData(iTC7_1,:)];
0383         TC7_2=[TC7_2 ARData(iTC7_2,:)];
0384         TC7_3=[TC7_3 ARData(iTC7_3,:)];
0385         TC7_4=[TC7_4 ARData(iTC7_4,:)];
0386 
0387         TC8_1=[TC8_1 ARData(iTC8_1,:)];
0388         TC8_2=[TC8_2 ARData(iTC8_2,:)];
0389         TC8_3=[TC8_3 ARData(iTC8_3,:)];
0390         TC8_4=[TC8_4 ARData(iTC8_4,:)];
0391 
0392         TC9_1=[TC9_1 ARData(iTC9_1,:)];
0393         TC9_2=[TC9_2 ARData(iTC9_2,:)];
0394         TC9_3=[TC9_3 ARData(iTC9_3,:)];
0395         TC9_4=[TC9_4 ARData(iTC9_4,:)];
0396 
0397         TC10_1=[TC10_1 ARData(iTC10_1,:)];
0398         TC10_2=[TC10_2 ARData(iTC10_2,:)];
0399         TC10_3=[TC10_3 ARData(iTC10_3,:)];
0400         TC10_4=[TC10_4 ARData(iTC10_4,:)];
0401 
0402         TC12_1=[TC12_1 ARData(iTC12_1,:)];
0403         TC12_2=[TC12_2 ARData(iTC12_2,:)];
0404         TC12_3=[TC12_3 ARData(iTC12_3,:)];
0405         TC12_4=[TC12_4 ARData(iTC12_4,:)];
0406 
0407         TCSR01=[TCSR01 ARData(iTCSR01,:)];
0408         TCSR02=[TCSR02 ARData(iTCSR02,:)];
0409         TCSR03=[TCSR03 ARData(iTCSR03,:)];
0410         TCSR04=[TCSR04 ARData(iTCSR04,:)];
0411         TCSR05=[TCSR05 ARData(iTCSR05,:)];
0412         TCSR06=[TCSR06 ARData(iTCSR06,:)];
0413         TCSR07=[TCSR07 ARData(iTCSR07,:)];
0414         TCSR08=[TCSR08 ARData(iTCSR08,:)];
0415         TCSR09=[TCSR09 ARData(iTCSR09,:)];
0416         TCSR11=[TCSR11 ARData(iTCSR11,:)];
0417         TCSR12=[TCSR12 ARData(iTCSR12,:)];
0418         TCSRAVG=[TCSRAVG ARData(iTCSRAVG,:)];
0419 
0420         AHUT01=[AHUT01 ARData(iAHUT01,:)];
0421         AHUT03=[AHUT03 ARData(iAHUT03,:)];
0422         AHUT04=[AHUT04 ARData(iAHUT04,:)];
0423         AHUT06=[AHUT06 ARData(iAHUT06,:)];
0424         AHUT07=[AHUT07 ARData(iAHUT07,:)];
0425         AHUT08=[AHUT08 ARData(iAHUT08,:)];
0426         AHUT09=[AHUT09 ARData(iAHUT09,:)];
0427         AHUT11=[AHUT11 ARData(iAHUT11,:)];
0428 
0429         WVSRM=[WVSRM ARData(iWVSRM,:)];
0430 
0431         CWTemp=[CWTemp ARData(iCWTemp,:)];
0432         CWValve=[CWValve ARData(iCWValve,:)];
0433 
0434         RingLCWSupPx=[RingLCWSupPx ARData(iRingLCWSupPx,:)];
0435         RingLCWRetPx=[RingLCWRetPx ARData(iRingLCWRetPx,:)];
0436         LCWSupPx=[LCWSupPx ARData(iLCWSupPx,:)];
0437         LCWRetPx=[LCWRetPx ARData(iLCWRetPx,:)];
0438         LCWSupTemp=[LCWSupTemp ARData(iLCWSupTemp,:)];
0439         LCWRetTemp=[LCWRetTemp ARData(iLCWRetTemp,:)];
0440         WBasinTemp=[WBasinTemp ARData(iWBasinTemp,:)];
0441         EBasinTemp=[EBasinTemp ARData(iEBasinTemp,:)];
0442 
0443         <span class="comment">% All Bergoz BPMs</span>
0444         BPMx = [BPMx ARData(iBPMx,:)];
0445         BPMy = [BPMy ARData(iBPMy,:)];
0446 
0447         ID9BPM1xRMS = [ID9BPM1xRMS ARData(iID9BPM1xRMS,:)];
0448         ID9BPM1yRMS = [ID9BPM1yRMS ARData(iID9BPM1yRMS,:)];
0449         ID9BPM2xRMS = [ID9BPM2xRMS ARData(iID9BPM2xRMS,:)];
0450         ID9BPM2yRMS = [ID9BPM2yRMS ARData(iID9BPM2yRMS,:)];
0451 
0452         C1TEMP=[C1TEMP ARData(iC1TEMP,:)];
0453         C2TEMP=[C2TEMP ARData(iC2TEMP,:)];
0454 
0455         SigX=[SigX ARData(iSigX,:)];
0456         SigY=[SigY ARData(iSigY,:)];
0457 
0458         <span class="keyword">if</span> ~isempty(iSigX31)
0459             SigX31=[SigX31 ARData(iSigX31,:)];
0460         <span class="keyword">else</span>
0461             SigX31 = [SigX31 NaN * ones(1,length(ARt))];
0462         <span class="keyword">end</span>
0463 
0464         <span class="keyword">if</span> ~isempty(iSigY31)
0465             SigY31=[SigY31 ARData(iSigY31,:)];
0466         <span class="keyword">else</span>
0467             SigY31 = [SigY31 NaN * ones(1,length(ARt))];
0468         <span class="keyword">end</span>
0469 
0470         <span class="keyword">if</span> ~isempty(iSigX72)
0471             SigX72=[SigX72 ARData(iSigX72,:)];
0472         <span class="keyword">else</span>
0473             SigX72 = [SigX72 NaN * ones(1,length(ARt))];
0474         <span class="keyword">end</span>
0475 
0476         <span class="keyword">if</span> ~isempty(iSigY72)
0477             SigY72=[SigY72 ARData(iSigY72,:)];
0478         <span class="keyword">else</span>
0479             SigY72 = [SigY72 NaN * ones(1,length(ARt))];
0480         <span class="keyword">end</span>
0481 
0482         SpiroX=[SpiroX ARData(iSpiroX,:)];
0483         SpiroY=[SpiroY ARData(iSpiroY,:)];
0484 
0485         HPcounter=[HPcounter ARData(iHPcounter,:)];
0486         HPsyn=[HPsyn ARData(iHPsyn,:)];
0487         hqmofm=[hqmofm 4.988e3*ARData(ihqmofm,:)];
0488 
0489         QFAam=[QFAam ARData(iQFAam,:)];
0490 
0491         <span class="comment">% BR RF parameters</span>
0492         Power_RF_fwd=[Power_RF_fwd ARData(iPower_RF_fwd,:)];
0493         Power_RF_ref=[Power_RF_ref ARData(iPower_RF_ref,:)];
0494         Power_drive=[Power_drive ARData(iPower_drive,:)];
0495         HV_setpoint=[HV_setpoint ARData(iHV_setpoint,:)];
0496         Beam_volts=[Beam_volts ARData(iBeam_volts,:)];
0497         Beam_current=[Beam_current ARData(iBeam_current,:)];
0498         Bias_volts=[Bias_volts ARData(iBias_volts,:)];
0499         Bias_current=[Bias_current ARData(iBias_current,:)];
0500         Heater_Voltage=[Heater_Voltage ARData(iHeater_Voltage,:)];
0501         Heater_current=[Heater_current ARData(iHeater_current,:)];
0502         Focus_voltage=[Focus_voltage ARData(iFocus_voltage,:)];
0503         Focus_current=[Focus_current ARData(iFocus_current,:)];
0504         VacIon_voltage=[VacIon_voltage ARData(iVacIon_voltage,:)];
0505         VacIon_current=[VacIon_current ARData(iVacIon_current,:)];
0506         Thy_Grid1_volts=[Thy_Grid1_volts ARData(iThy_Grid1_volts,:)];
0507         Thy_Grid2_volts=[Thy_Grid2_volts ARData(iThy_Grid2_volts,:)];
0508         Thy_heater_volts=[Thy_heater_volts ARData(iThy_heater_volts,:)];
0509         Thy_heater_current=[Thy_heater_current ARData(iThy_heater_current,:)];
0510         Body_Current=[Body_Current ARData(iBody_Current,:)];
0511         Temp_HV_enclose=[Temp_HV_enclose ARData(iTemp_HV_enclose,:)];
0512         Temp_IOT_enclose=[Temp_IOT_enclose ARData(iTemp_IOT_enclose,:)];
0513         Temp_IOT_cooling=[Temp_IOT_cooling ARData(iTemp_IOT_cooling,:)];
0514         Temp_ceramic_output=[Temp_ceramic_output ARData(iTemp_ceramic_output,:)];
0515         BR_CLDFWD=[BR_CLDFWD ARData(iBR_CLDFWD,:)];
0516         BR_WGREV=[BR_WGREV ARData(iBR_WGREV,:)];
0517         BR_WGFWD=[BR_WGFWD ARData(iBR_WGFWD,:)];
0518         BR_RFCONT=[BR_RFCONT ARData(iBR_RFCONT,:)];
0519         BR_PHSCON_AM=[BR_PHSCON_AM ARData(iBR_PHSCON_AM,:)];
0520         BR_PHSCON_AC=[BR_PHSCON_AC ARData(iBR_PHSCON_AC,:)];
0521         BR_TUNPOS=[BR_TUNPOS ARData(iBR_TUNPOS,:)];
0522         BR_TUNERR=[BR_TUNERR ARData(iBR_TUNERR,:)];
0523         BR_CAVTMP=[BR_CAVTMP ARData(iBR_CAVTMP,:)];
0524         BR_LCWTMP=[BR_LCWTMP ARData(iBR_LCWTMP,:)];
0525         BR_CLDFLW=[BR_CLDFLW ARData(iBR_CLDFLW,:)];
0526         BR_CIRFLW=[BR_CIRFLW ARData(iBR_CIRFLW,:)];
0527         BR_SLDTMP=[BR_SLDTMP ARData(iBR_SLDTMP,:)];
0528         BR_CIRTMP=[BR_CIRTMP ARData(iBR_CIRTMP,:)];
0529         BR_SLDFLW=[BR_SLDFLW ARData(iBR_SLDFLW,:)];
0530         BR_CLDTMP=[BR_CLDTMP ARData(iBR_CLDTMP,:)];
0531         BR_CAVFLW=[BR_CAVFLW ARData(iBR_CAVFLW,:)];
0532         BR_WINFLW=[BR_WINFLW ARData(iBR_WINFLW,:)];
0533         BR_TUNFLW=[BR_TUNFLW ARData(iBR_TUNFLW,:)];
0534 
0535         <span class="comment">% Beamline shutters</span>
0536         <span class="keyword">if</span> ~isempty(iB021_PSS201_OPN)
0537             B021_PSS201_OPN=[B021_PSS201_OPN ARData(iB021_PSS201_OPN,:)];
0538         <span class="keyword">else</span>
0539             B021_PSS201_OPN = [B021_PSS201_OPN NaN * ones(1,length(ARt))];
0540         <span class="keyword">end</span>
0541         B03_11_PSS1_RSS_TRLY_OPN=[B03_11_PSS1_RSS_TRLY_OPN ARData(iB03_11_PSS1_RSS_TRLY_OPN,:)];
0542         B03_2_PSS101_RSS_TRLY_OPN=[B03_2_PSS101_RSS_TRLY_OPN ARData(iB03_2_PSS101_RSS_TRLY_OPN,:)];
0543         B03_2_PSS201_RSS_TRLY_OPN=[B03_2_PSS201_RSS_TRLY_OPN ARData(iB03_2_PSS201_RSS_TRLY_OPN,:)];
0544         B03_3_PSS101_RSS_TRLY_OPN=[B03_3_PSS101_RSS_TRLY_OPN ARData(iB03_3_PSS101_RSS_TRLY_OPN,:)];
0545         B03_3_PSS201_RSS_TRLY_OPN=[B03_3_PSS201_RSS_TRLY_OPN ARData(iB03_3_PSS201_RSS_TRLY_OPN,:)];
0546         B040_PSS002_RSS_TRLY_OPN=[B040_PSS002_RSS_TRLY_OPN ARData(iB040_PSS002_RSS_TRLY_OPN,:)];
0547         B040_PSS001_RSS_TRLY_OPN=[B040_PSS001_RSS_TRLY_OPN ARData(iB040_PSS001_RSS_TRLY_OPN,:)];
0548         ICS_BL042_PSS101_RSS_TRLY_OP=[ICS_BL042_PSS101_RSS_TRLY_OP ARData(iICS_BL042_PSS101_RSS_TRLY_OP,:)];
0549         ICS_BL042_PSS201_RSS_TRLY_OP=[ICS_BL042_PSS201_RSS_TRLY_OP ARData(iICS_BL042_PSS201_RSS_TRLY_OP,:)];
0550         ICS_BL043_PSS101_RSS_TRLY_OP=[ICS_BL043_PSS101_RSS_TRLY_OP ARData(iICS_BL043_PSS101_RSS_TRLY_OP,:)];
0551         ICS_BL043_PSS201_RSS_TRLY_OP=[ICS_BL043_PSS201_RSS_TRLY_OP ARData(iICS_BL043_PSS201_RSS_TRLY_OP,:)];
0552         B050_PSS001_RSS_TRLY_OPN=[B050_PSS001_RSS_TRLY_OPN ARData(iB050_PSS001_RSS_TRLY_OPN,:)];
0553         B050_PSS101_OPN=[B050_PSS101_OPN ARData(iB050_PSS101_OPN,:)];
0554         B050_PSS201_OPN=[B050_PSS201_OPN ARData(iB050_PSS201_OPN,:)];
0555         B050_PSS301_OPN=[B050_PSS301_OPN ARData(iB050_PSS301_OPN,:)];
0556         B050_PSS111_OPN=[B050_PSS111_OPN ARData(iB050_PSS111_OPN,:)];
0557         B050_PSS211_OPN=[B050_PSS211_OPN ARData(iB050_PSS211_OPN,:)];
0558         B050_PSS311_OPN=[B050_PSS311_OPN ARData(iB050_PSS311_OPN,:)];
0559         B053_PSS101_RSS_TRLY_OPN=[B053_PSS101_RSS_TRLY_OPN ARData(iB053_PSS101_RSS_TRLY_OPN,:)];
0560         B053_PSS201_RSS_TRLY_OPN=[B053_PSS201_RSS_TRLY_OPN ARData(iB053_PSS201_RSS_TRLY_OPN,:)];
0561         B060_PSS101_OPN=[B060_PSS101_OPN ARData(iB060_PSS101_OPN,:)];
0562         B0612_PSS1_OPN=[B0612_PSS1_OPN ARData(iB0612_PSS1_OPN,:)];
0563         B0631_PSS1_OPN=[B0631_PSS1_OPN ARData(iB0631_PSS1_OPN,:)];
0564         B0632_PSS1_OPN=[B0632_PSS1_OPN ARData(iB0632_PSS1_OPN,:)];
0565         B0701_PSS1_RSS_TRLY_OPN=[B0701_PSS1_RSS_TRLY_OPN ARData(iB0701_PSS1_RSS_TRLY_OPN,:)];
0566         B073_PSS1_RSS_TRLY_OPN=[B073_PSS1_RSS_TRLY_OPN ARData(iB073_PSS1_RSS_TRLY_OPN,:)];
0567         B0733_PSS1_OPN=[B0733_PSS1_OPN ARData(iB0733_PSS1_OPN,:)];
0568         ICS_B0801_PSS1_RSS_TRLY_OPN=[ICS_B0801_PSS1_RSS_TRLY_OPN ARData(iICS_B0801_PSS1_RSS_TRLY_OPN,:)];
0569         ICS_B082_PSS101_RSS_TRLY_OP=[ICS_B082_PSS101_RSS_TRLY_OP ARData(iICS_B082_PSS101_RSS_TRLY_OP,:)];
0570         ICS_B082_PSS201_RSS_TRLY_OP=[ICS_B082_PSS201_RSS_TRLY_OP ARData(iICS_B082_PSS201_RSS_TRLY_OP,:)];
0571         ICS_B083_PSS101_RSS_TRLY_OP=[ICS_B083_PSS101_RSS_TRLY_OP ARData(iICS_B083_PSS101_RSS_TRLY_OP,:)];
0572         ICS_B083_PSS201_RSS_TRLY_OP=[ICS_B083_PSS201_RSS_TRLY_OP ARData(iICS_B083_PSS201_RSS_TRLY_OP,:)];
0573         B090_PSS1_RSS_TRLY_OPN=[B090_PSS1_RSS_TRLY_OPN ARData(iB090_PSS1_RSS_TRLY_OPN,:)];
0574         B09_31_PSS1_RSS_TRLY_OPN=[B09_31_PSS1_RSS_TRLY_OPN ARData(iB09_31_PSS1_RSS_TRLY_OPN,:)];
0575         B09_3_PSS1_RSS_TRLY_OPN=[B09_3_PSS1_RSS_TRLY_OPN ARData(iB09_3_PSS1_RSS_TRLY_OPN,:)];
0576         B10_0_PSS001_RSS_TRLY_OPN=[B10_0_PSS001_RSS_TRLY_OPN ARData(iB10_0_PSS001_RSS_TRLY_OPN,:)];
0577         B10_31_PSS1_RSS_TRLY_OPN=[B10_31_PSS1_RSS_TRLY_OPN ARData(iB10_31_PSS1_RSS_TRLY_OPN,:)];
0578         B110_PSS101_RSS_TRLY_OPN=[B110_PSS101_RSS_TRLY_OPN ARData(iB110_PSS101_RSS_TRLY_OPN,:)];
0579         B110_PSS201_RSS_TRLY_OPN=[B110_PSS201_RSS_TRLY_OPN ARData(iB110_PSS201_RSS_TRLY_OPN,:)];
0580         BL113_PSS101_RSS_TRLY_OPN=[BL113_PSS101_RSS_TRLY_OPN ARData(iBL113_PSS101_RSS_TRLY_OPN,:)];
0581         BL113_PSS201_RSS_TRLY_OPN=[BL113_PSS201_RSS_TRLY_OPN ARData(iBL113_PSS201_RSS_TRLY_OPN,:)];
0582         ICS_BL12_0_PSS1_RSS_TRLY_OPN=[ICS_BL12_0_PSS1_RSS_TRLY_OPN ARData(iICS_BL12_0_PSS1_RSS_TRLY_OPN,:)];
0583         ICS_BL12_2_PSS101_RSS_TRLY_O=[ICS_BL12_2_PSS101_RSS_TRLY_O ARData(iICS_BL12_2_PSS101_RSS_TRLY_O,:)];
0584         ICS_BL12_2_PSS201_RSS_TRLY_O=[ICS_BL12_2_PSS201_RSS_TRLY_O ARData(iICS_BL12_2_PSS201_RSS_TRLY_O,:)];
0585         ICS_BL12_3_PSS101_RSS_TRLY_O=[ICS_BL12_3_PSS101_RSS_TRLY_O ARData(iICS_BL12_3_PSS101_RSS_TRLY_O,:)];
0586         ICS_BL12_3_PSS201_RSS_TRLY_O=[ICS_BL12_3_PSS201_RSS_TRLY_O ARData(iICS_BL12_3_PSS201_RSS_TRLY_O,:)];
0587         B122_PSS111_OPN=[B122_PSS111_OPN ARData(iB122_PSS111_OPN,:)];
0588         B122_PSS211_OPN=[B122_PSS211_OPN ARData(iB122_PSS211_OPN,:)];
0589         B123_PSS111_OPN=[B123_PSS111_OPN ARData(iB123_PSS111_OPN,:)];
0590         B123_PSS211_OPN=[B123_PSS211_OPN ARData(iB123_PSS211_OPN,:)];
0591 
0592         <span class="comment">% time vector</span>
0593         t = [t  ARt+(day-StartDay)*24*60*60];
0594 
0595     <span class="keyword">end</span>
0596 
0597     tmp = toc;
0598     ar_functions_time = ar_functions_time + tmp;
0599     fprintf(<span class="string">'One day of arselect = %g s\n'</span>,tmp);
0600     tic;
0601     
0602 <span class="keyword">end</span>
0603 
0604 
0605 <span class="keyword">if</span> ~isempty(days2)
0606 
0607     StartDay = days2(1);
0608     EndDay = days2(length(days2));
0609 
0610     <span class="keyword">for</span> day = days2
0611         year2str = num2str(year2);
0612         <span class="keyword">if</span> year2 &lt; 2000
0613             year2str = year2str(3:4);
0614             FileName = sprintf(<span class="string">'%2s%02d%02d'</span>, year2str, month2, day);
0615         <span class="keyword">else</span>
0616             FileName = sprintf(<span class="string">'%4s%02d%02d'</span>, year2str, month2, day);
0617         <span class="keyword">end</span>
0618         <a href="arread.html" class="code" title="function arread(InputDate, BooleanFlag)">arread</a>(FileName, FFFlag);
0619 
0620 
0621         dcct = [dcct ARData(idcct,:)];
0622         lcw  = [lcw  ARData(ilcw,:)];
0623         i_cam = [i_cam ARData(ii_cam,:)];
0624         gev = [gev ARData(igev,:)];
0625         lifetime = [lifetime ARData(ilifetime,:)];
0626 
0627         <span class="comment">% EPU</span>
0628         EPU =[EPU  ARData(iEPU,:)];
0629 
0630         <span class="comment">% ID vertical gap</span>
0631         IDgap = [IDgap  ARData(iIDgap,:)];
0632 
0633         <span class="keyword">if</span> FFFlag
0634             GapEnable = [GapEnable ARData(iGapEnable,:)];
0635             FF7Enable = [FF7Enable ARData(iFF7Enable,:)];
0636         <span class="keyword">end</span>
0637 
0638         TC7_1=[TC7_1 ARData(iTC7_1,:)];
0639         TC7_2=[TC7_2 ARData(iTC7_2,:)];
0640         TC7_3=[TC7_3 ARData(iTC7_3,:)];
0641         TC7_4=[TC7_4 ARData(iTC7_4,:)];
0642 
0643         TC8_1=[TC8_1 ARData(iTC8_1,:)];
0644         TC8_2=[TC8_2 ARData(iTC8_2,:)];
0645         TC8_3=[TC8_3 ARData(iTC8_3,:)];
0646         TC8_4=[TC8_4 ARData(iTC8_4,:)];
0647 
0648         TC9_1=[TC9_1 ARData(iTC9_1,:)];
0649         TC9_2=[TC9_2 ARData(iTC9_2,:)];
0650         TC9_3=[TC9_3 ARData(iTC9_3,:)];
0651         TC9_4=[TC9_4 ARData(iTC9_4,:)];
0652 
0653         TC10_1=[TC10_1 ARData(iTC10_1,:)];
0654         TC10_2=[TC10_2 ARData(iTC10_2,:)];
0655         TC10_3=[TC10_3 ARData(iTC10_3,:)];
0656         TC10_4=[TC10_4 ARData(iTC10_4,:)];
0657 
0658         TC12_1=[TC12_1 ARData(iTC12_1,:)];
0659         TC12_2=[TC12_2 ARData(iTC12_2,:)];
0660         TC12_3=[TC12_3 ARData(iTC12_3,:)];
0661         TC12_4=[TC12_4 ARData(iTC12_4,:)];
0662 
0663         TCSR01=[TCSR01 ARData(iTCSR01,:)];
0664         TCSR02=[TCSR02 ARData(iTCSR02,:)];
0665         TCSR03=[TCSR03 ARData(iTCSR03,:)];
0666         TCSR04=[TCSR04 ARData(iTCSR04,:)];
0667         TCSR05=[TCSR05 ARData(iTCSR05,:)];
0668         TCSR06=[TCSR06 ARData(iTCSR06,:)];
0669         TCSR07=[TCSR07 ARData(iTCSR07,:)];
0670         TCSR08=[TCSR08 ARData(iTCSR08,:)];
0671         TCSR09=[TCSR09 ARData(iTCSR09,:)];
0672         TCSR11=[TCSR11 ARData(iTCSR11,:)];
0673         TCSR12=[TCSR12 ARData(iTCSR12,:)];
0674         TCSRAVG=[TCSRAVG ARData(iTCSRAVG,:)];
0675 
0676         AHUT01=[AHUT01 ARData(iAHUT01,:)];
0677         AHUT03=[AHUT03 ARData(iAHUT03,:)];
0678         AHUT04=[AHUT04 ARData(iAHUT04,:)];
0679         AHUT06=[AHUT06 ARData(iAHUT06,:)];
0680         AHUT07=[AHUT07 ARData(iAHUT07,:)];
0681         AHUT08=[AHUT08 ARData(iAHUT08,:)];
0682         AHUT09=[AHUT09 ARData(iAHUT09,:)];
0683         AHUT11=[AHUT11 ARData(iAHUT11,:)];
0684 
0685         WVSRM=[WVSRM ARData(iWVSRM,:)];
0686 
0687         CWTemp=[CWTemp ARData(iCWTemp,:)];
0688         CWValve=[CWValve ARData(iCWValve,:)];
0689 
0690         RingLCWSupPx=[RingLCWSupPx ARData(iRingLCWSupPx,:)];
0691         RingLCWRetPx=[RingLCWRetPx ARData(iRingLCWRetPx,:)];
0692         LCWSupPx=[LCWSupPx ARData(iLCWSupPx,:)];
0693         LCWRetPx=[LCWRetPx ARData(iLCWRetPx,:)];
0694         LCWSupTemp=[LCWSupTemp ARData(iLCWSupTemp,:)];
0695         LCWRetTemp=[LCWRetTemp ARData(iLCWRetTemp,:)];
0696         WBasinTemp=[WBasinTemp ARData(iWBasinTemp,:)];
0697         EBasinTemp=[EBasinTemp ARData(iEBasinTemp,:)];
0698 
0699         <span class="comment">% All Bergoz BPMs</span>
0700         BPMx = [BPMx ARData(iBPMx,:)];
0701         BPMy = [BPMy ARData(iBPMy,:)];
0702 
0703         ID9BPM1xRMS = [ID9BPM1xRMS ARData(iID9BPM1xRMS,:)];
0704         ID9BPM1yRMS = [ID9BPM1yRMS ARData(iID9BPM1yRMS,:)];
0705         ID9BPM2xRMS = [ID9BPM2xRMS ARData(iID9BPM2xRMS,:)];
0706         ID9BPM2yRMS = [ID9BPM2yRMS ARData(iID9BPM2yRMS,:)];
0707 
0708         C1TEMP=[C1TEMP ARData(iC1TEMP,:)];
0709         C2TEMP=[C2TEMP ARData(iC2TEMP,:)];
0710 
0711         SigX=[SigX ARData(iSigX,:)];
0712         SigY=[SigY ARData(iSigY,:)];
0713 
0714         <span class="keyword">if</span> ~isempty(iSigX31)
0715             SigX31=[SigX31 ARData(iSigX31,:)];
0716         <span class="keyword">else</span>
0717             SigX31 = [SigX31 NaN * ones(1,length(ARt))];
0718         <span class="keyword">end</span>
0719 
0720         <span class="keyword">if</span> ~isempty(iSigY31)
0721             SigY31=[SigY31 ARData(iSigY31,:)];
0722         <span class="keyword">else</span>
0723             SigY31 = [SigY31 NaN * ones(1,length(ARt))];
0724         <span class="keyword">end</span>
0725 
0726         <span class="keyword">if</span> ~isempty(iSigX72)
0727             SigX72=[SigX72 ARData(iSigX72,:)];
0728         <span class="keyword">else</span>
0729             SigX72 = [SigX72 NaN * ones(1,length(ARt))];
0730         <span class="keyword">end</span>
0731 
0732         <span class="keyword">if</span> ~isempty(iSigY72)
0733             SigY72=[SigY72 ARData(iSigY72,:)];
0734         <span class="keyword">else</span>
0735             SigY72 = [SigY72 NaN * ones(1,length(ARt))];
0736         <span class="keyword">end</span>
0737 
0738         SpiroX=[SpiroX ARData(iSpiroX,:)];
0739         SpiroY=[SpiroY ARData(iSpiroY,:)];
0740 
0741         HPcounter=[HPcounter ARData(iHPcounter,:)];
0742         HPsyn=[HPsyn ARData(iHPsyn,:)];
0743         hqmofm=[hqmofm 4.988e3*ARData(ihqmofm,:)];
0744 
0745         QFAam=[QFAam ARData(iQFAam,:)];
0746 
0747         <span class="comment">% BR RF parameters</span>
0748         Power_RF_fwd=[Power_RF_fwd ARData(iPower_RF_fwd,:)];
0749         Power_RF_ref=[Power_RF_ref ARData(iPower_RF_ref,:)];
0750         Power_drive=[Power_drive ARData(iPower_drive,:)];
0751         HV_setpoint=[HV_setpoint ARData(iHV_setpoint,:)];
0752         Beam_volts=[Beam_volts ARData(iBeam_volts,:)];
0753         Beam_current=[Beam_current ARData(iBeam_current,:)];
0754         Bias_volts=[Bias_volts ARData(iBias_volts,:)];
0755         Bias_current=[Bias_current ARData(iBias_current,:)];
0756         Heater_Voltage=[Heater_Voltage ARData(iHeater_Voltage,:)];
0757         Heater_current=[Heater_current ARData(iHeater_current,:)];
0758         Focus_voltage=[Focus_voltage ARData(iFocus_voltage,:)];
0759         Focus_current=[Focus_current ARData(iFocus_current,:)];
0760         VacIon_voltage=[VacIon_voltage ARData(iVacIon_voltage,:)];
0761         VacIon_current=[VacIon_current ARData(iVacIon_current,:)];
0762         Thy_Grid1_volts=[Thy_Grid1_volts ARData(iThy_Grid1_volts,:)];
0763         Thy_Grid2_volts=[Thy_Grid2_volts ARData(iThy_Grid2_volts,:)];
0764         Thy_heater_volts=[Thy_heater_volts ARData(iThy_heater_volts,:)];
0765         Thy_heater_current=[Thy_heater_current ARData(iThy_heater_current,:)];
0766         Body_Current=[Body_Current ARData(iBody_Current,:)];
0767         Temp_HV_enclose=[Temp_HV_enclose ARData(iTemp_HV_enclose,:)];
0768         Temp_IOT_enclose=[Temp_IOT_enclose ARData(iTemp_IOT_enclose,:)];
0769         Temp_IOT_cooling=[Temp_IOT_cooling ARData(iTemp_IOT_cooling,:)];
0770         Temp_ceramic_output=[Temp_ceramic_output ARData(iTemp_ceramic_output,:)];
0771         BR_CLDFWD=[BR_CLDFWD ARData(iBR_CLDFWD,:)];
0772         BR_WGREV=[BR_WGREV ARData(iBR_WGREV,:)];
0773         BR_WGFWD=[BR_WGFWD ARData(iBR_WGFWD,:)];
0774         BR_RFCONT=[BR_RFCONT ARData(iBR_RFCONT,:)];
0775         BR_PHSCON_AM=[BR_PHSCON_AM ARData(iBR_PHSCON_AM,:)];
0776         BR_PHSCON_AC=[BR_PHSCON_AC ARData(iBR_PHSCON_AC,:)];
0777         BR_TUNPOS=[BR_TUNPOS ARData(iBR_TUNPOS,:)];
0778         BR_TUNERR=[BR_TUNERR ARData(iBR_TUNERR,:)];
0779         BR_CAVTMP=[BR_CAVTMP ARData(iBR_CAVTMP,:)];
0780         BR_LCWTMP=[BR_LCWTMP ARData(iBR_LCWTMP,:)];
0781         BR_CLDFLW=[BR_CLDFLW ARData(iBR_CLDFLW,:)];
0782         BR_CIRFLW=[BR_CIRFLW ARData(iBR_CIRFLW,:)];
0783         BR_SLDTMP=[BR_SLDTMP ARData(iBR_SLDTMP,:)];
0784         BR_CIRTMP=[BR_CIRTMP ARData(iBR_CIRTMP,:)];
0785         BR_SLDFLW=[BR_SLDFLW ARData(iBR_SLDFLW,:)];
0786         BR_CLDTMP=[BR_CLDTMP ARData(iBR_CLDTMP,:)];
0787         BR_CAVFLW=[BR_CAVFLW ARData(iBR_CAVFLW,:)];
0788         BR_WINFLW=[BR_WINFLW ARData(iBR_WINFLW,:)];
0789         BR_TUNFLW=[BR_TUNFLW ARData(iBR_TUNFLW,:)];
0790 
0791         <span class="comment">% Beamline shutters</span>
0792         <span class="keyword">if</span> ~isempty(iB021_PSS201_OPN)
0793             B021_PSS201_OPN=[B021_PSS201_OPN ARData(iB021_PSS201_OPN,:)];
0794         <span class="keyword">else</span>
0795             B021_PSS201_OPN = [B021_PSS201_OPN NaN * ones(1,length(ARt))];
0796         <span class="keyword">end</span>
0797         B03_11_PSS1_RSS_TRLY_OPN=[B03_11_PSS1_RSS_TRLY_OPN ARData(iB03_11_PSS1_RSS_TRLY_OPN,:)];
0798         B03_2_PSS101_RSS_TRLY_OPN=[B03_2_PSS101_RSS_TRLY_OPN ARData(iB03_2_PSS101_RSS_TRLY_OPN,:)];
0799         B03_2_PSS201_RSS_TRLY_OPN=[B03_2_PSS201_RSS_TRLY_OPN ARData(iB03_2_PSS201_RSS_TRLY_OPN,:)];
0800         B03_3_PSS101_RSS_TRLY_OPN=[B03_3_PSS101_RSS_TRLY_OPN ARData(iB03_3_PSS101_RSS_TRLY_OPN,:)];
0801         B03_3_PSS201_RSS_TRLY_OPN=[B03_3_PSS201_RSS_TRLY_OPN ARData(iB03_3_PSS201_RSS_TRLY_OPN,:)];
0802         B040_PSS002_RSS_TRLY_OPN=[B040_PSS002_RSS_TRLY_OPN ARData(iB040_PSS002_RSS_TRLY_OPN,:)];
0803         B040_PSS001_RSS_TRLY_OPN=[B040_PSS001_RSS_TRLY_OPN ARData(iB040_PSS001_RSS_TRLY_OPN,:)];
0804         ICS_BL042_PSS101_RSS_TRLY_OP=[ICS_BL042_PSS101_RSS_TRLY_OP ARData(iICS_BL042_PSS101_RSS_TRLY_OP,:)];
0805         ICS_BL042_PSS201_RSS_TRLY_OP=[ICS_BL042_PSS201_RSS_TRLY_OP ARData(iICS_BL042_PSS201_RSS_TRLY_OP,:)];
0806         ICS_BL043_PSS101_RSS_TRLY_OP=[ICS_BL043_PSS101_RSS_TRLY_OP ARData(iICS_BL043_PSS101_RSS_TRLY_OP,:)];
0807         ICS_BL043_PSS201_RSS_TRLY_OP=[ICS_BL043_PSS201_RSS_TRLY_OP ARData(iICS_BL043_PSS201_RSS_TRLY_OP,:)];
0808         B050_PSS001_RSS_TRLY_OPN=[B050_PSS001_RSS_TRLY_OPN ARData(iB050_PSS001_RSS_TRLY_OPN,:)];
0809         B050_PSS101_OPN=[B050_PSS101_OPN ARData(iB050_PSS101_OPN,:)];
0810         B050_PSS201_OPN=[B050_PSS201_OPN ARData(iB050_PSS201_OPN,:)];
0811         B050_PSS301_OPN=[B050_PSS301_OPN ARData(iB050_PSS301_OPN,:)];
0812         B050_PSS111_OPN=[B050_PSS111_OPN ARData(iB050_PSS111_OPN,:)];
0813         B050_PSS211_OPN=[B050_PSS211_OPN ARData(iB050_PSS211_OPN,:)];
0814         B050_PSS311_OPN=[B050_PSS311_OPN ARData(iB050_PSS311_OPN,:)];
0815         B053_PSS101_RSS_TRLY_OPN=[B053_PSS101_RSS_TRLY_OPN ARData(iB053_PSS101_RSS_TRLY_OPN,:)];
0816         B053_PSS201_RSS_TRLY_OPN=[B053_PSS201_RSS_TRLY_OPN ARData(iB053_PSS201_RSS_TRLY_OPN,:)];
0817         B060_PSS101_OPN=[B060_PSS101_OPN ARData(iB060_PSS101_OPN,:)];
0818         B0612_PSS1_OPN=[B0612_PSS1_OPN ARData(iB0612_PSS1_OPN,:)];
0819         B0631_PSS1_OPN=[B0631_PSS1_OPN ARData(iB0631_PSS1_OPN,:)];
0820         B0632_PSS1_OPN=[B0632_PSS1_OPN ARData(iB0632_PSS1_OPN,:)];
0821         B0701_PSS1_RSS_TRLY_OPN=[B0701_PSS1_RSS_TRLY_OPN ARData(iB0701_PSS1_RSS_TRLY_OPN,:)];
0822         B073_PSS1_RSS_TRLY_OPN=[B073_PSS1_RSS_TRLY_OPN ARData(iB073_PSS1_RSS_TRLY_OPN,:)];
0823         B0733_PSS1_OPN=[B0733_PSS1_OPN ARData(iB0733_PSS1_OPN,:)];
0824         ICS_B0801_PSS1_RSS_TRLY_OPN=[ICS_B0801_PSS1_RSS_TRLY_OPN ARData(iICS_B0801_PSS1_RSS_TRLY_OPN,:)];
0825         ICS_B082_PSS101_RSS_TRLY_OP=[ICS_B082_PSS101_RSS_TRLY_OP ARData(iICS_B082_PSS101_RSS_TRLY_OP,:)];
0826         ICS_B082_PSS201_RSS_TRLY_OP=[ICS_B082_PSS201_RSS_TRLY_OP ARData(iICS_B082_PSS201_RSS_TRLY_OP,:)];
0827         ICS_B083_PSS101_RSS_TRLY_OP=[ICS_B083_PSS101_RSS_TRLY_OP ARData(iICS_B083_PSS101_RSS_TRLY_OP,:)];
0828         ICS_B083_PSS201_RSS_TRLY_OP=[ICS_B083_PSS201_RSS_TRLY_OP ARData(iICS_B083_PSS201_RSS_TRLY_OP,:)];
0829         B090_PSS1_RSS_TRLY_OPN=[B090_PSS1_RSS_TRLY_OPN ARData(iB090_PSS1_RSS_TRLY_OPN,:)];
0830         B09_31_PSS1_RSS_TRLY_OPN=[B09_31_PSS1_RSS_TRLY_OPN ARData(iB09_31_PSS1_RSS_TRLY_OPN,:)];
0831         B09_3_PSS1_RSS_TRLY_OPN=[B09_3_PSS1_RSS_TRLY_OPN ARData(iB09_3_PSS1_RSS_TRLY_OPN,:)];
0832         B10_0_PSS001_RSS_TRLY_OPN=[B10_0_PSS001_RSS_TRLY_OPN ARData(iB10_0_PSS001_RSS_TRLY_OPN,:)];
0833         B10_31_PSS1_RSS_TRLY_OPN=[B10_31_PSS1_RSS_TRLY_OPN ARData(iB10_31_PSS1_RSS_TRLY_OPN,:)];
0834         B110_PSS101_RSS_TRLY_OPN=[B110_PSS101_RSS_TRLY_OPN ARData(iB110_PSS101_RSS_TRLY_OPN,:)];
0835         B110_PSS201_RSS_TRLY_OPN=[B110_PSS201_RSS_TRLY_OPN ARData(iB110_PSS201_RSS_TRLY_OPN,:)];
0836         BL113_PSS101_RSS_TRLY_OPN=[BL113_PSS101_RSS_TRLY_OPN ARData(iBL113_PSS101_RSS_TRLY_OPN,:)];
0837         BL113_PSS201_RSS_TRLY_OPN=[BL113_PSS201_RSS_TRLY_OPN ARData(iBL113_PSS201_RSS_TRLY_OPN,:)];
0838         ICS_BL12_0_PSS1_RSS_TRLY_OPN=[ICS_BL12_0_PSS1_RSS_TRLY_OPN ARData(iICS_BL12_0_PSS1_RSS_TRLY_OPN,:)];
0839         ICS_BL12_2_PSS101_RSS_TRLY_O=[ICS_BL12_2_PSS101_RSS_TRLY_O ARData(iICS_BL12_2_PSS101_RSS_TRLY_O,:)];
0840         ICS_BL12_2_PSS201_RSS_TRLY_O=[ICS_BL12_2_PSS201_RSS_TRLY_O ARData(iICS_BL12_2_PSS201_RSS_TRLY_O,:)];
0841         ICS_BL12_3_PSS101_RSS_TRLY_O=[ICS_BL12_3_PSS101_RSS_TRLY_O ARData(iICS_BL12_3_PSS101_RSS_TRLY_O,:)];
0842         ICS_BL12_3_PSS201_RSS_TRLY_O=[ICS_BL12_3_PSS201_RSS_TRLY_O ARData(iICS_BL12_3_PSS201_RSS_TRLY_O,:)];
0843         B122_PSS111_OPN=[B122_PSS111_OPN ARData(iB122_PSS111_OPN,:)];
0844         B122_PSS211_OPN=[B122_PSS211_OPN ARData(iB122_PSS211_OPN,:)];
0845         B123_PSS111_OPN=[B123_PSS111_OPN ARData(iB123_PSS111_OPN,:)];
0846         B123_PSS211_OPN=[B123_PSS211_OPN ARData(iB123_PSS211_OPN,:)];
0847 
0848         <span class="comment">% time vector</span>
0849 <span class="comment">%       t = [t  ARt+(day-StartDay)*24*60*60];</span>
0850         t = [t  ARt+(day-StartDay+(days(length(days))-days(1)+1))*24*60*60];
0851 
0852     <span class="keyword">end</span>
0853     tmp = toc;
0854     ar_functions_time = ar_functions_time + tmp;
0855     fprintf(<span class="string">'One day of arselect = %g s\n'</span>,tmp);
0856     tic;
0857 <span class="keyword">end</span>
0858 fprintf(<span class="string">'  %.1f seconds to arread and arselect data\n'</span>, ar_functions_time);
0859 
0860 <span class="comment">% condition data</span>
0861 
0862 LCWRetTemp = mean(LCWRetTemp);
0863 
0864 dcct = 100*dcct;
0865 
0866 <span class="comment">% Remove points when current is below 1 mamps</span>
0867 [y, i]=find(dcct&lt;1);
0868 BPMx(:,i) = NaN;
0869 BPMy(:,i) = NaN;
0870 ID9BPM1xRMS(i)=NaN;
0871 ID9BPM1yRMS(i)=NaN;
0872 ID9BPM2xRMS(i)=NaN;
0873 ID9BPM2yRMS(i)=NaN;
0874 <span class="comment">%dcct(i)=NaN*ones(size(i));</span>
0875 <span class="comment">%EPU(:,i)=NaN*ones(2,length(i));</span>
0876 <span class="comment">%IDgap(:,i)=NaN*ones(size(IDgap,1),length(i));</span>
0877 SigX(i)=NaN;
0878 SigY(i)=NaN;
0879 SigX31(i)=NaN;
0880 SigY31(i)=NaN;
0881 SigX72(i)=NaN;
0882 SigY72(i)=NaN;
0883 SpiroX(i)=NaN;
0884 SpiroY(i)=NaN;
0885 gev(i)=NaN;
0886 lifetime(i)=NaN;
0887 HPsyn(i)=NaN;
0888 hqmofm(i)=NaN;
0889 HPcounter(i)=NaN;
0890 
0891 <span class="comment">% Remove points when the current is below .5 mamps for the lifetime calculation</span>
0892 i = find(dcct &lt; .5);
0893 BPMx(:,i) = NaN;
0894 BPMy(:,i) = NaN;
0895 dcct(i) = NaN;
0896 dlogdcct = diff(log(dcct));
0897 lifetime1 = -diff(t/60/60)./(dlogdcct);
0898 i = find(lifetime1 &lt; 0);
0899 lifetime1(i) = NaN;
0900 
0901 i = find(i_cam &lt; .5);
0902 i_cam(i) = NaN;
0903 
0904 <span class="comment">% dlogcam = mean([diff(log(i_cam(1:(end-9))));diff(log(i_cam(2:(end-8)))); ...</span>
0905 <span class="comment">%        diff(log(i_cam(3:(end-7))));diff(log(i_cam(4:(end-6)))); ...</span>
0906 <span class="comment">%        diff(log(i_cam(5:(end-5))));diff(log(i_cam(6:(end-4)))); ...</span>
0907 <span class="comment">%        diff(log(i_cam(7:(end-3))));diff(log(i_cam(8:(end-2)))); ...</span>
0908 <span class="comment">%        diff(log(i_cam(9:(end-1))));diff(log(i_cam(10:end)))],1);</span>
0909 
0910 logcam = log(i_cam);lifetime2=[];
0911 
0912 tic;
0913 <span class="keyword">for</span> loop = 1:(length(logcam)-15)
0914     fitpar = polyfit(t(loop:(loop+15))/60/60,logcam(loop:(loop+15)),1);
0915     stdfit = std(logcam(loop:(loop+15))-polyval(fitpar,t(loop:(loop+15))/60/60));
0916     remindex = find(abs(logcam(loop:(loop+15))-polyval(fitpar,t(loop:(loop+15))/60/60))&gt;2.5*stdfit);
0917     logcam(loop+remindex-1)=NaN;
0918     fitpar = polyfit(t(loop:(loop+15))/60/60,logcam(loop:(loop+15)),1);
0919     lifetime2(loop) = -1/fitpar(1);
0920 <span class="keyword">end</span>
0921 cam_fit_time = toc;
0922 <span class="comment">%fprintf('  %.1f seconds to fit cam bucket lifetime\n', cam_fit_time);</span>
0923 
0924 <span class="comment">% lifetime2 = -(diff(t(1:(end-9)))/60/60)./(dlogcam);</span>
0925 i = find(lifetime2 &lt; 0);
0926 lifetime2(i) = NaN;
0927 
0928 <span class="comment">% Remove points when FF is disabled</span>
0929 <span class="keyword">if</span> FFFlag
0930     [y, i] = find(FF7Enable==0);
0931     BPMx(:,i) = NaN;
0932     BPMy(:,i) = NaN;
0933     ID9BPM1xRMS(i)=NaN;
0934     ID9BPM1yRMS(i)=NaN;
0935     ID9BPM2xRMS(i)=NaN;
0936     ID9BPM2yRMS(i)=NaN;
0937     <span class="comment">%dcct(i)=NaN*ones(size(i));</span>
0938     EPU(:,i)=NaN;
0939     IDgap(:,i)=NaN;
0940     SigX(i)=NaN;
0941     SigY(i)=NaN;
0942     SigX31(i)=NaN;
0943     SigY31(i)=NaN;
0944     SigX72(i)=NaN;
0945     SigY72(i)=NaN;
0946     SpiroX(i)=NaN;
0947     SpiroY(i)=NaN;
0948     gev(i)=NaN;
0949     lifetime(i)=NaN;
0950     HPsyn(i)=NaN;
0951     hqmofm(i)=NaN;
0952     HPcounter(i)=NaN;
0953 <span class="keyword">end</span>
0954 
0955 <span class="comment">% Remove points when the gaps are open</span>
0956 <span class="comment">% j = any([IDgap5;IDgap7;IDgap8;IDgap9;IDgap10;IDgap12] &lt; 80);</span>
0957 <span class="comment">%j = any(IDgap &lt; 80); % was 80 before IVID</span>
0958 j = any(IDgap &lt; 29); <span class="comment">%changed from 37 10-10-05 because we've been running IVID at 30mm pemanently</span>
0959 i = 1:length(t);
0960 i(j) = [];
0961 BPMx(:,i) = NaN;
0962 BPMy(:,i) = NaN;
0963 ID9BPM1xRMS(i)=NaN;
0964 ID9BPM1yRMS(i)=NaN;
0965 ID9BPM2xRMS(i)=NaN;
0966 ID9BPM2yRMS(i)=NaN;
0967 <span class="comment">%dcct(i)=NaN;</span>
0968 EPU(:,i)=NaN;
0969 IDgap(:,i)=NaN;
0970 SigX(i)=NaN;
0971 SigY(i)=NaN;
0972 SigX31(i)=NaN;
0973 SigY31(i)=NaN;
0974 SigX72(i)=NaN;
0975 SigY72(i)=NaN;
0976 SpiroX(i)=NaN;
0977 SpiroY(i)=NaN;
0978 gev(i)=NaN;
0979 lifetime(i)=NaN;
0980 HPsyn(i)=NaN;
0981 hqmofm(i)=NaN;
0982 HPcounter(i)=NaN;
0983 
0984 <span class="comment">% Remove points after a NaN (based on BPMx, which is filtered to NaN during fills...)</span>
0985 [y, i]=find(isnan(BPMx(1,:)));
0986 i = i + 1;
0987 <span class="keyword">if</span> ~isempty(i)
0988     <span class="keyword">if</span> i(end) &gt; size(BPMx,2)
0989         i = i(1:end-1);
0990     <span class="keyword">end</span>
0991 <span class="keyword">end</span>
0992 BPMx(:,i) = NaN;
0993 BPMy(:,i) = NaN;
0994 ID9BPM1xRMS(i)=NaN;
0995 ID9BPM1yRMS(i)=NaN;
0996 ID9BPM2xRMS(i)=NaN;
0997 ID9BPM2yRMS(i)=NaN;
0998 <span class="comment">%dcct(i)=NaN*ones(size(i));</span>
0999 <span class="comment">%EPU(:,i)=NaN*ones(2,length(i));</span>
1000 <span class="comment">%IDgap(:,i)=NaN*ones(size(IDgap,1),length(i));</span>
1001 SigX(i)=NaN;
1002 SigY(i)=NaN;
1003 SigX31(i)=NaN;
1004 SigY31(i)=NaN;
1005 SigX72(i)=NaN;
1006 SigY72(i)=NaN;
1007 SpiroX(i)=NaN;
1008 SpiroY(i)=NaN;
1009 gev(i)=NaN;
1010 lifetime(i)=NaN;
1011 HPsyn(i)=NaN;
1012 hqmofm(i)=NaN;
1013 HPcounter(i)=NaN;
1014 
1015 <span class="comment">% Remove points before a NaN (based on BPMx, which is filtered to NaN during fills...)</span>
1016 i = i - 2;
1017 <span class="keyword">if</span> ~isempty(i)
1018     <span class="keyword">if</span> i(1) &lt; 1
1019         i = i(2:end);
1020     <span class="keyword">end</span>
1021 <span class="keyword">end</span>
1022 BPMx(:,i) = NaN;
1023 BPMy(:,i) = NaN;
1024 ID9BPM1xRMS(i)=NaN;
1025 ID9BPM1yRMS(i)=NaN;
1026 ID9BPM2xRMS(i)=NaN;
1027 ID9BPM2yRMS(i)=NaN;
1028 <span class="comment">%dcct(i)=NaN*ones(size(i));</span>
1029 <span class="comment">%EPU(:,i)=NaN*ones(2,length(i));</span>
1030 <span class="comment">%IDgap(:,i)=NaN*ones(size(IDgap,1),length(i));</span>
1031 SigX(i)=NaN;
1032 SigY(i)=NaN;
1033 SigX31(i)=NaN;
1034 SigY31(i)=NaN;
1035 SigX72(i)=NaN;
1036 SigY72(i)=NaN;
1037 SpiroX(i)=NaN;
1038 SpiroY(i)=NaN;
1039 gev(i)=NaN;
1040 lifetime(i)=NaN;
1041 HPsyn(i)=NaN;
1042 hqmofm(i)=NaN;
1043 HPcounter(i)=NaN;
1044 
1045 <span class="comment">% remove HPCounter errant data</span>
1046 [y, i]=find(HPcounter&lt;400);
1047 HPcounter(i)=NaN;
1048 
1049 <span class="comment">% remove when T&gt;55 (this usually indicates work on system - trip is at 33)</span>
1050 [y, i]=find(TC7_1&gt;55 | TC7_2&gt;55 | TC7_3&gt;55 | TC7_4&gt;55 | TC8_1&gt;55 | TC8_2&gt;55 | TC8_3&gt;55 | TC8_4&gt;55 | TC9_1&gt;55 | TC9_2&gt;55 | TC9_3&gt;55 | TC9_4&gt;55 | TC10_1&gt;55 | TC10_2&gt;55 | TC10_3&gt;55 | TC10_4&gt;55 | TC12_1&gt;55 | TC12_2&gt;55 | TC12_3&gt;55 | TC12_4&gt;55);
1051 TC7_1(i)=NaN;
1052 TC7_2(i)=NaN;
1053 TC7_3(i)=NaN;
1054 TC7_4(i)=NaN;
1055 TC8_1(i)=NaN;
1056 TC8_2(i)=NaN;
1057 TC8_3(i)=NaN;
1058 TC8_4(i)=NaN;
1059 TC9_1(i)=NaN;
1060 TC9_2(i)=NaN;
1061 TC9_3(i)=NaN;
1062 TC9_4(i)=NaN;
1063 TC10_1(i)=NaN;
1064 TC10_2(i)=NaN;
1065 TC10_3(i)=NaN;
1066 TC10_4(i)=NaN;
1067 TC12_1(i)=NaN;
1068 TC12_2(i)=NaN;
1069 TC12_3(i)=NaN;
1070 TC12_4(i)=NaN;
1071 
1072 <span class="comment">% remove points around zero temperture readings (these happen during facilities backups)</span>
1073 [y, i]=find(TCSR01&lt;5 | TCSR02&lt;5 | TCSR03&lt;5 | TCSR04&lt;5| TCSR06&lt;5 | TCSR07&lt;5 | TCSR08&lt;5 | TCSR09&lt;5 | TCSR11&lt;5 | TCSR12&lt;5 | TCSRAVG&lt;5);
1074 TCSR01(i)=NaN;
1075 TCSR02(i)=NaN;
1076 TCSR03(i)=NaN;
1077 TCSR04(i)=NaN;
1078 TCSR05(i)=NaN;
1079 TCSR06(i)=NaN;
1080 TCSR07(i)=NaN;
1081 TCSR08(i)=NaN;
1082 TCSR09(i)=NaN;
1083 TCSR11(i)=NaN;
1084 TCSR12(i)=NaN;
1085 TCSRAVG(i)=NaN;
1086 AHUT01(i)=NaN;
1087 AHUT03(i)=NaN;
1088 AHUT04(i)=NaN;
1089 AHUT06(i)=NaN;
1090 AHUT07(i)=NaN;
1091 AHUT08(i)=NaN;
1092 AHUT09(i)=NaN;
1093 AHUT11(i)=NaN;
1094 WVSRM(i)=NaN;
1095 CWTemp(i)=NaN;
1096 CWValve(i)=NaN;
1097 
1098 <span class="comment">%[y, i]=find(LCWSupPx&lt;5 | LCWRetPx &lt;5 | LCWSupTemp&lt;5 | LCWRetTemp&lt;5 | WBasinTemp&lt;5 | EBasinTemp&lt;5 | CWTemp &lt; 5);</span>
1099 <span class="comment">%next line temporary filter until facilities channels are fixed - 2004-03-23 T.Scarvie</span>
1100 [y, i]=find(LCWSupPx&lt;5 | LCWRetPx &lt;5 | LCWRetTemp&lt;5 | CWTemp &lt; 5);
1101 LCWSupPx(i)=NaN;  <span class="comment">% PSI</span>
1102 LCWRetPx(i)=NaN;
1103 LCWSupTemp(i)=NaN;
1104 LCWRetTemp(i)=NaN;
1105 WBasinTemp(i)=NaN;
1106 EBasinTemp(i)=NaN;
1107 CWTemp(i)=NaN;
1108 
1109 <span class="comment">% Convert to celcius</span>
1110 LCWSupTemp = (LCWSupTemp-32)*5/9;
1111 LCWRetTemp = (LCWRetTemp-32)*5/9;
1112 WBasinTemp = (WBasinTemp-32)*5/9;
1113 EBasinTemp = (EBasinTemp-32)*5/9;
1114 CWTemp     = (CWTemp-32)*5/9;
1115 
1116 <span class="comment">% Subtract known amount (golden orbit)</span>
1117 BPMx = BPMx-getgolden(<span class="string">'BPMx'</span>, BPMlist)*ones(1,size(BPMx,2));
1118 BPMy = BPMy-getgolden(<span class="string">'BPMy'</span>, BPMlist)*ones(1,size(BPMy,2));
1119 
1120 <span class="comment">% Find the tune shift due to insertion devices</span>
1121 TuneShift = zeros(size(IDgap(1,:)));
1122 i = find(IDlist(:,1) == 5);              <span class="comment">% remove sector 5</span>
1123 IDlist(i,:) = [];
1124 <span class="keyword">for</span> i = 1:size(IDlist,1)
1125     TuneShift = TuneShift + <a href="gap2tune.html" class="code" title="function [Dnuy, Beff, Bmax, Lambda, IDLength, B10, B30, B50] = gap2tune(Sector, Gap, GeV, FitFlag)">gap2tune</a>(IDlist(i,:), IDgap(i,:), gev);
1126 <span class="keyword">end</span>
1127 
1128 <span class="comment">% Hours or days for the x-axis?</span>
1129 <span class="keyword">if</span> t(end)/60/60/24 &gt; 3
1130     t = t/60/60/24;
1131     xlabelstring = [<span class="string">'Date since '</span>, StartDayStr, <span class="string">' [Days]'</span>];
1132     DayFlag = 1;
1133 <span class="keyword">else</span>
1134     t = t/60/60;
1135     xlabelstring = [<span class="string">'Time since '</span>, StartDayStr, <span class="string">' [Hours]'</span>];
1136     DayFlag = 0;
1137 <span class="keyword">end</span>
1138 Days = [days days2];
1139 xmax = max(t);
1140 
1141 <span class="comment">% change data to NaN for plotting if archiver has stalled for more than 12minutes</span>
1142 StalledArchFlag = [];
1143 <span class="keyword">for</span> loop = 1:size(t,2)-1
1144     StalledArchFlag(loop) = (t(loop+1)-t(loop)&gt;0.2);
1145 <span class="keyword">end</span>
1146 SANum = find(StalledArchFlag==1)+1;
1147 dcct(SANum)=NaN;
1148 TC7_1(SANum)=NaN;
1149 TC7_2(SANum)=NaN;
1150 TC7_3(SANum)=NaN;
1151 TC7_4(SANum)=NaN;
1152 TC8_1(SANum)=NaN;
1153 TC8_2(SANum)=NaN;
1154 TC8_3(SANum)=NaN;
1155 TC8_4(SANum)=NaN;
1156 TC9_1(SANum)=NaN;
1157 TC9_2(SANum)=NaN;
1158 TC9_3(SANum)=NaN;
1159 TC9_4(SANum)=NaN;
1160 TC10_1(SANum)=NaN;
1161 TC10_2(SANum)=NaN;
1162 TC10_3(SANum)=NaN;
1163 TC10_4(SANum)=NaN;
1164 TC12_1(SANum)=NaN;
1165 TC12_2(SANum)=NaN;
1166 TC12_3(SANum)=NaN;
1167 TC12_4(SANum)=NaN;
1168 TCSR01(SANum)=NaN;
1169 TCSR02(SANum)=NaN;
1170 TCSR03(SANum)=NaN;
1171 TCSR04(SANum)=NaN;
1172 TCSR05(SANum)=NaN;
1173 TCSR06(SANum)=NaN;
1174 TCSR07(SANum)=NaN;
1175 TCSR08(SANum)=NaN;
1176 TCSR09(SANum)=NaN;
1177 TCSR11(SANum)=NaN;
1178 TCSR12(SANum)=NaN;
1179 TCSRAVG(SANum)=NaN;
1180 AHUT01(SANum)=NaN;
1181 AHUT03(SANum)=NaN;
1182 AHUT04(SANum)=NaN;
1183 AHUT06(SANum)=NaN;
1184 AHUT07(SANum)=NaN;
1185 AHUT08(SANum)=NaN;
1186 AHUT09(SANum)=NaN;
1187 AHUT11(SANum)=NaN;
1188 WVSRM(SANum)=NaN;
1189 CWTemp(SANum)=NaN;
1190 CWValve(SANum)=NaN;
1191 LCWSupPx(SANum)=NaN;
1192 LCWRetPx(SANum)=NaN;
1193 RingLCWSupPx(SANum)=NaN;
1194 RingLCWRetPx(SANum)=NaN;
1195 LCWSupTemp(SANum)=NaN;
1196 LCWRetTemp(SANum)=NaN;
1197 WBasinTemp(SANum)=NaN;
1198 EBasinTemp(SANum)=NaN;
1199 CWTemp(i)=NaN;
1200 C1TEMP(SANum)=NaN;
1201 C2TEMP(SANum)=NaN;
1202 lcw(SANum)=NaN;
1203 Power_RF_fwd(SANum)=NaN;
1204 Power_RF_ref(SANum)=NaN;
1205 Power_drive(SANum)=NaN;
1206 HV_setpoint(SANum)=NaN;
1207 Beam_volts(SANum)=NaN;
1208 Beam_current(SANum)=NaN;
1209 Bias_volts(SANum)=NaN;
1210 Bias_current(SANum)=NaN;
1211 Heater_Voltage(SANum)=NaN;
1212 Heater_current(SANum)=NaN;
1213 Focus_voltage(SANum)=NaN;
1214 Focus_current(SANum)=NaN;
1215 VacIon_voltage(SANum)=NaN;
1216 VacIon_current(SANum)=NaN;
1217 Thy_Grid1_volts(SANum)=NaN;
1218 Thy_Grid2_volts(SANum)=NaN;
1219 Thy_heater_volts(SANum)=NaN;
1220 Thy_heater_current(SANum)=NaN;
1221 Body_Current(SANum)=NaN;
1222 Temp_HV_enclose(SANum)=NaN;
1223 Temp_IOT_enclose(SANum)=NaN;
1224 Temp_IOT_cooling(SANum)=NaN;
1225 Temp_ceramic_output(SANum)=NaN;
1226 BR_CLDFWD(SANum)=NaN;
1227 BR_WGREV(SANum)=NaN;
1228 BR_WGFWD(SANum)=NaN;
1229 BR_RFCONT(SANum)=NaN;
1230 BR_PHSCON_AM(SANum)=NaN;
1231 BR_PHSCON_AC(SANum)=NaN;
1232 BR_TUNPOS(SANum)=NaN;
1233 BR_TUNERR(SANum)=NaN;
1234 BR_CAVTMP(SANum)=NaN;
1235 BR_LCWTMP(SANum)=NaN;
1236 BR_CLDFLW(SANum)=NaN;
1237 BR_CIRFLW(SANum)=NaN;
1238 BR_SLDTMP(SANum)=NaN;
1239 BR_CIRTMP(SANum)=NaN;
1240 BR_SLDFLW(SANum)=NaN;
1241 BR_CLDTMP(SANum)=NaN;
1242 BR_CAVFLW(SANum)=NaN;
1243 BR_WINFLW(SANum)=NaN;
1244 BR_TUNFLW(SANum)=NaN;
1245 
1246 <span class="comment">% Remove zero sigmas</span>
1247 SigX(find(SigX==0)) = NaN;
1248 SigY(find(SigY==0)) = NaN;
1249 
1250 <span class="comment">% Remove unrealistic data</span>
1251 LCWSupTemp(find(LCWSupTemp&lt;15)) = NaN;
1252 LCWRetTemp(find(LCWRetTemp&lt;15)) = NaN;
1253 WBasinTemp(find(WBasinTemp&lt;15)) = NaN;
1254 EBasinTemp(find(EBasinTemp&lt;15)) = NaN;
1255 
1256 <span class="comment">% filter BL shutters: change NaN's to zeros (NaN + number is always NaN)</span>
1257 B021_PSS201_OPN(:,find(isnan(B021_PSS201_OPN)))=0;
1258 B021_PSS201_OPN(:,find(B021_PSS201_OPN&gt;1))=0;
1259 B03_11_PSS1_RSS_TRLY_OPN(:,find(isnan(B03_11_PSS1_RSS_TRLY_OPN)))=0;
1260 B03_11_PSS1_RSS_TRLY_OPN(:,find(B03_11_PSS1_RSS_TRLY_OPN&gt;1))=0;
1261 B03_2_PSS101_RSS_TRLY_OPN(:,find(isnan(B03_2_PSS101_RSS_TRLY_OPN)))=0;
1262 B03_2_PSS101_RSS_TRLY_OPN(:,find(B03_2_PSS101_RSS_TRLY_OPN&gt;1))=0;
1263 B03_2_PSS201_RSS_TRLY_OPN(:,find(isnan(B03_2_PSS201_RSS_TRLY_OPN)))=0;
1264 B03_2_PSS201_RSS_TRLY_OPN(:,find(B03_2_PSS201_RSS_TRLY_OPN&gt;1))=0;
1265 B03_3_PSS101_RSS_TRLY_OPN(:,find(isnan(B03_3_PSS101_RSS_TRLY_OPN)))=0;
1266 B03_3_PSS101_RSS_TRLY_OPN(:,find(B03_3_PSS101_RSS_TRLY_OPN&gt;1))=0;
1267 B03_3_PSS201_RSS_TRLY_OPN(:,find(isnan(B03_3_PSS201_RSS_TRLY_OPN)))=0;
1268 B03_3_PSS201_RSS_TRLY_OPN(:,find(B03_3_PSS201_RSS_TRLY_OPN&gt;1))=0;
1269 B040_PSS002_RSS_TRLY_OPN(:,find(isnan(B040_PSS002_RSS_TRLY_OPN)))=0;
1270 B040_PSS002_RSS_TRLY_OPN(:,find(B040_PSS002_RSS_TRLY_OPN&gt;1))=0;
1271 B040_PSS001_RSS_TRLY_OPN(:,find(isnan(B040_PSS001_RSS_TRLY_OPN)))=0;
1272 B040_PSS001_RSS_TRLY_OPN(:,find(B040_PSS001_RSS_TRLY_OPN&gt;1))=0;
1273 ICS_BL042_PSS101_RSS_TRLY_OP(:,find(isnan(ICS_BL042_PSS101_RSS_TRLY_OP)))=0;
1274 ICS_BL042_PSS101_RSS_TRLY_OP(:,find(ICS_BL042_PSS101_RSS_TRLY_OP&gt;1))=0;
1275 ICS_BL042_PSS201_RSS_TRLY_OP(:,find(isnan(ICS_BL042_PSS201_RSS_TRLY_OP)))=0;
1276 ICS_BL042_PSS201_RSS_TRLY_OP(:,find(ICS_BL042_PSS201_RSS_TRLY_OP&gt;1))=0;
1277 ICS_BL043_PSS101_RSS_TRLY_OP(:,find(isnan(ICS_BL043_PSS101_RSS_TRLY_OP)))=0;
1278 ICS_BL043_PSS101_RSS_TRLY_OP(:,find(ICS_BL043_PSS101_RSS_TRLY_OP&gt;1))=0;
1279 ICS_BL043_PSS201_RSS_TRLY_OP(:,find(isnan(ICS_BL043_PSS201_RSS_TRLY_OP)))=0;
1280 ICS_BL043_PSS201_RSS_TRLY_OP(:,find(ICS_BL043_PSS201_RSS_TRLY_OP&gt;1))=0;
1281 B050_PSS001_RSS_TRLY_OPN(:,find(isnan(B050_PSS001_RSS_TRLY_OPN)))=0;
1282 B050_PSS001_RSS_TRLY_OPN(:,find(B050_PSS001_RSS_TRLY_OPN&gt;1))=0;
1283 B050_PSS101_OPN(:,find(isnan(B050_PSS101_OPN)))=0;
1284 B050_PSS101_OPN(:,find(B050_PSS101_OPN&gt;1))=0;
1285 B050_PSS201_OPN(:,find(isnan(B050_PSS201_OPN)))=0;
1286 B050_PSS201_OPN(:,find(B050_PSS201_OPN&gt;1))=0;
1287 B050_PSS301_OPN(:,find(isnan(B050_PSS301_OPN)))=0;
1288 B050_PSS301_OPN(:,find(B050_PSS301_OPN&gt;1))=0;
1289 B050_PSS111_OPN(:,find(isnan(B050_PSS111_OPN)))=0;
1290 B050_PSS111_OPN(:,find(B050_PSS111_OPN&gt;1))=0;
1291 B050_PSS211_OPN(:,find(isnan(B050_PSS211_OPN)))=0;
1292 B050_PSS211_OPN(:,find(B050_PSS211_OPN&gt;1))=0;
1293 B050_PSS311_OPN(:,find(isnan(B050_PSS311_OPN)))=0;
1294 B050_PSS311_OPN(:,find(B050_PSS311_OPN&gt;1))=0;
1295 B053_PSS101_RSS_TRLY_OPN(:,find(isnan(B053_PSS101_RSS_TRLY_OPN)))=0;
1296 B053_PSS101_RSS_TRLY_OPN(:,find(B053_PSS101_RSS_TRLY_OPN&gt;1))=0;
1297 B053_PSS201_RSS_TRLY_OPN(:,find(isnan(B053_PSS201_RSS_TRLY_OPN)))=0;
1298 B053_PSS201_RSS_TRLY_OPN(:,find(B053_PSS201_RSS_TRLY_OPN&gt;1))=0;
1299 B060_PSS101_OPN(:,find(isnan(B060_PSS101_OPN)))=0;
1300 B060_PSS101_OPN(:,find(B060_PSS101_OPN&gt;1))=0;
1301 B0612_PSS1_OPN(:,find(isnan(B0612_PSS1_OPN)))=0;
1302 B0612_PSS1_OPN(:,find(B0612_PSS1_OPN&gt;1))=0;
1303 B0631_PSS1_OPN(:,find(isnan(B0631_PSS1_OPN)))=0;
1304 B0631_PSS1_OPN(:,find(B0631_PSS1_OPN&gt;1))=0;
1305 B0632_PSS1_OPN(:,find(isnan(B0632_PSS1_OPN)))=0;
1306 B0632_PSS1_OPN(:,find(B0632_PSS1_OPN&gt;1))=0;
1307 B0701_PSS1_RSS_TRLY_OPN(:,find(isnan(B0701_PSS1_RSS_TRLY_OPN)))=0;
1308 B0701_PSS1_RSS_TRLY_OPN(:,find(B0701_PSS1_RSS_TRLY_OPN&gt;1))=0;
1309 B073_PSS1_RSS_TRLY_OPN(:,find(isnan(B073_PSS1_RSS_TRLY_OPN)))=0;
1310 B073_PSS1_RSS_TRLY_OPN(:,find(B073_PSS1_RSS_TRLY_OPN&gt;1))=0;
1311 B0733_PSS1_OPN(:,find(isnan(B0733_PSS1_OPN)))=0;
1312 B0733_PSS1_OPN(:,find(B0733_PSS1_OPN&gt;1))=0;
1313 ICS_B0801_PSS1_RSS_TRLY_OPN(:,find(isnan(ICS_B0801_PSS1_RSS_TRLY_OPN)))=0;
1314 ICS_B0801_PSS1_RSS_TRLY_OPN(:,find(ICS_B0801_PSS1_RSS_TRLY_OPN&gt;1))=0;
1315 ICS_B082_PSS101_RSS_TRLY_OP(:,find(isnan(ICS_B082_PSS101_RSS_TRLY_OP)))=0;
1316 ICS_B082_PSS101_RSS_TRLY_OP(:,find(ICS_B082_PSS101_RSS_TRLY_OP&gt;1))=0;
1317 ICS_B082_PSS201_RSS_TRLY_OP(:,find(isnan(ICS_B082_PSS201_RSS_TRLY_OP)))=0;
1318 ICS_B082_PSS201_RSS_TRLY_OP(:,find(ICS_B082_PSS201_RSS_TRLY_OP&gt;1))=0;
1319 ICS_B083_PSS101_RSS_TRLY_OP(:,find(isnan(ICS_B083_PSS101_RSS_TRLY_OP)))=0;
1320 ICS_B083_PSS101_RSS_TRLY_OP(:,find(ICS_B083_PSS101_RSS_TRLY_OP&gt;1))=0;
1321 ICS_B083_PSS201_RSS_TRLY_OP(:,find(isnan(ICS_B083_PSS201_RSS_TRLY_OP)))=0;
1322 ICS_B083_PSS201_RSS_TRLY_OP(:,find(ICS_B083_PSS201_RSS_TRLY_OP&gt;1))=0;
1323 <span class="comment">%B082_PSS111_OPN(:,find(isnan(B082_PSS111_OPN)))=0;</span>
1324 <span class="comment">%B082_PSS111_OPNfindnan(&gt;1B082_PSS111_OPN))=0;</span>
1325 <span class="comment">%B082_PSS211_OPN(:,find(isnan(B082_PSS211_OPN)))=0;</span>
1326 <span class="comment">%B082_PSS211_OPNfindnan(&gt;1B082_PSS211_OPN))=0;</span>
1327 <span class="comment">%B083_PSS111_OPN(:,find(isnan(B083_PSS111_OPN)))=0;</span>
1328 <span class="comment">%B083_PSS111_OPNfindnan(&gt;1B083_PSS111_OPN))=0;</span>
1329 B090_PSS1_RSS_TRLY_OPN(:,find(isnan(B090_PSS1_RSS_TRLY_OPN)))=0;
1330 B090_PSS1_RSS_TRLY_OPN(:,find(B090_PSS1_RSS_TRLY_OPN&gt;1))=0;
1331 B09_31_PSS1_RSS_TRLY_OPN(:,find(isnan(B09_31_PSS1_RSS_TRLY_OPN)))=0;
1332 B09_31_PSS1_RSS_TRLY_OPN(:,find(B09_31_PSS1_RSS_TRLY_OPN&gt;1))=0;
1333 B09_3_PSS1_RSS_TRLY_OPN(:,find(isnan(B09_3_PSS1_RSS_TRLY_OPN)))=0;
1334 B09_3_PSS1_RSS_TRLY_OPN(:,find(B09_3_PSS1_RSS_TRLY_OPN&gt;1))=0;
1335 B10_0_PSS001_RSS_TRLY_OPN(:,find(isnan(B10_0_PSS001_RSS_TRLY_OPN)))=0;
1336 B10_0_PSS001_RSS_TRLY_OPN(:,find(B10_0_PSS001_RSS_TRLY_OPN&gt;1))=0;
1337 B10_31_PSS1_RSS_TRLY_OPN(:,find(isnan(B10_31_PSS1_RSS_TRLY_OPN)))=0;
1338 B10_31_PSS1_RSS_TRLY_OPN(:,find(B10_31_PSS1_RSS_TRLY_OPN&gt;1))=0;
1339 B10_31_PSS1_RSS_TRLY_OPN(:,find(isnan(B10_31_PSS1_RSS_TRLY_OPN)))=0;
1340 B10_31_PSS1_RSS_TRLY_OPN(:,find(B10_31_PSS1_RSS_TRLY_OPN&gt;1))=0;
1341 B110_PSS101_RSS_TRLY_OPN(:,find(isnan(B110_PSS101_RSS_TRLY_OPN)))=0;
1342 B110_PSS101_RSS_TRLY_OPN(:,find(B110_PSS101_RSS_TRLY_OPN&gt;1))=0;
1343 B110_PSS201_RSS_TRLY_OPN(:,find(isnan(B110_PSS201_RSS_TRLY_OPN)))=0;
1344 B110_PSS201_RSS_TRLY_OPN(:,find(B110_PSS201_RSS_TRLY_OPN&gt;1))=0;
1345 BL113_PSS101_RSS_TRLY_OPN(:,find(isnan(BL113_PSS101_RSS_TRLY_OPN)))=0;
1346 BL113_PSS101_RSS_TRLY_OPN(:,find(BL113_PSS101_RSS_TRLY_OPN&gt;1))=0;
1347 BL113_PSS201_RSS_TRLY_OPN(:,find(isnan(BL113_PSS201_RSS_TRLY_OPN)))=0;
1348 BL113_PSS201_RSS_TRLY_OPN(:,find(BL113_PSS201_RSS_TRLY_OPN&gt;1))=0;
1349 ICS_BL12_0_PSS1_RSS_TRLY_OPN(:,find(isnan(ICS_BL12_0_PSS1_RSS_TRLY_OPN)))=0;
1350 ICS_BL12_0_PSS1_RSS_TRLY_OPN(:,find(ICS_BL12_0_PSS1_RSS_TRLY_OPN&gt;1))=0;
1351 ICS_BL12_2_PSS101_RSS_TRLY_O(:,find(isnan(ICS_BL12_2_PSS101_RSS_TRLY_O)))=0;
1352 ICS_BL12_2_PSS101_RSS_TRLY_O(:,find(ICS_BL12_2_PSS101_RSS_TRLY_O&gt;1))=0;
1353 ICS_BL12_2_PSS201_RSS_TRLY_O(:,find(isnan(ICS_BL12_2_PSS201_RSS_TRLY_O)))=0;
1354 ICS_BL12_2_PSS201_RSS_TRLY_O(:,find(ICS_BL12_2_PSS201_RSS_TRLY_O&gt;1))=0;
1355 ICS_BL12_3_PSS101_RSS_TRLY_O(:,find(isnan(ICS_BL12_3_PSS101_RSS_TRLY_O)))=0;
1356 ICS_BL12_3_PSS101_RSS_TRLY_O(:,find(ICS_BL12_3_PSS101_RSS_TRLY_O&gt;1))=0;
1357 ICS_BL12_3_PSS201_RSS_TRLY_O(:,find(isnan(ICS_BL12_3_PSS201_RSS_TRLY_O)))=0;
1358 ICS_BL12_3_PSS201_RSS_TRLY_O(:,find(ICS_BL12_3_PSS201_RSS_TRLY_O&gt;1))=0;
1359 B122_PSS111_OPN(:,find(isnan(B122_PSS111_OPN)))=0;
1360 B122_PSS111_OPN(:,find(B122_PSS111_OPN&gt;1))=0;
1361 B122_PSS211_OPN(:,find(isnan(B122_PSS211_OPN)))=0;
1362 B122_PSS211_OPN(:,find(B122_PSS211_OPN&gt;1))=0;
1363 B123_PSS111_OPN(:,find(isnan(B123_PSS111_OPN)))=0;
1364 B123_PSS111_OPN(:,find(B123_PSS111_OPN&gt;1))=0;
1365 B123_PSS211_OPN(:,find(isnan(B123_PSS211_OPN)))=0;
1366 B123_PSS211_OPN(:,find(B123_PSS211_OPN&gt;1))=0;
1367 
1368 <span class="comment">% sum together beamline shutter states</span>
1369 BL_SHUTTERS = [B021_PSS201_OPN + B03_11_PSS1_RSS_TRLY_OPN + B03_2_PSS101_RSS_TRLY_OPN + B03_2_PSS201_RSS_TRLY_OPN + B03_3_PSS101_RSS_TRLY_OPN + B03_3_PSS201_RSS_TRLY_OPN + B040_PSS002_RSS_TRLY_OPN + B040_PSS001_RSS_TRLY_OPN + ICS_BL042_PSS101_RSS_TRLY_OP + ICS_BL042_PSS201_RSS_TRLY_OP + ICS_BL043_PSS101_RSS_TRLY_OP + ICS_BL043_PSS201_RSS_TRLY_OP + B050_PSS001_RSS_TRLY_OPN + B050_PSS101_OPN + B050_PSS201_OPN + B050_PSS301_OPN + B050_PSS111_OPN + B050_PSS211_OPN + B050_PSS311_OPN + B053_PSS101_RSS_TRLY_OPN + B053_PSS201_RSS_TRLY_OPN + B060_PSS101_OPN + B0612_PSS1_OPN + B0631_PSS1_OPN + B0632_PSS1_OPN + B0701_PSS1_RSS_TRLY_OPN + B073_PSS1_RSS_TRLY_OPN + B0733_PSS1_OPN + ICS_B0801_PSS1_RSS_TRLY_OPN + ICS_B082_PSS101_RSS_TRLY_OP + ICS_B082_PSS201_RSS_TRLY_OP + ICS_B083_PSS101_RSS_TRLY_OP + ICS_B083_PSS201_RSS_TRLY_OP + B090_PSS1_RSS_TRLY_OPN + B09_31_PSS1_RSS_TRLY_OPN + B09_3_PSS1_RSS_TRLY_OPN + B10_0_PSS001_RSS_TRLY_OPN + B10_31_PSS1_RSS_TRLY_OPN + B10_31_PSS1_RSS_TRLY_OPN + B110_PSS101_RSS_TRLY_OPN + B110_PSS201_RSS_TRLY_OPN + BL113_PSS101_RSS_TRLY_OPN + BL113_PSS201_RSS_TRLY_OPN + ICS_BL12_0_PSS1_RSS_TRLY_OPN + ICS_BL12_2_PSS101_RSS_TRLY_O + ICS_BL12_2_PSS201_RSS_TRLY_O + ICS_BL12_3_PSS101_RSS_TRLY_O + ICS_BL12_3_PSS201_RSS_TRLY_O + B122_PSS111_OPN + B122_PSS211_OPN + B123_PSS111_OPN + B123_PSS211_OPN];
1370 <span class="comment">%BL_SHUTTERS = [B021_PSS201_OPN + B03_11_PSS1_RSS_TRLY_OPN + B03_2_PSS101_RSS_TRLY_OPN + B03_2_PSS201_RSS_TRLY_OPN + B03_3_PSS101_RSS_TRLY_OPN + B03_3_PSS201_RSS_TRLY_OPN + B040_PSS002_RSS_TRLY_OPN + B040_PSS001_RSS_TRLY_OPN + ICS_BL042_PSS101_RSS_TRLY_OP + ICS_BL042_PSS201_RSS_TRLY_OP + ICS_BL043_PSS101_RSS_TRLY_OP + ICS_BL043_PSS201_RSS_TRLY_OP + B050_PSS001_RSS_TRLY_OPN + B050_PSS101_OPN + B050_PSS201_OPN + B050_PSS301_OPN + B050_PSS111_OPN + B050_PSS211_OPN + B050_PSS311_OPN + B053_PSS101_RSS_TRLY_OPN + B053_PSS201_RSS_TRLY_OPN + B060_PSS101_OPN + B0612_PSS1_OPN + B0631_PSS1_OPN + B0632_PSS1_OPN + B0701_PSS1_RSS_TRLY_OPN + B073_PSS1_RSS_TRLY_OPN + B0733_PSS1_OPN + ICS_B0801_PSS1_RSS_TRLY_OPN + ICS_B082_PSS101_RSS_TRLY_OP + ICS_B082_PSS201_RSS_TRLY_OP + ICS_B083_PSS101_RSS_TRLY_OP + ICS_B083_PSS201_RSS_TRLY_OP + B082_PSS111_OPN + B082_PSS211_OPN + B083_PSS111_OPN + B090_PSS1_RSS_TRLY_OPN + B09_31_PSS1_RSS_TRLY_OPN + B09_3_PSS1_RSS_TRLY_OPN + B10_0_PSS001_RSS_TRLY_OPN + B10_31_PSS1_RSS_TRLY_OPN + B10_31_PSS1_RSS_TRLY_OPN + B110_PSS101_RSS_TRLY_OPN + B110_PSS201_RSS_TRLY_OPN + BL113_PSS101_RSS_TRLY_OPN + BL113_PSS201_RSS_TRLY_OPN + ICS_BL12_0_PSS1_RSS_TRLY_OPN + ICS_BL12_2_PSS101_RSS_TRLY_O + ICS_BL12_2_PSS201_RSS_TRLY_O + ICS_BL12_3_PSS101_RSS_TRLY_O + ICS_BL12_3_PSS201_RSS_TRLY_O + B122_PSS111_OPN + B122_PSS211_OPN + B123_PSS111_OPN + B123_PSS211_OPN];</span>
1371 
1372 <span class="comment">% Plotted during user time</span>
1373 <span class="keyword">if</span> FFFlag
1374     GapEnable(isnan(GapEnable)) = 0;
1375     GapEnable(GapEnable==127) = 1;  <span class="comment">% Sometime 127 is the same as 1 (boolean???)</span>
1376     i = find(sum(GapEnable) &lt; 3);   <span class="comment">% Why 3, just because sometimes 1 or 2 gaps are enabled for testing.</span>
1377 <span class="keyword">else</span>
1378     i = find(dcct &lt; 150)
1379 <span class="keyword">end</span>
1380 BPMx(:,i) = NaN;
1381 BPMy(:,i) = NaN;
1382 
1383 filter_data_time = toc;
1384 <span class="comment">%fprintf('  %.1f seconds to filter data\n', filter_data_time);</span>
1385 
1386 
1387 <span class="comment">%%%%%%%%%%%%%%%%</span>
1388 <span class="comment">% Plot figures %</span>
1389 <span class="comment">%%%%%%%%%%%%%%%%</span>
1390 
1391 FigNum = 0;
1392 FigNum = FigNum + 1;
1393 h = figure(FigNum);
1394 subfig(1,1,1, h);
1395 <span class="comment">%%p = get(h, 'Position');</span>
1396 <span class="comment">%FigurePosition = [p(1)-.4*p(3) p(2)-.95*p(4) p(3)+.4*p(3) p(4)+.95*p(4)];</span>
1397 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1398 clf reset;
1399 
1400 subplot(7,1,1);
1401 [ax, h1, h2] = plotyy(t,dcct, t,i_cam);
1402 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Beam Current [mA]'</span>);
1403 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'I_{cam}'</span>, <span class="string">'Color'</span>, RightGraphColor);
1404 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
1405 set(h2, <span class="string">'Color'</span>, RightGraphColor);
1406 axes(ax(1));
1407 set(ax(1),<span class="string">'YTick'</span>,[0 100 200 300 400]);
1408 axis([0 xmax 0 450]);
1409 axes(ax(2));
1410 axis([0 xmax 0 20]);
1411 grid on;
1412 
1413 <span class="keyword">if</span> DayFlag
1414     MaxDay = round(max(t));
1415     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
1416     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
1417 <span class="keyword">end</span>
1418 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1419 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1420 
1421 
1422 YLim1 = get(ax(1),<span class="string">'YLim'</span>);
1423 YLim2 = get(ax(2),<span class="string">'YLim'</span>);
1424 set(ax(2),<span class="string">'YTick'</span>,round([0 100 200 300 400]*YLim2(2)/YLim1(2)*10)/10);
1425 
1426 title([<span class="string">'ALS Parameters: '</span>,titleStr]);
1427 
1428 subplot(7,1,2)
1429 <span class="comment">%bar(t,BL_SHUTTERS,1.01);</span>
1430 stairs(t, BL_SHUTTERS);
1431 ylabel(<span class="string">'# Shutters Open'</span>,<span class="string">'fontsize'</span>,10, <span class="string">'Color'</span>, LeftGraphColor);
1432 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1433 xaxis([0 xmax]);
1434 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1435 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1436 
1437 
1438 <span class="comment">% plot(t, dcct, 'b',t,10*i_cam,'m'); grid on;</span>
1439 <span class="comment">% legend('I_{total}','10*I_{cam}');</span>
1440 <span class="comment">% ylabel('Beam Current, I [mA]','fontsize',10);</span>
1441 <span class="comment">% axis([0 xmax 0 450]);</span>
1442 <span class="comment">% set(gca,'XTickLabel','');</span>
1443 
1444 subplot(7,1,3);
1445 [ax, h1, h2] = plotyy(t,lifetime, t(8:(end-8)),lifetime2);
1446 grid on
1447 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{16}\tau_{\fontsize{8}total}'</span>);
1448 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{16}\tau_{\fontsize{8}cam}'</span>, <span class="string">'Color'</span>, RightGraphColor);
1449 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
1450 set(h2, <span class="string">'Color'</span>, RightGraphColor);
1451 axes(ax(1));
1452 set(ax(1),<span class="string">'YTick'</span>,[0 5 10 15 20]);
1453 aa = axis;
1454 aa(1) = 0;
1455 aa(2) = xmax;
1456 aa = [0 xmax 0 20];
1457 axis(aa);
1458 axes(ax(2));
1459 aa = axis;
1460 aa(1) = 0;
1461 aa(2) = xmax;
1462 aa = [0 xmax 0 20];
1463 axis(aa);
1464 
1465 <span class="keyword">if</span> DayFlag
1466     MaxDay = round(max(t));
1467     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
1468     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
1469 <span class="keyword">end</span>
1470 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1471 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1472 
1473 YLim1 = get(ax(1),<span class="string">'YLim'</span>);
1474 YLim2 = get(ax(2),<span class="string">'YLim'</span>);
1475 set(ax(2),<span class="string">'YTick'</span>,round([0 5 10 15 20]*YLim2(2)/YLim1(2)*10)/10);
1476 
1477 
1478 <span class="comment">% plot(t, lifetime, 'b', t(8:(end-8)), lifetime2, 'm'); grid on;</span>
1479 <span class="comment">% legend('\tau_{total}','\tau_{cam}');</span>
1480 <span class="comment">% %plot(t, lifetime, 'b', t(2:end)/60/60, lifetime1, 'r'); grid on;</span>
1481 <span class="comment">% ylabel('Lifetime, \tau [Hours]','fontsize',10);</span>
1482 <span class="comment">% axis([0 xmax 0 20]);</span>
1483 <span class="comment">% set(gca,'XTickLabel','');</span>
1484 
1485 subplot(7,1,4);
1486 h = plot(t, SigX31,<span class="string">'-b'</span>,t, SigY31,<span class="string">'r'</span>, t, SigX72/2.0, <span class="string">'g'</span>, t, SigY72, <span class="string">'m'</span>); grid on;
1487 <span class="comment">% plot(t, SigX/2.0,'-b',t, SigY/2.0,'r'); grid on;</span>
1488 ylabel(<span class="string">'\fontsize{14}\sigma_x \sigma_y \fontsize{10}[\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
1489 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1490 axis tight;
1491 axis([0 xmax 25 75]);
1492 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1493 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1494 
1495 hh=legend(<span class="string">'\fontsize{8}BL3.1 \fontsize{12}\sigma_x'</span>, <span class="string">'\fontsize{8}BL3.1 \fontsize{12}\sigma_y'</span>, <span class="string">'\fontsize{8}BL7.2 \fontsize{12}\sigma_x \fontsize{10}/ 2'</span>, <span class="string">'\fontsize{8}BL7.2 \fontsize{12}\sigma_y'</span>);
1496 set(hh, <span class="string">'Units'</span>,<span class="string">'Normalized'</span>);
1497 <span class="comment">%set(hh, 'Units','Normalized', 'position',[.869 .54 .13 .09]);  % Right side</span>
1498 set(hh, <span class="string">'Units'</span>,<span class="string">'Normalized'</span>, <span class="string">'position'</span>,[-.01 .54 .09 .09]);  <span class="comment">% Left side</span>
1499 <span class="comment">%p = get(h,'position');</span>
1500 <span class="comment">%p(2)= p(2)+p(4)*.25;</span>
1501 <span class="comment">%p(4)= p(4)*.1;</span>
1502 <span class="comment">%set(h,'position',p);</span>
1503 
1504 subplot(7,1,5);
1505 plot(t, dcct .* lifetime ./ (SigX31) ./ (SigY31), <span class="string">'b'</span>);
1506 grid on;
1507 ylabel(<span class="string">'I \tau / (\sigma_x \sigma_y )'</span>,<span class="string">'fontsize'</span>,10, <span class="string">'Color'</span>, LeftGraphColor);
1508 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1509 axis tight
1510 xaxis([0 xmax]);
1511 yaxis([0 2.0]);
1512 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1513 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1514 
1515 subplot(7,1,6);
1516 plot(t,TuneShift,<span class="string">'b'</span>); grid on;
1517 ylabel(<span class="string">'\Delta \nu_y (Gap)^1'</span>,<span class="string">'fontsize'</span>,10, <span class="string">'Color'</span>, LeftGraphColor);
1518 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1519 axis([0 xmax 0 .07]);
1520 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1521 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1522 
1523 subplot(7,1,7)
1524 plot(t,IDgap);
1525 hold on;
1526 plot(t,EPU);
1527 IDLegend = [IDLegend; EPULegend];
1528 <span class="comment">%plot(t,EPU(1,:),'b');</span>
1529 <span class="comment">%plot(t,EPU(2,:),'k');</span>
1530 hold off
1531 xlabel(xlabelstring);
1532 ylabel(<span class="string">'ID Gap [mm]'</span>,<span class="string">'fontsize'</span>,10, <span class="string">'Color'</span>, LeftGraphColor);
1533 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1534 axis([0 xmax -27 60]);
1535 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1536 hh = legend(IDLegend);
1537 
1538 <span class="comment">%hh = legend('4EPU ','5W   ','7U   ', '8U   ', '9U   ','10U  ','11EPU','12U  ');</span>
1539 <span class="comment">%set(hh, 'Units','Normalized', 'position',[.87 .08 .116 .11]);</span>
1540 <span class="comment">%set(hh, 'Units','Normalized', 'position',[.889 .08 .11 .14]);</span>
1541 set(hh, <span class="string">'Units'</span>,<span class="string">'Normalized'</span>, <span class="string">'position'</span>,[-.01 .05 .08 .27]);  <span class="comment">% Left side</span>
1542 <span class="comment">%p = get(hh,'position');</span>
1543 <span class="comment">%p(2)= p(2)+p(4)*.4;</span>
1544 <span class="comment">%p(4)= p(4)*.5;</span>
1545 <span class="comment">%set(hh,'position',p);</span>
1546 
1547 addlabel(1,0,<span class="string">'^1W11 and the EPU longitudinal tune shifts are not included.'</span>);
1548 yaxesposition(1.20);
1549 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
1550 orient tall
1551 
1552 
1553 <span class="comment">%%%%%%%%%%%%%%%%</span>
1554 <span class="comment">%  Orbit Plots %</span>
1555 <span class="comment">%%%%%%%%%%%%%%%%</span>
1556 FigNum = FigNum + 1;
1557 h = figure(FigNum);
1558 subfig(1,1,1, h);
1559 <span class="comment">%%p = get(h, 'Position');</span>
1560 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1561 clf reset;
1562 
1563 subplot(12,1,1);
1564 
1565 i = findrowindex([12 9;1 2], BPMlist);
1566 plot(t, 1000*BPMx(i,:));
1567 <span class="comment">%grid on;</span>
1568 ylabel(<span class="string">'1'</span>);
1569 title([<span class="string">'Horizontal Straight Section Bergoz BPMs [\mum]: '</span>,titleStr]);
1570 axis tight;
1571 axis([0 xmax -35 35]);
1572 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1573 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1574 
1575 subplot(12,1,2);
1576 i = findrowindex([1 10;2 1], BPMlist);
1577 plot(t, 1000*BPMx(i,:));
1578 <span class="comment">%grid on;</span>
1579 ylabel(<span class="string">'2'</span>);
1580 axis([0 xmax -35 35]);
1581 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1582 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1583 
1584 subplot(12,1,3);
1585 i = findrowindex([2 9;3 2], BPMlist);
1586 plot(t, 1000*BPMx(i,:));
1587 <span class="comment">%grid on;</span>
1588 ylabel(<span class="string">'3'</span>);
1589 axis([0 xmax -35 35]);
1590 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1591 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1592 
1593 subplot(12,1,4);
1594 i = findrowindex([3 10;4 1;3 11;3 12], BPMlist);
1595 plot(t, 1000*BPMx(i,:));
1596 <span class="comment">%grid on;</span>
1597 ylabel(<span class="string">'4EPU'</span>);
1598 axis([0 xmax -35 35]);
1599 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1600 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1601 
1602 subplot(12,1,5);
1603 i = findrowindex([4 10;5 1], BPMlist);
1604 plot(t, 1000*BPMx(i,:));
1605 <span class="comment">%grid on;</span>
1606 ylabel(<span class="string">'5W'</span>);
1607 axis([0 xmax -35 35]);
1608 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1609 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1610 
1611 subplot(12,1,6);
1612 i = findrowindex([5 10;6 1;5 11;5 12], BPMlist);
1613 plot(t, 1000*BPMx(i,:));
1614 <span class="comment">%grid on;</span>
1615 ylabel(<span class="string">'6'</span>);
1616 axis([0 xmax -35 35]);
1617 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1618 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1619 
1620 subplot(12,1,7);
1621 i = findrowindex([6 10;7 1], BPMlist);
1622 plot(t, 1000*BPMx(i,:));
1623 <span class="comment">%grid on;</span>
1624 ylabel(<span class="string">'7U'</span>);
1625 axis([0 xmax -35 35]);
1626 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1627 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1628 
1629 subplot(12,1,8);
1630 i = findrowindex([7 10;8 1], BPMlist);
1631 plot(t, 1000*BPMx(i,:));
1632 <span class="comment">%grid on;</span>
1633 ylabel(<span class="string">'8U'</span>);
1634 axis([0 xmax -35 35]);
1635 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1636 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1637 
1638 subplot(12,1,9);
1639 i = findrowindex([8 10;9 1], BPMlist);
1640 plot(t, 1000*BPMx(i,:));
1641 <span class="comment">%grid on;</span>
1642 ylabel(<span class="string">'9U'</span>);
1643 axis([0 xmax -35 35]);
1644 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1645 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1646 
1647 subplot(12,1,10);
1648 i = findrowindex([9 10;10 1], BPMlist);
1649 plot(t, 1000*BPMx(i,:));
1650 <span class="comment">%grid on;</span>
1651 ylabel(<span class="string">'10U'</span>);
1652 axis([0 xmax -35 35]);
1653 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1654 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1655 
1656 subplot(12,1,11);
1657 i = findrowindex([10 10;11 1;10 11;10 12], BPMlist);
1658 plot(t, 1000*BPMx(i,:));
1659 <span class="comment">%grid on;</span>
1660 ylabel(<span class="string">'11EPU'</span>);
1661 axis([0 xmax -35 35]);
1662 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1663 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1664 
1665 subplot(12,1,12);
1666 i = findrowindex([11 10;12 1], BPMlist);
1667 plot(t, 1000*BPMx(i,:));
1668 <span class="comment">%grid on;</span>
1669 ylabel(<span class="string">'12U'</span>);
1670 axis([0 xmax -35 35]);
1671 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1672 <span class="comment">%set(gca,'XTickLabel','');</span>
1673 
1674 <span class="comment">% subplot(13,1,13);</span>
1675 <span class="comment">% plot(t, ID9BPM1xRMS, '-b', t, ID9BPM2xRMS, '-r');</span>
1676 <span class="comment">% %grid on;</span>
1677 <span class="comment">% ylabel('9U RMS');</span>
1678 <span class="comment">% axis tight;</span>
1679 <span class="comment">% axis([0 xmax 0 6]);</span>
1680 <span class="comment">% ChangeAxesLabel(t, Days, DayFlag);</span>
1681 
1682 xlabel(xlabelstring);
1683 yaxesposition(1.20);
1684 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
1685 orient tall
1686 
1687 
1688 
1689 FigNum = FigNum + 1;
1690 h = figure(FigNum);
1691 subfig(1,1,1, h);
1692 <span class="comment">%%p = get(h, 'Position');</span>
1693 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1694 clf reset;
1695 
1696 subplot(12,1,1);
1697 i = findrowindex([1 4;1 5;1 6;1 7], BPMlist);
1698 plot(t, 1000*BPMx(i,:));
1699 <span class="comment">%grid on;</span>
1700 title([<span class="string">'Horizontal Arc Sector Bergoz BPMs [\mum]: '</span>,titleStr]);
1701 ylabel(<span class="string">'Arc 1'</span>);
1702 axis tight;
1703 axisvals = axis;
1704 xaxis([0 xmax]);
1705 yaxis([axisvals(3)-10 axisvals(4)+10]);
1706 <span class="comment">%axis([0 xmax -48 48]);</span>
1707 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1708 
1709 subplot(12,1,2);
1710 i = findrowindex([2 4;2 5;2 6;2 7], BPMlist);
1711 plot(t, 1000*BPMx(i,:));
1712 <span class="comment">%grid on;</span>
1713 ylabel(<span class="string">'Arc 2'</span>);
1714 axis tight;
1715 axisvals = axis;
1716 xaxis([0 xmax]);
1717 yaxis([axisvals(3)-10 axisvals(4)+10]);
1718 <span class="comment">%axis([0 xmax -48 48]);</span>
1719 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1720 
1721 subplot(12,1,3);
1722 i = findrowindex([3 4;3 5;3 6;3 7], BPMlist);
1723 plot(t, 1000*BPMx(i,:));
1724 <span class="comment">%grid on;</span>
1725 ylabel(<span class="string">'Arc 3'</span>);
1726 axis tight;
1727 axisvals = axis;
1728 xaxis([0 xmax]);
1729 yaxis([axisvals(3)-10 axisvals(4)+10]);
1730 <span class="comment">%axis([0 xmax -48 48]);</span>
1731 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1732 
1733 subplot(12,1,4);
1734 i = findrowindex([4 4;4 5;4 6;4 7], BPMlist);
1735 plot(t, 1000*BPMx(i,:));
1736 <span class="comment">%grid on;</span>
1737 ylabel(<span class="string">'Arc 4'</span>);
1738 axis tight;
1739 axisvals = axis;
1740 xaxis([0 xmax]);
1741 yaxis([axisvals(3)-10 axisvals(4)+10]);
1742 <span class="comment">%axis([0 xmax -48 48]);</span>
1743 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1744 
1745 subplot(12,1,5);
1746 i = findrowindex([5 4;5 5;5 6;5 7], BPMlist);
1747 plot(t, 1000*BPMx(i,:));
1748 <span class="comment">%grid on;</span>
1749 ylabel(<span class="string">'Arc 5'</span>);
1750 axis tight;
1751 axisvals = axis;
1752 xaxis([0 xmax]);
1753 yaxis([axisvals(3)-10 axisvals(4)+10]);
1754 <span class="comment">%axis([0 xmax -48 48]);</span>
1755 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1756 
1757 subplot(12,1,6);
1758 i = findrowindex([6 4;6 5;6 6;6 7], BPMlist);
1759 plot(t, 1000*BPMx(i,:));
1760 <span class="comment">%grid on;</span>
1761 ylabel(<span class="string">'Arc 6'</span>);
1762 axis tight;
1763 axisvals = axis;
1764 xaxis([0 xmax]);
1765 yaxis([axisvals(3)-10 axisvals(4)+10]);
1766 <span class="comment">%axis([0 xmax -48 48]);</span>
1767 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1768 
1769 subplot(12,1,7);
1770 i = findrowindex([7 4;7 5;7 6;7 7], BPMlist);
1771 plot(t, 1000*BPMx(i,:));
1772 <span class="comment">%grid on;</span>
1773 ylabel(<span class="string">'Arc 7'</span>);
1774 axis tight;
1775 axisvals = axis;
1776 xaxis([0 xmax]);
1777 yaxis([axisvals(3)-10 axisvals(4)+10]);
1778 <span class="comment">%axis([0 xmax -48 48]);</span>
1779 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1780 
1781 subplot(12,1,8);
1782 i = findrowindex([8 4;8 5;8 6;8 7], BPMlist);
1783 plot(t, 1000*BPMx(i,:));
1784 <span class="comment">%grid on;</span>
1785 ylabel(<span class="string">'Arc 8'</span>);
1786 axis tight;
1787 axisvals = axis;
1788 xaxis([0 xmax]);
1789 yaxis([axisvals(3)-10 axisvals(4)+10]);
1790 <span class="comment">%axis([0 xmax -48 48]);</span>
1791 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1792 
1793 subplot(12,1,9);
1794 i = findrowindex([9 4;9 5;9 6;9 7], BPMlist);
1795 plot(t, 1000*BPMx(i,:));
1796 <span class="comment">%grid on;</span>
1797 ylabel(<span class="string">'Arc 9'</span>);
1798 axis tight;
1799 axisvals = axis;
1800 xaxis([0 xmax]);
1801 yaxis([axisvals(3)-10 axisvals(4)+10]);
1802 <span class="comment">%axis([0 xmax -48 48]);</span>
1803 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1804 
1805 subplot(12,1,10);
1806 i = findrowindex([10 4;10 5;10 6;10 7], BPMlist);
1807 plot(t, 1000*BPMx(i,:));
1808 <span class="comment">%grid on;</span>
1809 ylabel(<span class="string">'Arc 10'</span>);
1810 axis tight;
1811 axisvals = axis;
1812 xaxis([0 xmax]);
1813 yaxis([axisvals(3)-10 axisvals(4)+10]);
1814 <span class="comment">%axis([0 xmax -48 48]);</span>
1815 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1816 
1817 subplot(12,1,11);
1818 i = findrowindex([11 4;11 5;11 6;11 7], BPMlist);
1819 plot(t, 1000*BPMx(i,:));
1820 <span class="comment">%grid on;</span>
1821 ylabel(<span class="string">'Arc 11'</span>);
1822 axis tight;
1823 axisvals = axis;
1824 xaxis([0 xmax]);
1825 yaxis([axisvals(3)-10 axisvals(4)+10]);
1826 <span class="comment">%axis([0 xmax -48 48]);</span>
1827 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1828 
1829 subplot(12,1,12);
1830 i = findrowindex([12 4;12 5;12 6;12 7], BPMlist);
1831 plot(t, 1000*BPMx(i,:));
1832 <span class="comment">%grid on;</span>
1833 ylabel(<span class="string">'Arc 12'</span>);
1834 axis tight;
1835 axisvals = axis;
1836 xaxis([0 xmax]);
1837 yaxis([axisvals(3)-10 axisvals(4)+10]);
1838 <span class="comment">%axis([0 xmax -48 48]);</span>
1839 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1840 <span class="comment">%set(gca,'XTickLabel','');</span>
1841 
1842 <span class="comment">% subplot(13,1,13);</span>
1843 <span class="comment">% plot(t, hqmofm);</span>
1844 <span class="comment">% %grid on;</span>
1845 <span class="comment">% ylabel('\Delta f_{RF} [Hz]');</span>
1846 <span class="comment">% xaxis([0 xmax]);</span>
1847 <span class="comment">% ChangeAxesLabel(t, Days, DayFlag);</span>
1848 
1849 xlabel(xlabelstring);
1850 yaxesposition(1.20);
1851 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
1852 orient tall
1853 
1854 
1855 
1856 FigNum = FigNum + 1;
1857 h = figure(FigNum);
1858 subfig(1,1,1, h);
1859 <span class="comment">%%p = get(h, 'Position');</span>
1860 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1861 clf reset;
1862 
1863 subplot(12,1,1);
1864 i = findrowindex([12 9;1 2], BPMlist);
1865 plot(t, 1000*BPMy(i,:));
1866 <span class="comment">%grid on;</span>
1867 ylabel(<span class="string">'1'</span>);
1868 title([<span class="string">'Vertical Straight Section Bergoz BPMs [\mum]: '</span>,titleStr]);
1869 axis tight;
1870 axis([0 xmax -15 15]);
1871 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1872 
1873 subplot(12,1,2);
1874 i = findrowindex([1 10;2 1], BPMlist);
1875 plot(t, 1000*BPMy(i,:));
1876 <span class="comment">%grid on;</span>
1877 ylabel(<span class="string">'2'</span>);
1878 axis([0 xmax -15 15]);
1879 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1880 
1881 subplot(12,1,3);
1882 i = findrowindex([2 9;3 2], BPMlist);
1883 plot(t, 1000*BPMy(i,:));
1884 <span class="comment">%grid on;</span>
1885 ylabel(<span class="string">'3'</span>);
1886 axis([0 xmax -15 15]);
1887 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1888 
1889 subplot(12,1,4);
1890 i = findrowindex([3 10;4 1;3 11;3 12], BPMlist);
1891 plot(t, 1000*BPMy(i,:));
1892 <span class="comment">%grid on;</span>
1893 ylabel(<span class="string">'4EPU'</span>);
1894 axis([0 xmax -15 15]);
1895 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1896 
1897 subplot(12,1,5);
1898 i = findrowindex([4 10;5 1], BPMlist);
1899 plot(t, 1000*BPMy(i,:));
1900 <span class="comment">%grid on;</span>
1901 ylabel(<span class="string">'5W'</span>);
1902 axis([0 xmax -15 15]);
1903 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1904 
1905 subplot(12,1,6);
1906 i = findrowindex([5 10;6 1;5 11;5 12], BPMlist);
1907 plot(t, 1000*BPMy(i,:));
1908 <span class="comment">%grid on;</span>
1909 ylabel(<span class="string">'6'</span>);
1910 axis([0 xmax -15 15]);
1911 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1912 
1913 subplot(12,1,7);
1914 i = findrowindex([6 10;7 1], BPMlist);
1915 plot(t, 1000*BPMy(i,:));
1916 <span class="comment">%grid on;</span>
1917 ylabel(<span class="string">'7U'</span>);
1918 axis([0 xmax -15 15]);
1919 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1920 
1921 subplot(12,1,8);
1922 i = findrowindex([7 10;8 1], BPMlist);
1923 plot(t, 1000*BPMy(i,:));
1924 <span class="comment">%grid on;</span>
1925 ylabel(<span class="string">'8U'</span>);
1926 axis([0 xmax -15 15]);
1927 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1928 
1929 subplot(12,1,9);
1930 i = findrowindex([8 10;9 1], BPMlist);
1931 plot(t, 1000*BPMy(i,:));
1932 <span class="comment">%grid on;</span>
1933 ylabel(<span class="string">'9U'</span>);
1934 axis([0 xmax -15 15]);
1935 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1936 
1937 subplot(12,1,10);
1938 i = findrowindex([9 10;10 1], BPMlist);
1939 plot(t, 1000*BPMy(i,:));
1940 <span class="comment">%grid on;</span>
1941 ylabel(<span class="string">'10U'</span>);
1942 axis([0 xmax -15 15]);
1943 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1944 
1945 subplot(12,1,11);
1946 i = findrowindex([10 10;11 1;10 11;10 12], BPMlist);
1947 plot(t, 1000*BPMy(i,:));
1948 <span class="comment">%grid on;</span>
1949 ylabel(<span class="string">'11EPU'</span>);
1950 axis([0 xmax -15 15]);
1951 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1952 
1953 subplot(12,1,12);
1954 i = findrowindex([11 10;12 1], BPMlist);
1955 plot(t, 1000*BPMy(i,:));
1956 <span class="comment">%grid on;</span>
1957 ylabel(<span class="string">'12U'</span>);
1958 axis([0 xmax -15 15]);
1959 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1960 <span class="comment">%set(gca,'XTickLabel','');</span>
1961 
1962 <span class="comment">% subplot(13,1,13);</span>
1963 <span class="comment">% plot(t, ID9BPM1yRMS, '-b', t, ID9BPM2yRMS, '-r');</span>
1964 <span class="comment">% %grid on;</span>
1965 <span class="comment">% ylabel('9U RMS');</span>
1966 <span class="comment">% axis tight;</span>
1967 <span class="comment">% axis([0 xmax 0 3]);</span>
1968 <span class="comment">% ChangeAxesLabel(t, Days, DayFlag);</span>
1969 
1970 xlabel(xlabelstring);
1971 yaxesposition(1.20);
1972 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
1973 orient tall
1974 
1975 
1976 
1977 FigNum = FigNum + 1;
1978 h = figure(FigNum);
1979 subfig(1,1,1, h);
1980 <span class="comment">%%p = get(h, 'Position');</span>
1981 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1982 clf reset;
1983 
1984 subplot(12,1,1);
1985 i = findrowindex([1 4;1 5;1 6;1 7], BPMlist);
1986 plot(t, 1000*BPMy(i,:));
1987 <span class="comment">%grid on;</span>
1988 title([<span class="string">'Vertical Arc Sector Bergoz BPMs [\mum]: '</span>,titleStr]);
1989 <span class="comment">%title(['Vertical Arc BBPM Data in \mum: ',titleStr]);</span>
1990 ylabel(<span class="string">'Arc 1'</span>);
1991 axis tight;
1992 axisvals = axis;
1993 xaxis([0 xmax]);
1994 yaxis([axisvals(3)-10 axisvals(4)+10]);
1995 <span class="comment">%axis([0 xmax -35 35]);</span>
1996 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1997 
1998 subplot(12,1,2);
1999 i = findrowindex([2 4;2 5;2 6;2 7], BPMlist);
2000 plot(t, 1000*BPMy(i,:));
2001 <span class="comment">%grid on;</span>
2002 ylabel(<span class="string">'Arc 2'</span>);
2003 axis tight;
2004 axisvals = axis;
2005 xaxis([0 xmax]);
2006 yaxis([axisvals(3)-10 axisvals(4)+10]);
2007 <span class="comment">%axis([0 xmax -35 35]);</span>
2008 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2009 
2010 subplot(12,1,3);
2011 i = findrowindex([3 4;3 5;3 6;3 7], BPMlist);
2012 plot(t, 1000*BPMy(i,:));
2013 <span class="comment">%grid on;</span>
2014 ylabel(<span class="string">'Arc 3'</span>);
2015 axis tight;
2016 axisvals = axis;
2017 xaxis([0 xmax]);
2018 yaxis([axisvals(3)-10 axisvals(4)+10]);
2019 <span class="comment">%axis([0 xmax -35 35]);</span>
2020 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2021 
2022 subplot(12,1,4);
2023 i = findrowindex([4 4;4 5;4 6;4 7], BPMlist);
2024 plot(t, 1000*BPMy(i,:));
2025 <span class="comment">%grid on;</span>
2026 ylabel(<span class="string">'Arc 4'</span>);
2027 axis tight;
2028 axisvals = axis;
2029 xaxis([0 xmax]);
2030 yaxis([axisvals(3)-10 axisvals(4)+10]);
2031 <span class="comment">%axis([0 xmax -35 35]);</span>
2032 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2033 
2034 subplot(12,1,5);
2035 i = findrowindex([5 4;5 5;5 6;5 7], BPMlist);
2036 plot(t, 1000*BPMy(i,:));
2037 <span class="comment">%grid on;</span>
2038 ylabel(<span class="string">'Arc 5'</span>);
2039 axis tight;
2040 axisvals = axis;
2041 xaxis([0 xmax]);
2042 yaxis([axisvals(3)-10 axisvals(4)+10]);
2043 <span class="comment">%axis([0 xmax -35 35]);</span>
2044 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2045 
2046 subplot(12,1,6);
2047 i = findrowindex([6 4;6 5;6 6;6 7], BPMlist);
2048 plot(t, 1000*BPMy(i,:));
2049 <span class="comment">%grid on;</span>
2050 ylabel(<span class="string">'Arc 6'</span>);
2051 axis tight;
2052 axisvals = axis;
2053 xaxis([0 xmax]);
2054 yaxis([axisvals(3)-10 axisvals(4)+10]);
2055 <span class="comment">%axis([0 xmax -35 35]);</span>
2056 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2057 
2058 subplot(12,1,7);
2059 i = findrowindex([7 4;7 5;7 6;7 7], BPMlist);
2060 plot(t, 1000*BPMy(i,:));
2061 <span class="comment">%grid on;</span>
2062 ylabel(<span class="string">'Arc 7'</span>);
2063 axis tight;
2064 axisvals = axis;
2065 xaxis([0 xmax]);
2066 yaxis([axisvals(3)-10 axisvals(4)+10]);
2067 <span class="comment">%axis([0 xmax -35 35]);</span>
2068 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2069 
2070 subplot(12,1,8);
2071 i = findrowindex([8 4;8 5;8 6;8 7], BPMlist);
2072 plot(t, 1000*BPMy(i,:));
2073 <span class="comment">%grid on;</span>
2074 ylabel(<span class="string">'Arc 8'</span>);
2075 axis tight;
2076 axisvals = axis;
2077 xaxis([0 xmax]);
2078 yaxis([axisvals(3)-10 axisvals(4)+10]);
2079 <span class="comment">%axis([0 xmax -35 35]);</span>
2080 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2081 
2082 subplot(12,1,9);
2083 i = findrowindex([9 4;9 5;9 6;9 7], BPMlist);
2084 plot(t, 1000*BPMy(i,:));
2085 <span class="comment">%grid on;</span>
2086 ylabel(<span class="string">'Arc 9'</span>);
2087 axis tight;
2088 axisvals = axis;
2089 xaxis([0 xmax]);
2090 yaxis([axisvals(3)-10 axisvals(4)+10]);
2091 <span class="comment">%axis([0 xmax -35 35]);</span>
2092 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2093 
2094 subplot(12,1,10);
2095 i = findrowindex([10 4;10 5;10 6;10 7], BPMlist);
2096 plot(t, 1000*BPMy(i,:));
2097 <span class="comment">%grid on;</span>
2098 ylabel(<span class="string">'Arc 10'</span>);
2099 axis tight;
2100 axisvals = axis;
2101 xaxis([0 xmax]);
2102 yaxis([axisvals(3)-10 axisvals(4)+10]);
2103 <span class="comment">%axis([0 xmax -35 35]);</span>
2104 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2105 
2106 subplot(12,1,11);
2107 i = findrowindex([11 4;11 5;11 6;11 7], BPMlist);
2108 plot(t, 1000*BPMy(i,:));
2109 <span class="comment">%grid on;</span>
2110 ylabel(<span class="string">'Arc 11'</span>);
2111 axis tight;
2112 axisvals = axis;
2113 xaxis([0 xmax]);
2114 yaxis([axisvals(3)-10 axisvals(4)+10]);
2115 <span class="comment">%axis([0 xmax -35 35]);</span>
2116 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2117 
2118 subplot(12,1,12);
2119 i = findrowindex([12 4;12 5;12 6;12 7], BPMlist);
2120 plot(t, 1000*BPMy(i,:));
2121 <span class="comment">%grid on;</span>
2122 xlabel(xlabelstring);
2123 ylabel(<span class="string">'Arc 12'</span>);
2124 axis tight;
2125 axisvals = axis;
2126 xaxis([0 xmax]);
2127 yaxis([axisvals(3)-10 axisvals(4)+10]);
2128 <span class="comment">%axis([0 xmax -35 35]);</span>
2129 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2130 
2131 yaxesposition(1.20);
2132 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2133 orient tall
2134 
2135 
2136 <span class="comment">%%%%%%%%%%%%%%%</span>
2137 <span class="comment">% Bergoz BPMs %</span>
2138 <span class="comment">%%%%%%%%%%%%%%%</span>
2139 FigNum = FigNum + 1;
2140 h = figure(FigNum);
2141 subfig(1,1,1, h);
2142 <span class="comment">%%p = get(h, 'Position');</span>
2143 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
2144 clf reset;
2145 
2146 subplot(4,1,1);
2147 i = findrowindex(<a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>, <span class="string">'BPMx'</span>, <span class="string">'1 10 11 12'</span>), BPMlist);
2148 plot(t, 1000 * BPMx(i,:));
2149 grid on;
2150 ylabel(<span class="string">'Straight X [\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2151 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2152 title([<span class="string">'Storage Ring Orbit: '</span>,titleStr]);
2153 axis([0 xmax -50 50]);
2154 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2155 
2156 subplot(4,1,2);
2157 i = findrowindex(<a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>, <span class="string">'BPMx'</span>, <span class="string">'2 3 4 5 6 7 8 9'</span>), BPMlist);
2158 plot(t, 1000 * BPMx(i,:));
2159 grid on;
2160 ylabel(<span class="string">'Arc Sector X [\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2161 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2162 axis([0 xmax -50 50]);
2163 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2164 
2165 subplot(4,1,3);
2166 i = findrowindex(<a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>, <span class="string">'BPMy'</span>, <span class="string">'1 10 11 12'</span>), BPMlist);
2167 plot(t, 1000 * BPMy(i,:));
2168 grid on;
2169 ylabel(<span class="string">'Straight Y [\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2170 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2171 axis([0 xmax -25 25]);
2172 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2173 
2174 subplot(4,1,4);
2175 i = findrowindex(<a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>, <span class="string">'BPMy'</span>, <span class="string">'2 3 4 5 6 7 8 9'</span>), BPMlist);
2176 plot(t, 1000 * BPMy(i,:));
2177 grid on;
2178 ylabel(<span class="string">'Arc Sector Y [\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2179 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2180 axis([0 xmax -25 25]);
2181 
2182 xlabel(xlabelstring);
2183 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2184 yaxesposition(1.20);
2185 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2186 orient tall
2187 
2188 
2189 <span class="comment">% Plot verses s-position</span>
2190 FigNum = FigNum + 1;
2191 h = figure(FigNum);
2192 subfig(1,1,1, h);
2193 <span class="comment">%p = get(h, 'Position');</span>
2194 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2195 clf reset;
2196 
2197 subplot(2,1,1);
2198 plot(BPMxPos, 1000*BPMx);
2199 grid on;
2200 ylabel(<span class="string">'BPMx [\mum]'</span>);
2201 title([<span class="string">'Bergoz BPMs: '</span>,titleStr]);
2202 axis tight;
2203 yaxis([-75 75]);
2204 hold on;
2205 drawlattice(60,10);
2206 xaxis([0 getfamilydata(<span class="string">'Circumference'</span>)]);
2207 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2208 
2209 subplot(2,1,2);
2210 plot(BPMyPos, 1000*BPMy);
2211 grid on;
2212 ylabel(<span class="string">'BPMy [\mum]'</span>);
2213 axis tight;
2214 yaxis([-60 60]);
2215 hold on;
2216 drawlattice(50,7);
2217 xaxis([0 getfamilydata(<span class="string">'Circumference'</span>)]);
2218 xlabel(<span class="string">'BPM Position [meters]'</span>);
2219 
2220 yaxesposition(1.15);
2221 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2222 orient tall
2223 
2224 
2225 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
2226 <span class="comment">% BPM noise and diagnostic beamline data %</span>
2227 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
2228 FigNum = FigNum + 1;
2229 h = figure(FigNum);
2230 subfig(1,1,1, h);
2231 <span class="comment">%%p = get(h, 'Position');</span>
2232 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
2233 clf reset;
2234 
2235 subplot(5,1,1);
2236 <span class="comment">%subplot(4,1,1);</span>
2237 [ax, h1, h2] = plotyy(t, ID9BPM1xRMS, t, ID9BPM1yRMS);
2238 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}BPM_x (9,1) RMS [\mum]'</span>);
2239 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}BPM_y (9,1) RMS [\mum]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2240 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2241 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2242 grid on
2243 axes(ax(1));
2244 aa = axis;
2245 aa(1) = 0;
2246 aa(2) = xmax;
2247 axis(aa);
2248 axes(ax(2));
2249 aa = axis;
2250 aa(1) = 0;
2251 aa(2) = xmax;
2252 axis(aa);
2253 
2254 <span class="keyword">if</span> DayFlag
2255     MaxDay = round(max(t));
2256     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2257     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2258 <span class="keyword">end</span>
2259 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2260 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2261 title(sprintf(<span class="string">'RMS Orbit Motion &amp; Beam Size:  %s'</span>,titleStr));
2262 
2263 subplot(5,1,2);
2264 <span class="comment">%subplot(4,1,2);</span>
2265 [ax, h1, h2] = plotyy(t, ID9BPM2xRMS, t, ID9BPM2yRMS);
2266 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}BPM_x (9,2) RMS [\mum]'</span>);
2267 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}BPM_y (9,2) RMS [\mum]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2268 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2269 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2270 grid on
2271 axes(ax(1));
2272 aa = axis;
2273 aa(1) = 0;
2274 aa(2) = xmax;
2275 axis(aa);
2276 axes(ax(2));
2277 aa = axis;
2278 aa(1) = 0;
2279 aa(2) = xmax;
2280 axis(aa);
2281 <span class="keyword">if</span> DayFlag
2282     MaxDay = round(max(t));
2283     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2284     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2285 <span class="keyword">end</span>
2286 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2287 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2288 
2289 
2290 subplot(5,1,3);
2291 <span class="comment">% subplot(4,1,3);</span>
2292 [ax, h1, h2] = plotyy(t, SigX/2.0, t, SigY/2.0);
2293 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'\fontsize{14}\sigma_x \fontsize{10}BL 3.1 [\mum]'</span>,<span class="string">' (spiricon)'</span>});
2294 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'\fontsize{14}\sigma_y \fontsize{10}BL 3.1 [\mum]'</span>,<span class="string">' (spiricon)'</span>}, <span class="string">'Color'</span>, RightGraphColor);
2295 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2296 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2297 grid on
2298 axes(ax(1));
2299 aa = axis;
2300 aa(1) = 0;
2301 aa(2) = xmax;
2302 aa(3) = 40;
2303 aa(4) = 80;
2304 set(ax(1),<span class="string">'YTick'</span>,[40:10:80]');
2305 set(ax(2),<span class="string">'YTick'</span>,[40:10:80]');
2306 axis(aa);
2307 axes(ax(2));
2308 aa = axis;
2309 aa(1) = 0;
2310 aa(2) = xmax;
2311 aa(3) = 40;
2312 aa(4) = 80;
2313 set(ax(1),<span class="string">'YTick'</span>,[40:10:80]');
2314 set(ax(2),<span class="string">'YTick'</span>,[40:10:80]');
2315 axis(aa);
2316 <span class="keyword">if</span> DayFlag
2317     MaxDay = round(max(t));
2318     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2319     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2320 <span class="keyword">end</span>
2321 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2322 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2323 
2324 subplot(5,1,4);
2325 <span class="comment">%subplot(4,1,3);</span>
2326 [ax, h1, h2] = plotyy(t, SigX31, t, SigY31);
2327 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'\fontsize{14}\sigma_x \fontsize{10}BL 3.1 [\mum]'</span>,<span class="string">' (not spiricon)'</span>});
2328 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'\fontsize{14}\sigma_y \fontsize{10}BL 3.1 [\mum]'</span>,<span class="string">' (not spiricon)'</span>}, <span class="string">'Color'</span>, RightGraphColor);
2329 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2330 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2331 grid on
2332 axes(ax(1));
2333 aa = axis;
2334 aa(1) = 0;
2335 aa(2) = xmax;
2336 aa(3) = 40;
2337 aa(4) = 80;
2338 set(ax(1),<span class="string">'YTick'</span>,[40:10:80]');
2339 set(ax(2),<span class="string">'YTick'</span>,[40:10:80]');
2340 axis(aa);
2341 axes(ax(2));
2342 aa = axis;
2343 aa(1) = 0;
2344 aa(2) = xmax;
2345 aa(3) = 40;
2346 aa(4) = 80;
2347 set(ax(1),<span class="string">'YTick'</span>,[40:10:80]');
2348 set(ax(2),<span class="string">'YTick'</span>,[40:10:80]');
2349 axis(aa);
2350 <span class="keyword">if</span> DayFlag
2351     MaxDay = round(max(t));
2352     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2353     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2354 <span class="keyword">end</span>
2355 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2356 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2357 
2358 subplot(5,1,5);
2359 <span class="comment">%subplot(4,1,4);</span>
2360 [ax, h1, h2] = plotyy(t, SigX72, t, SigY72);
2361 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{14}\sigma_x\fontsize{10} BL 7.2 [\mum]'</span>);
2362 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{14}\sigma_y\fontsize{10} BL 7.2 [\mum]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2363 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2364 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2365 grid on
2366 axes(ax(1));
2367 <span class="comment">%aa = axis;</span>
2368 aa = [0 xmax 100 140];
2369 axis(aa);
2370 axes(ax(2));
2371 <span class="comment">%aa = axis;</span>
2372 aa = [0 xmax 20 60];
2373 set(ax(1),<span class="string">'YTick'</span>,[100:10:140]');
2374 set(ax(2),<span class="string">'YTick'</span>,[20:10:60]');
2375 axis(aa);
2376 <span class="keyword">if</span> DayFlag
2377     MaxDay = round(max(t));
2378     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2379     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2380 <span class="keyword">end</span>
2381 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2382 <span class="comment">%set(ax(2),'XTickLabel','');</span>
2383 xlabel(xlabelstring);
2384 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2385 
2386 yaxesposition(1.15);
2387 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2388 
2389 orient tall
2390 
2391 
2392 
2393 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
2394 <span class="comment">% Storage ring air &amp; water temperature %</span>
2395 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
2396 FigNum = FigNum + 1;
2397 h = figure(FigNum);
2398 subfig(1,1,1, h);
2399 <span class="comment">%%p = get(h, 'Position');</span>
2400 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2401 clf reset;
2402 
2403 subplot(7,1,1);
2404 plot(t,TC7_1, t,TC7_2, t,TC8_1, t,TC8_2, t,TC9_1, t,TC9_2, t,TC10_1, t,TC10_2, t,TC12_1, t,TC12_2);
2405 <span class="comment">%legend('TC7,1','TC7,2','TC8,1','TC8,2','TC9,1','TC9,2','TC10,1','TC10,2','TC12,1','TC12,2',-1);</span>
2406 <span class="comment">%grid on</span>
2407 title([<span class="string">'Storage Ring Air and LCW Temperature [C]: '</span>, titleStr]);
2408 ylabel({<span class="string">'ID Backing'</span>,<span class="string">'Beam'</span>}, <span class="string">'Color'</span>, LeftGraphColor);
2409 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2410 axis tight;
2411 axisvals = axis;
2412 yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
2413 xaxis([0 xmax]);
2414 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2415 
2416 subplot(7,1,2);
2417 plot(t,TC7_3, t,TC7_4, t,TC8_3, t,TC8_4, t,TC9_3, t,TC9_4, t,TC10_3, t,TC10_4, t,TC12_3, t,TC12_4);
2418 <span class="comment">%grid on</span>
2419 <span class="comment">%set(gca,'YAxisLocation','Right');</span>
2420 <span class="comment">%legend('TC7,3','TC7,4','TC8,3','TC8,4','TC9,3','TC9,4','TC10,3','TC10,4','TC12,3','TC12,4',-1);</span>
2421 ylabel(<span class="string">'ID Housing'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2422 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2423 axis tight;
2424 axisvals = axis;
2425 yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
2426 xaxis([0 xmax]);
2427 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2428 
2429 subplot(7,1,3);
2430 plot(t,TCSR01, t,TCSR02, t,TCSR03, t,TCSR04, t,TCSR05, t,TCSR06, t,TCSR07, t,TCSR08, t,TCSR09, t,TCSR11, t,TCSR12);
2431 <span class="comment">%legend('TCSR01','TCSR02','TCSR03','TCSR04','TCSR05','TCSR06','TCSR07','TCSR08','TCSR09','TCSR11','TCSR12',3);</span>
2432 <span class="comment">%grid on</span>
2433 ylabel(<span class="string">'SR Air'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2434 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2435 axis tight;
2436 axisvals = axis;
2437 <span class="comment">%yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);</span>
2438 yaxis([21 axisvals(4)+0.1]);
2439 xaxis([0 xmax]);
2440 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2441 
2442 <span class="comment">% subplot(7,1,4);</span>
2443 <span class="comment">% plot(t,mean([TC7_3;TC7_4;TC8_3;TC8_4;TC9_3;TC9_4;TC10_3;TC10_4;TC12_3;TC12_4]),'b-.'); hold on;</span>
2444 <span class="comment">% plot(t,mean([TC7_1;TC7_2;TC8_1;TC8_2;TC9_1;TC9_2;TC10_1;TC10_2;TC12_1;TC12_2]),'m-');</span>
2445 <span class="comment">% plot(t, TCSRAVG,'r');</span>
2446 <span class="comment">% ylabel('Mean Values');</span>
2447 <span class="comment">% templeg=legend('Mean ID Housing Temp','Mean ID Beam Temp','Mean SR Air Temp',0);</span>
2448 <span class="comment">% set(templeg,'Color','none');</span>
2449 <span class="comment">% axis tight;</span>
2450 <span class="comment">% axisvals = axis;</span>
2451 <span class="comment">% yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);</span>
2452 <span class="comment">% xaxis([0 xmax]);</span>
2453 <span class="comment">% ChangeAxesLabel(t, Days, DayFlag); set(gca,'XTickLabel','');</span>
2454 
2455 subplot(7,1,4);
2456 [ax, h1, h2] = plotyy(t,TCSRAVG, t,mean([TC7_3;TC7_4;TC8_3;TC8_4;TC9_3;TC9_4;TC10_3;TC10_4;TC12_3;TC12_4]));
2457 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Mean SR Air'</span>);
2458 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Mean ID Housing'</span>, <span class="string">'Color'</span>, RightGraphColor);
2459 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2460 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2461 grid on
2462 axes(ax(1));
2463 aa = axis;
2464 aa(1) = 0;
2465 aa(2) = xmax;
2466 axis(aa);
2467 axes(ax(2));
2468 aa = axis;
2469 aa(1) = 0;
2470 aa(2) = xmax;
2471 axis(aa);
2472 <span class="keyword">if</span> DayFlag
2473     MaxDay = round(max(t));
2474     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2475     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2476 <span class="keyword">end</span>
2477 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2478 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2479 
2480 subplot(7,1,5);
2481 plot(t,AHUT01, t,AHUT03, t,AHUT04, t,AHUT06, t,AHUT07, t,AHUT08, t,AHUT09, t,AHUT11);
2482 ylabel(<span class="string">'SR AHU Air'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2483 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2484 axis tight;
2485 axisvals = axis;
2486 yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
2487 xaxis([0 xmax]);
2488 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2489 
2490 subplot(7,1,6);
2491 [ax, h1, h2] = plotyy(t,CWTemp, t,WVSRM);
2492 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Chilled H_2 0'</span>);
2493 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'AHU H_2 0 Valves [%]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2494 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2495 set(ax, <span class="string">'YTickMode'</span>, <span class="string">'Auto'</span>);
2496 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2497 axes(ax(1));
2498 axis tight;
2499 aa = axis;
2500 aa(1) = 0;
2501 aa(2) = xmax;
2502 aa(3) = aa(3)-0.5;
2503 aa(4) = aa(4)+0.5;
2504 axis(aa);
2505 axes(ax(2));
2506 aa = axis;
2507 aa(1) = 0;
2508 aa(2) = xmax;
2509 axis(aa);
2510 <span class="comment">%axisvals = axis;</span>
2511 <span class="comment">%yaxis([axisvals(3)-.5 axisvals(4)+.5]);</span>
2512 grid on
2513 <span class="keyword">if</span> DayFlag
2514     MaxDay = round(max(t));
2515     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2516     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2517 <span class="keyword">end</span>
2518 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2519 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2520 
2521 subplot(7,1,7);
2522 plot(t, lcw, <span class="string">'b'</span>); grid on;
2523 ylabel({<span class="string">'LCW'</span>,<span class="string">'(SR03 Sensor)'</span>}, <span class="string">'Color'</span>, LeftGraphColor);
2524 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2525 axis tight
2526 xaxis([0 xmax]);
2527 xlabel(xlabelstring);
2528 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2529 
2530 yaxesposition(1.15);
2531 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2532 orient tall
2533 
2534 
2535 <span class="comment">% Hill and water temperatures</span>
2536 FigNum = FigNum + 1;
2537 h = figure(FigNum);
2538 subfig(1,1,1, h);
2539 <span class="comment">%p = get(h, 'Position');</span>
2540 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2541 clf reset;
2542 
2543 subplot(5,1,1);
2544 [ax, h1, h2] = plotyy(t,RingLCWSupPx, t,RingLCWRetPx);
2545 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'Ring LCW [PSI]'</span>,<span class="string">' '</span>,<span class="string">'Px_{supply}'</span>});
2546 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'Ring LCW [PSI]'</span>,<span class="string">' '</span>,<span class="string">'Px_{return}'</span>}, <span class="string">'Color'</span>, RightGraphColor);
2547 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2548 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2549 grid on
2550 axes(ax(1));
2551 aa = axis;
2552 aa(1) = 0;
2553 aa(2) = xmax;
2554 axis(aa);
2555 axes(ax(2));
2556 aa = axis;
2557 aa(1) = 0;
2558 aa(2) = xmax;
2559 axis(aa);
2560 <span class="comment">%axisvals = axis;</span>
2561 <span class="comment">%yaxis([axisvals(3)-.5 axisvals(4)+.5]);</span>
2562 <span class="keyword">if</span> DayFlag
2563     MaxDay = round(max(t));
2564     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2565     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2566 <span class="keyword">end</span>
2567 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2568 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2569 
2570 title([<span class="string">'Cooling Water Parameters: '</span>,titleStr]);
2571 
2572 
2573 subplot(5,1,2);
2574 [ax, h1, h2] = plotyy(t,LCWSupPx, t,RingLCWRetPx);
2575 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'Tower [PSI]'</span>,<span class="string">' '</span>,<span class="string">'Px_{supply}'</span>});
2576 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'Tower [PSI]'</span>,<span class="string">' '</span>,<span class="string">'Px_{return}'</span>}, <span class="string">'Color'</span>, RightGraphColor);
2577 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2578 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2579 grid on
2580 axes(ax(1));
2581 aa = axis;
2582 aa(1) = 0;
2583 aa(2) = xmax;
2584 axis(aa);
2585 axes(ax(2));
2586 aa = axis;
2587 aa(1) = 0;
2588 aa(2) = xmax;
2589 axis(aa);
2590 <span class="keyword">if</span> DayFlag
2591     MaxDay = round(max(t));
2592     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2593     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2594 <span class="keyword">end</span>
2595 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2596 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2597 
2598 subplot(5,1,3);
2599 [ax, h1, h2] = plotyy(t,WBasinTemp, t,EBasinTemp);
2600 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}W.Basin (chiller) \fontsize{10}[C]'</span>);
2601 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}E.Basin (LCW) \fontsize{10}[C]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2602 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2603 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2604 grid on
2605 axes(ax(1));
2606 aa = axis;
2607 aa(1) = 0;
2608 aa(2) = xmax;
2609 axis(aa);
2610 axes(ax(2));
2611 aa = axis;
2612 aa(1) = 0;
2613 aa(2) = xmax;
2614 axis(aa);
2615 <span class="keyword">if</span> DayFlag
2616     MaxDay = round(max(t));
2617     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2618     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2619 <span class="keyword">end</span>
2620 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2621 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2622 
2623 
2624 subplot(5,1,4);
2625 [ax, h1, h2] = plotyy(t,LCWSupTemp, t,LCWRetTemp);
2626 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'LCW_{supply} [C]'</span>);
2627 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'LCW_{return} [C]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2628 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2629 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2630 grid on
2631 axes(ax(1));
2632 aa = axis;
2633 aa(1) = 0;
2634 aa(2) = xmax;
2635 axis(aa);
2636 axes(ax(2));
2637 aa = axis;
2638 aa(1) = 0;
2639 aa(2) = xmax;
2640 axis(aa);
2641 <span class="keyword">if</span> DayFlag
2642     MaxDay = round(max(t));
2643     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2644     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2645 <span class="keyword">end</span>
2646 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2647 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2648 
2649 
2650 subplot(5,1,5);
2651 plot(t, lcw, <span class="string">'b'</span>); grid on;
2652 ylabel({<span class="string">'LCW [C]'</span>,<span class="string">'(SR03 Sensor)'</span>}, <span class="string">'Color'</span>, LeftGraphColor);
2653 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2654 xaxis([0 xmax]);
2655 
2656 xlabel(xlabelstring);
2657 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2658 
2659 yaxesposition(1.15);
2660 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2661 orient tall
2662 
2663 
2664 FigNum = FigNum + 1;
2665 h = figure(FigNum);
2666 subfig(1,1,1, h);
2667 <span class="comment">%p = get(h, 'Position');</span>
2668 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2669 clf reset;
2670 
2671 subplot(6,1,1);
2672 [ax, h1, h2] = plotyy(t,TC7_3, t,TC7_4);
2673 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR07 Aisle'</span>);
2674 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR07 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2675 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2676 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2677 grid on
2678 axes(ax(1));
2679 aa = axis;
2680 aa(1) = 0;
2681 aa(2) = xmax;
2682 axis(aa);
2683 axes(ax(2));
2684 aa = axis;
2685 aa(1) = 0;
2686 aa(2) = xmax;
2687 axis(aa);
2688 <span class="keyword">if</span> DayFlag
2689     MaxDay = round(max(t));
2690     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2691     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2692 <span class="keyword">end</span>
2693 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2694 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2695 title([<span class="string">'Storage Ring Air Temperature at the Insertion Devices [C]: '</span>, titleStr]);
2696 
2697 subplot(6,1,2);
2698 [ax, h1, h2] = plotyy(t,TC8_3, t,TC8_4);
2699 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR08 Aisle'</span>);
2700 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR08 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2701 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2702 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2703 grid on
2704 axes(ax(1));
2705 aa = axis;
2706 aa(1) = 0;
2707 aa(2) = xmax;
2708 axis(aa);
2709 axes(ax(2));
2710 aa = axis;
2711 aa(1) = 0;
2712 aa(2) = xmax;
2713 axis(aa);
2714 <span class="keyword">if</span> DayFlag
2715     MaxDay = round(max(t));
2716     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2717     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2718 <span class="keyword">end</span>
2719 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2720 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2721 
2722 
2723 subplot(6,1,3);
2724 [ax, h1, h2] = plotyy(t,TC9_3, t,TC9_4);
2725 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR09 Aisle'</span>);
2726 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR09 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2727 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2728 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2729 grid on
2730 axes(ax(1));
2731 aa = axis;
2732 aa(1) = 0;
2733 aa(2) = xmax;
2734 axis(aa);
2735 axes(ax(2));
2736 aa = axis;
2737 aa(1) = 0;
2738 aa(2) = xmax;
2739 axis(aa);
2740 <span class="keyword">if</span> DayFlag
2741     MaxDay = round(max(t));
2742     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2743     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2744 <span class="keyword">end</span>
2745 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2746 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2747 
2748 
2749 subplot(6,1,4);
2750 [ax, h1, h2] = plotyy(t,TC10_3, t,TC10_4);
2751 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR10 Aisle'</span>);
2752 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR10 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2753 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2754 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2755 grid on
2756 axes(ax(1));
2757 aa = axis;
2758 aa(1) = 0;
2759 aa(2) = xmax;
2760 axis(aa);
2761 axes(ax(2));
2762 aa = axis;
2763 aa(1) = 0;
2764 aa(2) = xmax;
2765 axis(aa);
2766 <span class="keyword">if</span> DayFlag
2767     MaxDay = round(max(t));
2768     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2769     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2770 <span class="keyword">end</span>
2771 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2772 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2773 
2774 
2775 subplot(6,1,5);
2776 [ax, h1, h2] = plotyy(t,TC12_3, t,TC12_4);
2777 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR12 Aisle'</span>);
2778 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR12 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2779 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2780 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2781 grid on
2782 axes(ax(1));
2783 aa = axis;
2784 aa(1) = 0;
2785 aa(2) = xmax;
2786 axis(aa);
2787 axes(ax(2));
2788 aa = axis;
2789 aa(1) = 0;
2790 aa(2) = xmax;
2791 axis(aa);
2792 <span class="keyword">if</span> DayFlag
2793     MaxDay = round(max(t));
2794     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2795     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2796 <span class="keyword">end</span>
2797 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2798 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2799 
2800 
2801 subplot(6,1,6);
2802 plot(t,mean([TC7_3;TC7_4;TC8_3;TC8_4;TC9_3;TC9_4;TC10_3;TC10_4;TC12_3;TC12_4]));
2803 ylabel(<span class="string">'Average Air'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2804 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2805 grid on
2806 xaxis([0 xmax]);
2807 
2808 xlabel(xlabelstring);
2809 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2810 
2811 yaxesposition(1.15);
2812 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2813 orient tall
2814 
2815 
2816 
2817 FigNum = FigNum + 1;
2818 h = figure(FigNum);
2819 subfig(1,1,1, h);
2820 <span class="comment">%p = get(h, 'Position');</span>
2821 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2822 clf reset;
2823 
2824 subplot(6,1,1);
2825 [ax, h1, h2] = plotyy(t,TC7_1, t,TC7_2);
2826 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR07 Upstream'</span>);
2827 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR07 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2828 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2829 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2830 grid on
2831 axes(ax(1));
2832 aa = axis;
2833 aa(1) = 0;
2834 aa(2) = xmax;
2835 axis(aa);
2836 axes(ax(2));
2837 aa = axis;
2838 aa(1) = 0;
2839 aa(2) = xmax;
2840 axis(aa);
2841 <span class="keyword">if</span> DayFlag
2842     MaxDay = round(max(t));
2843     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2844     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2845 <span class="keyword">end</span>
2846 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2847 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2848 title([<span class="string">'ID Backing Beam Temperatures [C]: '</span>,titleStr]);
2849 
2850 
2851 subplot(6,1,2);
2852 [ax, h1, h2] = plotyy(t,TC8_1, t,TC8_2);
2853 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR08 Upstream'</span>);
2854 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR08 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2855 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2856 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2857 grid on
2858 axes(ax(1));
2859 aa = axis;
2860 aa(1) = 0;
2861 aa(2) = xmax;
2862 axis(aa);
2863 axes(ax(2));
2864 aa = axis;
2865 aa(1) = 0;
2866 aa(2) = xmax;
2867 axis(aa);
2868 <span class="keyword">if</span> DayFlag
2869     MaxDay = round(max(t));
2870     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2871     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2872 <span class="keyword">end</span>
2873 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2874 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2875 
2876 subplot(6,1,3);
2877 [ax, h1, h2] = plotyy(t,TC9_1, t,TC9_2);
2878 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR09 Upstream'</span>);
2879 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR09 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2880 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2881 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2882 grid on
2883 axes(ax(1));
2884 aa = axis;
2885 aa(1) = 0;
2886 aa(2) = xmax;
2887 axis(aa);
2888 axes(ax(2));
2889 aa = axis;
2890 aa(1) = 0;
2891 aa(2) = xmax;
2892 axis(aa);
2893 <span class="keyword">if</span> DayFlag
2894     MaxDay = round(max(t));
2895     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2896     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2897 <span class="keyword">end</span>
2898 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2899 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2900 
2901 subplot(6,1,4);
2902 [ax, h1, h2] = plotyy(t,TC10_1, t,TC10_2);
2903 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR10 Upstream'</span>);
2904 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR10 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2905 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2906 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2907 grid on
2908 axes(ax(1));
2909 aa = axis;
2910 aa(1) = 0;
2911 aa(2) = xmax;
2912 axis(aa);
2913 axes(ax(2));
2914 aa = axis;
2915 aa(1) = 0;
2916 aa(2) = xmax;
2917 axis(aa);
2918 <span class="keyword">if</span> DayFlag
2919     MaxDay = round(max(t));
2920     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2921     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2922 <span class="keyword">end</span>
2923 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2924 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2925 
2926 subplot(6,1,5);
2927 [ax, h1, h2] = plotyy(t,TC12_1, t,TC12_2);
2928 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR12 Upstream'</span>);
2929 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR12 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2930 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2931 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2932 grid on
2933 axes(ax(1));
2934 aa = axis;
2935 aa(1) = 0;
2936 aa(2) = xmax;
2937 axis(aa);
2938 axes(ax(2));
2939 aa = axis;
2940 aa(1) = 0;
2941 aa(2) = xmax;
2942 axis(aa);
2943 <span class="keyword">if</span> DayFlag
2944     MaxDay = round(max(t));
2945     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2946     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2947 <span class="keyword">end</span>
2948 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2949 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2950 
2951 subplot(6,1,6);
2952 plot(t,mean([TC7_3;TC7_4;TC8_3;TC8_4;TC9_3;TC9_4;TC10_3;TC10_4;TC12_3;TC12_4]));
2953 grid on;
2954 ylabel(<span class="string">'Average Air'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2955 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2956 xaxis([0 xmax]);
2957 
2958 xlabel(xlabelstring);
2959 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2960 yaxesposition(1.15);
2961 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2962 orient tall
2963 
2964 
2965 
2966 <span class="keyword">if</span> 0
2967     FigNum = FigNum + 1;
2968     h = figure(FigNum);
2969     subfig(1,1,1, h);
2970     <span class="comment">%p = get(h, 'Position');</span>
2971     <span class="comment">%set(h, 'Position', FigurePosition);</span>
2972     clf reset;
2973 
2974     <span class="comment">% add (t, AHUT06) to plot when channel becomes active</span>
2975     srnum=ones(1,size(t,2));
2976     plot3(t,1*srnum,AHUT01, t,3*srnum,AHUT03, t,4*srnum,AHUT04, t,7*srnum,AHUT07, t,8*srnum,AHUT08, t,9*srnum,AHUT09, t,11*srnum,AHUT11);
2977     grid on;
2978     xlabel(xlabelstring);
2979     ylabel(<span class="string">'SR number'</span>);
2980     zlabel(sprintf(<span class="string">'SR AHU Air Temps [C]'</span>));
2981     legend(<span class="string">'SR01 AHU'</span>,<span class="string">'SR03 AHU'</span>,<span class="string">'SR04 AHU'</span>,<span class="string">'SR07 AHU'</span>,<span class="string">'SR08 AHU'</span>,<span class="string">'SR09 AHU'</span>,<span class="string">'SR11 AHU'</span>);
2982     axis tight;
2983     axis([0 xmax 1 12 13 18]);
2984     view = ([83.5,16]);
2985     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2986     setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2987     orient tall;
2988 
2989 
2990     FigNum = FigNum + 1;
2991     h = figure(FigNum);
2992     subfig(1,1,1, h);
2993     <span class="comment">%p = get(h, 'Position');</span>
2994     <span class="comment">%set(h, 'Position', FigurePosition);</span>
2995     clf reset;
2996 
2997     subplot(8,1,1)
2998     plot(t,AHUT01, t,AHUT03, t,AHUT04, t,AHUT07, t,AHUT08, t,AHUT09, t,AHUT11);
2999     xlabel(xlabelstring);
3000     ylabel(sprintf(<span class="string">'SR AHU Air Temps [C]'</span>));
3001     legend(<span class="string">'SR01 AHU'</span>,<span class="string">'SR03 AHU'</span>,<span class="string">'SR04 AHU'</span>,<span class="string">'SR07 AHU'</span>,<span class="string">'SR08 AHU'</span>,<span class="string">'SR09 AHU'</span>,<span class="string">'SR11 AHU'</span>);
3002     axis tight;
3003     axisvals = axis;
3004     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3005     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3006 
3007     subplot(8,1,2)
3008     plot(t,AHUT01);
3009     ylabel(sprintf(<span class="string">'SR01 AHU Air Temp [C]'</span>));
3010     axis tight;
3011     <span class="comment">%axisvals = axis;</span>
3012     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3013     <span class="comment">%yaxis([13 17]);</span>
3014     xaxis([0 xmax]);
3015     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3016 
3017     subplot(8,1,3)
3018     plot(t,AHUT03);
3019     ylabel(sprintf(<span class="string">'SR03 AHU Air Temp [C]'</span>));
3020     axis tight;
3021     <span class="comment">%axisvals = axis;</span>
3022     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3023     <span class="comment">%yaxis([13 17]);</span>
3024     xaxis([0 xmax]);
3025     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3026 
3027     subplot(8,1,4)
3028     plot(t,AHUT04);
3029     ylabel(sprintf(<span class="string">'SR04 AHU Air Temp [C]'</span>));
3030     axis tight;
3031     <span class="comment">%axisvals = axis;</span>
3032     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3033     <span class="comment">%yaxis([13 17]);</span>
3034     xaxis([0 xmax]);
3035     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3036 
3037     subplot(8,1,5)
3038     plot(t,AHUT07);
3039     ylabel(sprintf(<span class="string">'SR07 AHU Air Temp [C]'</span>));
3040     axis tight;
3041     <span class="comment">%axisvals = axis;</span>
3042     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3043     <span class="comment">%yaxis([13 17]);</span>
3044     xaxis([0 xmax]);
3045     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3046 
3047     subplot(8,1,6)
3048     plot(t,AHUT08);
3049     ylabel(sprintf(<span class="string">'SR08 AHU Air Temp [C]'</span>));
3050     axis tight;
3051     <span class="comment">%axisvals = axis;</span>
3052     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3053     <span class="comment">%yaxis([13 17]);</span>
3054     xaxis([0 xmax]);
3055     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3056 
3057     subplot(8,1,7)
3058     plot(t,AHUT09);
3059     ylabel(sprintf(<span class="string">'SR09 AHU Air Temp [C]'</span>));
3060     axis tight;
3061     <span class="comment">%axisvals = axis;</span>
3062     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3063     <span class="comment">%yaxis([13 17]);</span>
3064     xaxis([0 xmax]);
3065     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3066 
3067     subplot(8,1,8)
3068     plot(t,AHUT11);
3069     ylabel(sprintf(<span class="string">'SR11 AHU Air Temp [C]'</span>));
3070     axis tight;
3071     <span class="comment">%axisvals = axis;</span>
3072     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3073     <span class="comment">%yaxis([13 17]);</span>
3074     xaxis([0 xmax]);
3075     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3076     orient tall;
3077 
3078 
3079     FigNum = FigNum + 1;
3080     h = figure(FigNum);
3081     subfig(1,1,1, h);
3082     <span class="comment">%p = get(h, 'Position');</span>
3083     <span class="comment">%set(h, 'Position', FigurePosition);</span>
3084     clf reset;
3085 
3086     subplot(2,1,1)
3087     plot(t,TCSR01, t,TCSR02, t,TCSR03, t,TCSR04, t,TCSR05, t,TCSR06);
3088     legend(<span class="string">'TCSR01'</span>,<span class="string">'TCSR02'</span>,<span class="string">'TCSR03'</span>,<span class="string">'TCSR04'</span>,<span class="string">'TCSR05'</span>,<span class="string">'TCSR06'</span>,3);
3089     ylabel(sprintf(<span class="string">'SR Air Temps [C]'</span>));
3090     axis tight;
3091     axisvals = axis;
3092     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3093     xaxis([0 xmax]);
3094 
3095     subplot(2,1,2)
3096     plot(t,TCSR07, t,TCSR08, t,TCSR09, t,TCSR11, t,TCSR12)
3097     legend(<span class="string">'TCSR07'</span>,<span class="string">'TCSR08'</span>,<span class="string">'TCSR09'</span>,<span class="string">'TCSR11'</span>,<span class="string">'TCSR12'</span>,3);
3098     ylabel(sprintf(<span class="string">'SR Air Temps [C]'</span>));
3099     axis tight;
3100     axisvals = axis;
3101     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3102     xaxis([0 xmax]);
3103     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3104 
3105     yaxesposition(1.15);
3106     setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3107     orient tall
3108 <span class="keyword">end</span>
3109 
3110 
3111 
3112 <span class="comment">%%%%%%%%%%%%%%%%%%</span>
3113 <span class="comment">% RF Cavity Plot %</span>
3114 <span class="comment">%%%%%%%%%%%%%%%%%%</span>
3115 FigNum = FigNum + 1;
3116 h = figure(FigNum);
3117 subfig(1,1,1, h);
3118 <span class="comment">%p = get(h, 'Position');</span>
3119 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3120 clf reset;
3121 
3122 subplot(2,1,1);
3123 plot(t, C1TEMP,<span class="string">'b'</span>, t, C2TEMP,<span class="string">'-r'</span>);
3124 grid on;
3125 ylabel(<span class="string">'Temperature [C]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3126 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3127 legend(<span class="string">'RF Cavity #1 '</span>, <span class="string">'RF Cavity #2'</span>, 0);
3128 title([<span class="string">'Storage Ring RF Parameters: '</span>,titleStr]);
3129 axis tight;
3130 xaxis([0 xmax]);
3131 yaxis([35 52]);
3132 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3133 
3134 subplot(2,1,2);
3135 [ax, h1, h2] = plotyy(t, HPcounter, t, hqmofm);
3136 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'RF Frequency (HP Counter) [MHz]'</span>);
3137 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\Delta f_{RF} (Synthesizer Input) [Hz]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3138 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3139 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3140 grid on
3141 axes(ax(1));
3142 aa = axis;
3143 aa(1) = 0;
3144 aa(2) = xmax;
3145 axis(aa);
3146 axes(ax(2));
3147 aa = axis;
3148 aa(1) = 0;
3149 aa(2) = xmax;
3150 axis(aa);
3151 <span class="keyword">if</span> DayFlag
3152     MaxDay = round(max(t));
3153     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3154     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3155 <span class="keyword">end</span>
3156 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3157 <span class="comment">%set(ax(2),'XTickLabel','');</span>
3158 xlabel(xlabelstring);
3159 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3160 
3161 <span class="comment">% subplot(3,1,3);</span>
3162 <span class="comment">% plot(t, hqmofm,'-m'); grid on;</span>
3163 <span class="comment">% xlabel(xlabelstring);</span>
3164 <span class="comment">% ylabel('\Delta f_{RF} [Hz]');</span>
3165 <span class="comment">% legend('FM input user synthesizer');</span>
3166 <span class="comment">% axis tight;</span>
3167 <span class="comment">% xaxis([0 xmax]);</span>
3168 
3169 yaxesposition(1.15);
3170 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3171 orient tall
3172 
3173 
3174 <span class="comment">%%%%%%%%%%%%%%%</span>
3175 <span class="comment">% BR RF Plots %</span>
3176 <span class="comment">%%%%%%%%%%%%%%%</span>
3177 FigNum = FigNum + 1;
3178 h = figure(FigNum);
3179 subfig(1,1,1, h);
3180 <span class="comment">%p = get(h, 'Position');</span>
3181 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3182 clf reset;
3183 
3184 subplot(5,1,1);
3185 <span class="comment">%[ax, h1, h2] = plotyy(t,[Power_RF_fwd; Power_RF_ref], t,Power_drive);</span>
3186 <span class="comment">%set(get(ax(1),'Ylabel'), 'String', sprintf('Fwd Pwr and Ref [%%]'), 'Color', LeftGraphColor);</span>
3187 [ax, h1, h2] = plotyy(t,Power_RF_fwd, t,Power_drive);
3188 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, sprintf(<span class="string">'Fwd Pwr [%%]'</span>), <span class="string">'Color'</span>, LeftGraphColor);
3189 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Pwr Drive [W]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3190 set(ax(1), <span class="string">'YColor'</span>, LeftGraphColor);
3191 set(h1, <span class="string">'Color'</span>, LeftGraphColor);
3192 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3193 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3194 grid on
3195 axes(ax(1));
3196 aa = axis;
3197 aa(1) = 0;
3198 aa(2) = xmax;
3199 axis(aa);
3200 axes(ax(2));
3201 aa = axis;
3202 aa(1) = 0;
3203 aa(2) = xmax;
3204 axis(aa);
3205 <span class="keyword">if</span> DayFlag
3206     MaxDay = round(max(t));
3207     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3208     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3209 <span class="keyword">end</span>
3210 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3211 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3212 title([<span class="string">'Booster RF Plots: '</span>, titleStr]);
3213 
3214 subplot(5,1,2);
3215 <span class="comment">%[ax, h1, h2] = plotyy(t,[HV_setpoint; Beam_volts], t,[Beam_current; Body_Current]);</span>
3216 [ax, h1, h2] = plotyy(t,[HV_setpoint; Beam_volts], t,Beam_current);
3217 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Beam HV SP and AM [kV]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3218 <span class="comment">%set(get(ax(2),'Ylabel'), 'String', 'Beam and Body I [A]', 'Color', RightGraphColor);</span>
3219 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Beam I [A]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3220 set(ax(1), <span class="string">'YColor'</span>, LeftGraphColor);
3221 set(h1, <span class="string">'Color'</span>, LeftGraphColor);
3222 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3223 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3224 grid on
3225 axes(ax(1));
3226 aa = axis;
3227 aa(1) = 0;
3228 aa(2) = xmax;
3229 axis(aa);
3230 axes(ax(2));
3231 aa = axis;
3232 aa(1) = 0;
3233 aa(2) = xmax;
3234 axis(aa);
3235 <span class="keyword">if</span> DayFlag
3236     MaxDay = round(max(t));
3237     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3238     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3239 <span class="keyword">end</span>
3240 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3241 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3242 
3243 subplot(5,1,3);
3244 [ax, h1, h2] = plotyy(t,Bias_volts, t,Bias_current);
3245 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Bias V [V]'</span>);
3246 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Bias I [mA]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3247 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3248 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3249 grid on
3250 axes(ax(1));
3251 aa = axis;
3252 aa(1) = 0;
3253 aa(2) = xmax;
3254 aa(3) = aa(3)+0.5;
3255 aa(4) = aa(4)+0.5;
3256 axis(aa);
3257 axes(ax(2));
3258 axis tight
3259 aa = axis;
3260 aa(1) = 0;
3261 aa(2) = xmax;
3262 <span class="comment">%aa(4) = -aa(3);</span>
3263 axis(aa);
3264 <span class="keyword">if</span> DayFlag
3265     MaxDay = round(max(t));
3266     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3267     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3268 <span class="keyword">end</span>
3269 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3270 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3271 
3272 subplot(5,1,4);
3273 [ax, h1, h2] = plotyy(t,Heater_Voltage, t,Heater_current);
3274 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Htr V [V]'</span>);
3275 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Htr I [A]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3276 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3277 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3278 grid on
3279 axes(ax(1));
3280 aa = axis;
3281 aa(1) = 0;
3282 aa(2) = xmax;
3283 axis(aa);
3284 axes(ax(2));
3285 aa = axis;
3286 aa(1) = 0;
3287 aa(2) = xmax;
3288 axis(aa);
3289 <span class="keyword">if</span> DayFlag
3290     MaxDay = round(max(t));
3291     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3292     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3293 <span class="keyword">end</span>
3294 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3295 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3296 
3297 subplot(5,1,5);
3298 [ax, h1, h2] = plotyy(t,Focus_voltage, t,Focus_current);
3299 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Focus V [V]'</span>);
3300 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Focus I [A]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3301 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3302 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3303 grid on
3304 axes(ax(1));
3305 aa = axis;
3306 aa(1) = 0;
3307 aa(2) = xmax;
3308 aa(3) = 4.0;
3309 aa(4) = 4.5;
3310 axis(aa);
3311 axes(ax(2));
3312 aa = axis;
3313 aa(1) = 0;
3314 aa(2) = xmax;
3315 axis(aa);
3316 <span class="keyword">if</span> DayFlag
3317     MaxDay = round(max(t));
3318     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3319     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3320 <span class="keyword">end</span>
3321 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3322 <span class="comment">% set(ax(2),'XTickLabel','');</span>
3323 
3324 xlabel(xlabelstring);
3325 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3326 
3327 yaxesposition(1.15);
3328 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3329 orient tall
3330 
3331 
3332 FigNum = FigNum + 1;
3333 h = figure(FigNum);
3334 subfig(1,1,1, h);
3335 <span class="comment">%p = get(h, 'Position');</span>
3336 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3337 clf reset;
3338 
3339 subplot(4,1,1);
3340 [ax, h1, h2] = plotyy(t,VacIon_voltage, t,VacIon_current);
3341 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'IonPump V [kV]'</span>);
3342 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'IonPump I [ \muA]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3343 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3344 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3345 grid on
3346 axes(ax(1));
3347 aa = axis;
3348 aa(1) = 0;
3349 aa(2) = xmax;
3350 axis(aa);
3351 axes(ax(2));
3352 aa = axis;
3353 aa(1) = 0;
3354 aa(2) = xmax;
3355 axis(aa);
3356 <span class="keyword">if</span> DayFlag
3357     MaxDay = round(max(t));
3358     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3359     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3360 <span class="keyword">end</span>
3361 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3362 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3363 title([<span class="string">'Booster RF Plots: '</span>, titleStr]);
3364 
3365 subplot(4,1,2);
3366 [ax, h1, h2] = plotyy(t,Thy_Grid1_volts, t,Thy_Grid2_volts);
3367 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Thy Grid1 V [V]'</span>);
3368 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Thy Grid2 V [V]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3369 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3370 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3371 grid on
3372 axes(ax(1));
3373 aa = axis;
3374 aa(1) = 0;
3375 aa(2) = xmax;
3376 aa(3) = aa(3)+0.5;
3377 aa(4) = aa(4)+0.5;
3378 axis(aa);
3379 axes(ax(2));
3380 aa = axis;
3381 aa(1) = 0;
3382 aa(2) = xmax;
3383 axis(aa);
3384 <span class="keyword">if</span> DayFlag
3385     MaxDay = round(max(t));
3386     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3387     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3388 <span class="keyword">end</span>
3389 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3390 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3391 
3392 subplot(4,1,3);
3393 [ax, h1, h2] = plotyy(t,Thy_heater_volts, t,Thy_heater_current);
3394 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Thy Htr V [V]'</span>);
3395 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Thy Htr I [A]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3396 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3397 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3398 grid on
3399 axes(ax(1));
3400 aa = axis;
3401 aa(1) = 0;
3402 aa(2) = xmax;
3403 axis(aa);
3404 axes(ax(2));
3405 aa = axis;
3406 aa(1) = 0;
3407 aa(2) = xmax;
3408 axis(aa);
3409 <span class="keyword">if</span> DayFlag
3410     MaxDay = round(max(t));
3411     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3412     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3413 <span class="keyword">end</span>
3414 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3415 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3416 
3417 subplot(4,1,4);
3418 plot(t,Temp_HV_enclose,<span class="string">'b'</span>, t,Temp_IOT_enclose,<span class="string">'r'</span>, t,Temp_IOT_cooling, <span class="string">'g'</span>, t,Temp_ceramic_output,<span class="string">'m'</span>);
3419 legend(<span class="string">'HV Enclosure Temp'</span>,<span class="string">'IOT Enclosure Temp'</span>,<span class="string">'IOT Cooling Temp'</span>,<span class="string">'Ceramic Output Temp'</span>,<span class="string">'Location'</span>,<span class="string">'NorthWest'</span>);
3420 legend(gca,<span class="string">'boxoff'</span>)
3421 set(get(gca,<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'[deg C]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3422 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3423 grid on
3424 xaxis([0 xmax]);
3425 <span class="keyword">if</span> DayFlag
3426   MaxDay = round(max(t));
3427  set(gca,<span class="string">'XTick'</span>,[0:MaxDay]');
3428 <span class="keyword">end</span>
3429 <span class="comment">% set(ax,'XTickLabel','');</span>
3430 
3431 xlabel(xlabelstring);
3432 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3433 
3434 yaxesposition(1.15);
3435 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3436 orient tall
3437 
3438 FigNum = FigNum + 1;
3439 h = figure(FigNum);
3440 subfig(1,1,1, h);
3441 <span class="comment">%p = get(h, 'Position');</span>
3442 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3443 clf reset;
3444 
3445 subplot(4,1,1);
3446 [ax, h1, h2] = plotyy(t,BR_CLDFWD, t,BR_RFCONT);
3447 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Circulator Load Fwd Pwr [kW]'</span>);
3448 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Cavity Cell Pwr [kW]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3449 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3450 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3451 grid on
3452 axes(ax(1));
3453 aa = axis;
3454 aa(1) = 0;
3455 aa(2) = xmax;
3456 axis(aa);
3457 axes(ax(2));
3458 aa = axis;
3459 aa(1) = 0;
3460 aa(2) = xmax;
3461 axis(aa);
3462 <span class="keyword">if</span> DayFlag
3463     MaxDay = round(max(t));
3464     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3465     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3466 <span class="keyword">end</span>
3467 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3468 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3469 title([<span class="string">'Booster RF Plots: '</span>, titleStr]);
3470 
3471 subplot(4,1,2);
3472 [ax, h1, h2] = plotyy(t,BR_WGREV, t,BR_WGFWD);
3473 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Waveguide Rev Pwr [kW]'</span>);
3474 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Waveguide Fwd Pwr [kW]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3475 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3476 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3477 grid on
3478 axes(ax(1));
3479 aa = axis;
3480 aa(1) = 0;
3481 aa(2) = xmax;
3482 axis(aa);
3483 axes(ax(2));
3484 aa = axis;
3485 aa(1) = 0;
3486 aa(2) = xmax;
3487 axis(aa);
3488 <span class="keyword">if</span> DayFlag
3489     MaxDay = round(max(t));
3490     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3491     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3492 <span class="keyword">end</span>
3493 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3494 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3495 
3496 subplot(4,1,3);
3497 [ax, h1, h2] = plotyy(t,BR_PHSCON_AM, t,BR_PHSCON_AC);
3498 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'RF Phase AM [degrees]'</span>);
3499 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'RF Phase AC [degrees]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3500 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3501 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3502 grid on
3503 axes(ax(1));
3504 aa = axis;
3505 aa(1) = 0;
3506 aa(2) = xmax;
3507 offset1 = aa(3)+0.5;
3508 offset2 = aa(4)+0.5;
3509 axis(aa);
3510 axes(ax(2));
3511 aa = axis;
3512 aa(1) = 0;
3513 aa(2) = xmax;
3514 aa(3) = offset1;
3515 aa(4) = offset2;
3516 axis(aa);
3517 <span class="keyword">if</span> DayFlag
3518     MaxDay = round(max(t));
3519     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3520     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3521 <span class="keyword">end</span>
3522 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3523 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3524 
3525 subplot(4,1,4);
3526 [ax, h1, h2] = plotyy(t,BR_TUNPOS, t,BR_TUNERR);
3527 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Tuner Position AM [cm]'</span>);
3528 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Tuner Loop Error [degrees]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3529 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3530 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3531 grid on
3532 axes(ax(1));
3533 aa = axis;
3534 aa(1) = 0;
3535 aa(2) = xmax;
3536 axis(aa);
3537 axes(ax(2));
3538 aa = axis;
3539 aa(1) = 0;
3540 aa(2) = xmax;
3541 axis(aa);
3542 <span class="keyword">if</span> DayFlag
3543     MaxDay = round(max(t));
3544     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3545     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3546 <span class="keyword">end</span>
3547 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3548 <span class="comment">% set(ax(2),'XTickLabel','');</span>
3549 
3550 xlabel(xlabelstring);
3551 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3552 
3553 yaxesposition(1.15);
3554 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3555 orient tall
3556 
3557 FigNum = FigNum + 1;
3558 h = figure(FigNum);
3559 subfig(1,1,1, h);
3560 <span class="comment">%p = get(h, 'Position');</span>
3561 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3562 clf reset;
3563 
3564 subplot(4,1,1);
3565 plot(t,BR_CAVTMP);
3566 set(get(gca,<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Cavity Temp [deg C]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3567 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3568 grid on
3569 xaxis([0 xmax]);
3570 <span class="keyword">if</span> DayFlag
3571   MaxDay = round(max(t));
3572   set(ax,<span class="string">'XTick'</span>,[0:MaxDay]');
3573 <span class="keyword">end</span>
3574 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3575 title([<span class="string">'Booster RF Plots: '</span>, titleStr]);
3576 
3577 subplot(4,1,2);
3578 plot(t,BR_LCWTMP,<span class="string">'b'</span>, t,BR_SLDTMP,<span class="string">'r'</span>, t,BR_CIRTMP,<span class="string">'g'</span>, t,BR_CLDTMP,<span class="string">'m'</span>);
3579 legend(<span class="string">'LCW Inlet Temp'</span>,<span class="string">'Switch Load Temp'</span>,<span class="string">'Circulator Temp'</span>,<span class="string">'Circulator Load Temp'</span>,<span class="string">'Location'</span>,<span class="string">'NorthWest'</span>);
3580 legend(gca,<span class="string">'boxoff'</span>)
3581 set(get(gca,<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'[deg C]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3582 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3583 grid on
3584 xaxis([0 xmax]);
3585 <span class="keyword">if</span> DayFlag
3586   MaxDay = round(max(t));
3587   set(gca,<span class="string">'XTick'</span>,[0:MaxDay]');
3588 <span class="keyword">end</span>
3589 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3590 
3591 subplot(4,1,3);
3592 plot(t,BR_CLDFLW,<span class="string">'b'</span>, t,BR_CIRFLW,<span class="string">'r'</span>, t,BR_SLDFLW,<span class="string">'g'</span>);
3593 legend(<span class="string">'Circulator Load Flow'</span>,<span class="string">'Circulator Flow'</span>,<span class="string">'Switch Load Flow'</span>,<span class="string">'Location'</span>,<span class="string">'NorthWest'</span>);
3594 legend(gca,<span class="string">'boxoff'</span>)
3595 set(get(gca,<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'[GPM]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3596 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3597 grid on
3598 xaxis([0 xmax]);
3599 yaxis([0 25]);
3600 <span class="keyword">if</span> DayFlag
3601   MaxDay = round(max(t));
3602   set(gca,<span class="string">'XTick'</span>,[0:MaxDay]');
3603 <span class="keyword">end</span>
3604 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3605 
3606 subplot(4,1,4);
3607 [ax, h1, h2] = plotyy(t,[BR_CAVFLW; BR_WINFLW], t,BR_TUNFLW);
3608 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Cavity &amp; RF Window Flow [GPM]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3609 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Tuner Flow [GPM]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3610 set(ax(1), <span class="string">'YColor'</span>, LeftGraphColor);
3611 set(h1, <span class="string">'Color'</span>, LeftGraphColor);
3612 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3613 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3614 grid on
3615 axes(ax(1));
3616 aa = axis;
3617 aa(1) = 0;
3618 aa(2) = xmax;
3619 axis(aa);
3620 axes(ax(2));
3621 aa = axis;
3622 aa(1) = 0;
3623 aa(2) = xmax;
3624 aa(3) = 1.5;
3625 aa(4) = 2.5;
3626 axis(aa);
3627 set(ax(2),<span class="string">'YTick'</span>,[1.5:0.5:2.5]');
3628 <span class="keyword">if</span> DayFlag
3629     MaxDay = round(max(t));
3630     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3631     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3632 <span class="keyword">end</span>
3633 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3634 <span class="comment">% set(ax(2),'XTickLabel','');</span>
3635 
3636 xlabel(xlabelstring);
3637 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3638 
3639 yaxesposition(1.15);
3640 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3641 orient tall
3642 
3643 
3644 <span class="keyword">if</span> 0
3645     <span class="comment">% Beamline shutters plot</span>
3646     FigNum = FigNum + 1;
3647     h = figure(FigNum);
3648     subfig(1,1,1, h);
3649     <span class="comment">%%p = get(h, 'Position');</span>
3650     <span class="comment">%%set(h, 'Position', FigurePosition);</span>
3651     clf reset;
3652 
3653     subplot(2,1,1);
3654 
3655     plot(t, dcct);
3656     <span class="comment">%grid on;</span>
3657     ylabel(<span class="string">'DCCT'</span>);
3658     title([<span class="string">'Beamline Shutters Open: '</span>,titleStr]);
3659     axis tight;
3660     axis([0 xmax 0 400]);
3661     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3662     set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3663 
3664     subplot(2,1,2);
3665     stairs(t, BL_SHUTTERS,1);
3666     <span class="comment">%grid on;</span>
3667     ylabel(<span class="string">'Shutters Open'</span>);
3668     axis([0 xmax 0 56]); <span class="comment">%55 total shutters</span>
3669     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3670     set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3671     xlabel(xlabelstring);
3672     yaxesposition(1.20);
3673     setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3674     orient tall
3675 <span class="keyword">end</span>
3676 
3677 
3678 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
3679 <a name="_sub1" href="#_subfunctions" class="code">function ChangeAxesLabel(t, Days, DayFlag)</a>
3680 xaxis([0 max(t)]);
3681 
3682 <span class="keyword">if</span> DayFlag
3683     <span class="keyword">if</span> size(Days,2) &gt; 1
3684         Days = Days'; <span class="comment">% Make a column vector</span>
3685     <span class="keyword">end</span>
3686 
3687     MaxDay = round(max(t));
3688     set(gca,<span class="string">'XTick'</span>,[0:MaxDay]');
3689     <span class="comment">%xaxis([0 MaxDay]);</span>
3690 
3691     <span class="keyword">if</span> length(Days) &lt; MaxDay-1
3692         <span class="comment">% Days were skipped</span>
3693         set(gca,<span class="string">'XTickLabel'</span>,strvcat(num2str([0:MaxDay-1]'+Days(1)),<span class="string">' '</span>));
3694     <span class="keyword">else</span>
3695         <span class="comment">% All days plotted</span>
3696         set(gca,<span class="string">'XTickLabel'</span>,strvcat(num2str(Days),<span class="string">' '</span>));
3697     <span class="keyword">end</span>
3698 
3699     XTickLabelString = get(gca,<span class="string">'XTickLabel'</span>);
3700     <span class="keyword">if</span> MaxDay &lt; 20
3701         <span class="comment">% ok</span>
3702     <span class="keyword">elseif</span> MaxDay &lt; 40
3703         set(gca,<span class="string">'XTick'</span>,[0:2:MaxDay]');
3704         set(gca,<span class="string">'XTickLabel'</span>,XTickLabelString(1:2:MaxDay-1,:));
3705     <span class="keyword">elseif</span> MaxDay &lt; 63
3706         set(gca,<span class="string">'XTick'</span>,[0:3:MaxDay]');
3707         set(gca,<span class="string">'XTickLabel'</span>,XTickLabelString(1:3:MaxDay-1,:));
3708     <span class="keyword">elseif</span> MaxDay &lt; 80
3709         set(gca,<span class="string">'XTick'</span>,[0:4:MaxDay]');
3710         set(gca,<span class="string">'XTickLabel'</span>,XTickLabelString(1:4:MaxDay-1,:));
3711     <span class="keyword">end</span>
3712 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Thu 02-Aug-2007 13:16:07 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>