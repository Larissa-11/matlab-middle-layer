<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of arplot_sr_fast</title>
  <meta name="keywords" content="arplot_sr_fast">
  <meta name="description" content="ARPLOT_SR - Plots various performance data from the ALS archiver">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="#">ALS</a> &gt; <a href="index.html">StorageRing</a> &gt; arplot_sr_fast.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for ALS\StorageRing&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>arplot_sr_fast
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>ARPLOT_SR - Plots various performance data from the ALS archiver</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function arplot_sr_fast(monthStr, days, year1, month2Str, days2, year2) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">ARPLOT_SR - Plots various performance data from the ALS archiver
  arplot_sr_fast(Month1 String, Days1, Year1, Month2 String, Days2, Year2)

  Plots a whole bunch of storage ring related archived data.
  Only plots data when feed forward is on.

  EXAMPLES
  1. arplot_sr('January',22:24,1998);
     plots data from 1/22, 1/23, and 1/24 in 1998

  2. arplot_sr('January',28:31,1998,'February',1:4,1998);
     plots data from the last 4 days in Jan. and the first 4 days in Feb.

  See also <a href="arplot.html" class="code" title="function [yout, ivecout] = arplot(ChanName, LineType);">arplot</a>, <a href="arplot_sr_report.html" class="code" title="function [FileName, DirectoryName] = arplot_sr_report(DirectoryName)">arplot_sr_report</a>, <a href="arplot_sbm.html" class="code" title="function arplot_sbm(monthStr, days, year1, month2Str, days2, year2)">arplot_sbm</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="arglobal.html" class="code" title="">arglobal</a>	Just used to make archived variables global</li><li><a href="arread.html" class="code" title="function arread(InputDate, BooleanFlag)">arread</a>	ARREAD - Loads one day of archived data into matlab global memory</li><li><a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>	ARSELECT - Return the archived data for a group on channel names</li><li><a href="gap2tune.html" class="code" title="function [Dnuy, Beff, Bmax, Lambda, IDLength, B10, B30, B50] = gap2tune(Sector, Gap, GeV, FitFlag)">gap2tune</a>	GAP2TUNE - Computes the vertical tune shift for a insertion device gap change.</li><li><a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>	GETBPMLIST - Return a BPM list based on key words and sector numbers</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function ChangeAxesLabel(t, Days, DayFlag)</a></li></ul>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function arplot_sr_fast(monthStr, days, year1, month2Str, days2, year2)</a>
0002 <span class="comment">%ARPLOT_SR - Plots various performance data from the ALS archiver</span>
0003 <span class="comment">%  arplot_sr_fast(Month1 String, Days1, Year1, Month2 String, Days2, Year2)</span>
0004 <span class="comment">%</span>
0005 <span class="comment">%  Plots a whole bunch of storage ring related archived data.</span>
0006 <span class="comment">%  Only plots data when feed forward is on.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%  EXAMPLES</span>
0009 <span class="comment">%  1. arplot_sr('January',22:24,1998);</span>
0010 <span class="comment">%     plots data from 1/22, 1/23, and 1/24 in 1998</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%  2. arplot_sr('January',28:31,1998,'February',1:4,1998);</span>
0013 <span class="comment">%     plots data from the last 4 days in Jan. and the first 4 days in Feb.</span>
0014 <span class="comment">%</span>
0015 <span class="comment">%  See also arplot, arplot_sr_report, arplot_sbm</span>
0016 
0017 <span class="comment">% Written by Greg Portmann &amp; Tom Scarvie</span>
0018 <span class="comment">%</span>
0019 <span class="comment">% Modified</span>
0020 <span class="comment">% 2001, C. Steier</span>
0021 <span class="comment">% 2002, T. Scarvie</span>
0022 <span class="comment">%</span>
0023 <span class="comment">% 2002-05-08, T.Scarvie</span>
0024 <span class="comment">%         modified to plot SR09S_IBPM1X/Y_RMS instead of SR09C_IBPM5X/Y_RMS</span>
0025 <span class="comment">%         we no longer measure IDBPM(9,5) RMS data due to change in IDBPM(9,5) electronics</span>
0026 <span class="comment">%         for now, IDBPM(9,1) and (9,2) RMS's are the ones measured</span>
0027 <span class="comment">%</span>
0028 <span class="comment">% 2004-06-14, T.Scarvie</span>
0029 <span class="comment">%       added all new curved section BPMs to plots</span>
0030 <span class="comment">%</span>
0031 <span class="comment">% 2005-07-01, G.Portmann</span>
0032 <span class="comment">%       small changes to a lot of graphs</span>
0033 <span class="comment">%</span>
0034 <span class="comment">% 2007-02-15, T.Scarvie</span>
0035 <span class="comment">%       added new BR RF plots at request of K.Baptiste</span>
0036 <span class="comment">%</span>
0037 <span class="comment">% 2007      C.Steier</span>
0038 <span class="comment">%        Did some code speedup - Caution: routine has problems if channels</span>
0039 <span class="comment">%        get added to or deleted from archiver during the time period</span>
0040 <span class="comment">%        plotted</span>
0041 
0042 
0043 LeftGraphColor = <span class="string">'b'</span>;
0044 RightGraphColor = <span class="string">'r'</span>;
0045 FFFlag = 1;
0046 
0047 
0048 <span class="comment">% Inputs</span>
0049 <span class="keyword">if</span> nargin &lt; 2
0050     error(<span class="string">'ARPLOTS:  You need at least two input arguments.'</span>);
0051 <span class="keyword">elseif</span> nargin == 2
0052     tmp = clock;
0053     year1 = tmp(1);
0054     monthStr2 = [];
0055     days2 = [];
0056     year2 = [];
0057 <span class="keyword">elseif</span> nargin == 3
0058     monthStr2 = [];
0059     days2 = [];
0060     year2 = [];
0061 <span class="keyword">elseif</span> nargin == 4
0062     error(<span class="string">'ARPLOTS:  You need 2, 3, 5, or 6 input arguments.'</span>);
0063 <span class="keyword">elseif</span> nargin == 5
0064     tmp = clock;
0065     year2 = tmp(1);
0066 <span class="keyword">elseif</span> nargin == 6
0067 <span class="keyword">else</span>
0068     error(<span class="string">'ARPLOTS:  Inputs incorrect.'</span>);
0069 <span class="keyword">end</span>
0070 
0071 
0072 <a href="arglobal.html" class="code" title="">arglobal</a>
0073 
0074 BPMlist = <a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>);
0075 GapEnableNames = family2channel(<span class="string">'ID'</span>,<span class="string">'GapEnable'</span>);
0076 BPMxNames = family2channel(<span class="string">'BPMx'</span>,BPMlist);
0077 BPMyNames = family2channel(<span class="string">'BPMy'</span>,BPMlist);
0078 BPMxPos = getspos(<span class="string">'BPMx'</span>,BPMlist);
0079 BPMyPos = getspos(<span class="string">'BPMy'</span>,BPMlist);
0080 BPMxGolden = getgolden(<span class="string">'BPMx'</span>,BPMlist);
0081 BPMyGolden = getgolden(<span class="string">'BPMy'</span>,BPMlist);
0082 
0083 ar_functions_time = 0;
0084 
0085 <span class="keyword">if</span> isempty(days2)
0086     <span class="keyword">if</span> length(days) == [1]
0087         month  = mon2num(monthStr);
0088         NumDays = length(days);
0089         StartDayStr = [monthStr, <span class="string">' '</span>, num2str(days(1)),<span class="string">', '</span>, num2str(year1)];
0090         EndDayStr =   [<span class="string">''</span>];
0091         titleStr = [StartDayStr];
0092         DirectoryDate = sprintf(<span class="string">'%d-%02d-%02d'</span>, year1, month, days(1));
0093     <span class="keyword">else</span>
0094         month  = mon2num(monthStr);
0095         NumDays = length(days);
0096         StartDayStr = [monthStr, <span class="string">' '</span>, num2str(days(1)),<span class="string">', '</span>, num2str(year1)];
0097         EndDayStr =   [monthStr, <span class="string">' '</span>, num2str(days(length(days))),<span class="string">', '</span>, num2str(year1)];
0098         titleStr = [StartDayStr,<span class="string">' to '</span>, EndDayStr,<span class="string">' ('</span>, num2str(NumDays),<span class="string">' days)'</span>];
0099         DirectoryDate = sprintf(<span class="string">'%d-%02d-%02d to %d-%02d-%02d'</span>, year1, month, days(1), year1, month, days(end));
0100     <span class="keyword">end</span>
0101 <span class="keyword">else</span>
0102     month  = mon2num(monthStr);
0103     month2 = mon2num(month2Str);
0104     NumDays = length(days) + length(days2);
0105     StartDayStr = [monthStr, <span class="string">' '</span>, num2str(days(1)),<span class="string">', '</span>, num2str(year1)];
0106     EndDayStr =   [month2Str, <span class="string">' '</span>, num2str(days2(length(days2))),<span class="string">', '</span>, num2str(year2)];
0107     titleStr = [StartDayStr,<span class="string">' to '</span>, EndDayStr,<span class="string">' ('</span>, num2str(NumDays),<span class="string">' days)'</span>];
0108     DirectoryDate = sprintf(<span class="string">'%d-%02d-%02d to %d-%02d-%02d'</span>, year1, month, days(1), year2, month2, days2(end));
0109 <span class="keyword">end</span>
0110 
0111 StartDay = days(1);
0112 EndDay = days(length(days));
0113 
0114 tic;
0115 <span class="keyword">for</span> day = days
0116     year1str = num2str(year1);
0117     <span class="keyword">if</span> year1 &lt; 2000
0118         year1str = year1str(3:4);
0119         FileName = sprintf(<span class="string">'%2s%02d%02d'</span>, year1str, month, day);
0120     <span class="keyword">else</span>
0121         FileName = sprintf(<span class="string">'%4s%02d%02d'</span>, year1str, month, day);
0122     <span class="keyword">end</span>
0123     <a href="arread.html" class="code" title="function arread(InputDate, BooleanFlag)">arread</a>(FileName, FFFlag);
0124 
0125     ar_functions_time = ar_functions_time + toc;
0126     tic;
0127     <span class="keyword">if</span> day==days(1)
0128         [dcct, idcct] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR05S___DCCTLP_AM01'</span>);
0129         [lcw, ilcw ] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03S___LCWTMP_AM00'</span>);
0130         [i_cam, ii_cam] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'cmm:cam_current'</span>);
0131         [gev, igev] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'cmm:sr_energy'</span>);
0132         [lifetime, ilifetime] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR05W___DCCT2__AM00'</span>);
0133 
0134         EPUChan = family2channel(<span class="string">'EPU'</span>,<span class="string">'Monitor'</span>);
0135         <span class="keyword">if</span> str2num(FileName) &lt; 20050223 <span class="comment">% this is the date that EPU(11,2) was renamed</span>
0136             [tmp, i] = ismember(<span class="string">'SR11U___ODS2PS_AM00'</span>, EPUChan, <span class="string">'rows'</span>);
0137             EPUChan(i,:) = []; <span class="comment">% remove it because it probably already in the list 'SR11U___ODS1PS_AM00';</span>
0138         <span class="keyword">end</span>
0139         [EPU, iEPU, iNotFound] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(EPUChan);
0140         EPU(iNotFound,:) = [];
0141         EPULegend = mat2cell(ARChanNames(iEPU,3:4), ones(length(iEPU),1), 2);
0142         EPULegend = strcat(EPULegend,<span class="string">'EPU'</span>);
0143         EPULegend = strcat(EPULegend,ARChanNames(iEPU,12));
0144 
0145         <span class="comment">% ID vertical gap</span>
0146         IDlist = family2dev(<span class="string">'ID'</span>);
0147         [IDgap, iIDgap, iNotFound] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(family2channel(<span class="string">'ID'</span>,<span class="string">'Monitor'</span>,IDlist));
0148         IDgap(iNotFound,:) = [];
0149         IDlist(iNotFound,:) = [];
0150         IDLegend = mat2cell(ARChanNames(iIDgap,3:5),ones(length(iIDgap),1),3);
0151         IDLegend = strcat(IDLegend,ARChanNames(iIDgap,12));
0152 
0153         <span class="keyword">if</span> FFFlag
0154             [GapEnable, iGapEnable] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(GapEnableNames);
0155             [FF7Enable, iFF7Enable] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'sr07u:FFEnable:bi'</span>);
0156         <span class="keyword">end</span>
0157 
0158         [TC7_1, iTC7_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07U___IDTC1__AM'</span>);
0159         [TC7_2, iTC7_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07U___IDTC2__AM'</span>);
0160         [TC7_3, iTC7_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07U___IDTC3__AM'</span>);
0161         [TC7_4, iTC7_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07U___IDTC4__AM'</span>);
0162 
0163         [TC8_1, iTC8_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08U___IDTC1__AM'</span>);
0164         [TC8_2, iTC8_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08U___IDTC2__AM'</span>);
0165         [TC8_3, iTC8_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08U___IDTC3__AM'</span>);
0166         [TC8_4, iTC8_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08U___IDTC4__AM'</span>);
0167 
0168         [TC9_1, iTC9_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09U___IDTC1__AM'</span>);
0169         [TC9_2, iTC9_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09U___IDTC2__AM'</span>);
0170         [TC9_3, iTC9_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09U___IDTC3__AM'</span>);
0171         [TC9_4, iTC9_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09U___IDTC4__AM'</span>);
0172 
0173         [TC10_1, iTC10_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR10U___IDTC1__AM'</span>);
0174         [TC10_2, iTC10_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR10U___IDTC2__AM'</span>);
0175         [TC10_3, iTC10_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR10U___IDTC3__AM'</span>);
0176         [TC10_4, iTC10_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR10U___IDTC4__AM'</span>);
0177 
0178         [TC12_1, iTC12_1] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12U___IDTC1__AM'</span>);
0179         [TC12_2, iTC12_2] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12U___IDTC2__AM'</span>);
0180         [TC12_3, iTC12_3] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12U___IDTC3__AM'</span>);
0181         [TC12_4, iTC12_4] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12U___IDTC4__AM'</span>);
0182 
0183         [TCSR01, iTCSR01] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___T______AM'</span>);
0184         [TCSR02, iTCSR02] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR02C___T______AM'</span>);
0185         [TCSR03, iTCSR03] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03C___T______AM'</span>);
0186         [TCSR04, iTCSR04] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04C___T______AM'</span>);
0187         [TCSR05, iTCSR05] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR05C___T______AM'</span>);
0188         [TCSR06, iTCSR06] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR06C___T______AM'</span>);
0189         [TCSR07, iTCSR07] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07C___T______AM'</span>);
0190         [TCSR08, iTCSR08] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08C___T______AM'</span>);
0191         [TCSR09, iTCSR09] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09C___T______AM'</span>);
0192         [TCSR11, iTCSR11] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR11C___T______AM'</span>);
0193         [TCSR12, iTCSR12] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR12C___T______AM'</span>);
0194         [TCSRAVG, iTCSRAVG] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___T_AVG__AM'</span>);
0195 
0196         [AHUT01, iAHUT01] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___AHUT___AM'</span>);
0197         [AHUT03, iAHUT03] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03C___AHUT___AM'</span>);
0198         [AHUT04, iAHUT04] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04C___AHUT___AM'</span>);
0199         [AHUT06, iAHUT06] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR06C___AHUT___AM'</span>);
0200         [AHUT07, iAHUT07] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR07C___AHUT___AM'</span>);
0201         [AHUT08, iAHUT08] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR08C___AHUT___AM'</span>);
0202         [AHUT09, iAHUT09] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09C___AHUT___AM'</span>);
0203         [AHUT11, iAHUT11] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR11C___AHUT___AM'</span>);
0204 
0205         [WVSRM, iWVSRM] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___AHWVM__AM00'</span>);
0206 
0207         [CWTemp, iCWTemp] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'6_______CW__T__AM00'</span>); <span class="comment">%chilled H20 supply temp. bld 6 AHU's F</span>
0208         [CWValve, iCWValve] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'6_______CWV____AM00'</span>); <span class="comment">%chilled water valve</span>
0209 
0210         [RingLCWSupPx, iRingLCWSupPx]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR11U___H2OPX1_AM00'</span>); <span class="comment">%Bldg 6 LCW supply pressure in PSI</span>
0211         [RingLCWRetPx, iRingLCWRetPx]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR11U___H2OPX2_AM01'</span>); <span class="comment">%Bldg 6 LCW return pressure in PSI</span>
0212         [LCWSupPx, iLCWSupPx]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37LCW___SPPAVG_AM00'</span>); <span class="comment">%LCW supply pressure average in PSI</span>
0213         [LCWRetPx, iLCWRetPx]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37LCW___RTP____AM00'</span>); <span class="comment">%LCW return pressure in PSIG</span>
0214         [LCWSupTemp, iLCWSupTemp]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37LCW___SPTAVG_AM00'</span>); <span class="comment">%LCW supply temperature average in deg. F</span>
0215         [LCWRetTemp, iLCWRetTemp]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37LCW___RTT'</span>); <span class="comment">%LCW return temperature (3 entries)</span>
0216         [WBasinTemp, iWBasinTemp]  = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37CT100_TW_ST__AM00'</span>); <span class="comment">%North Cooling tower supply (basin) temperature</span>
0217         [EBasinTemp, iEBasinTemp] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'37CT101_TW_ST__AM00'</span>); <span class="comment">%South Cooling tower supply (basin) temperature</span>
0218 
0219         <span class="comment">% All Bergoz BPMs</span>
0220         [BPMx, iBPMx] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(BPMxNames);
0221         [BPMy, iBPMy] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(BPMyNames);
0222 
0223         [ID9BPM1xRMS, iID9BPM1xRMS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09S_IBPM1X_RMS'</span>);
0224         [ID9BPM1yRMS, iID9BPM1yRMS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09S_IBPM1Y_RMS'</span>);
0225         [ID9BPM2xRMS, iID9BPM2xRMS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09S_IBPM2X_RMS'</span>);
0226         [ID9BPM2yRMS, iID9BPM2yRMS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR09S_IBPM2Y_RMS'</span>);
0227 
0228         [C1TEMP, iC1TEMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03S___C1TEMP_AM'</span>);
0229         [C2TEMP, iC2TEMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03S___C2TEMP_AM'</span>);
0230 
0231         [SigX, iSigX] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04S___SPIRICOAM07'</span>);
0232         [SigY, iSigY] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04S___SPIRICOAM08'</span>);
0233 
0234         [SigX31, iSigX31] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'beamline31:XRMSAve'</span>,1);
0235         [SigY31, iSigY31] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'beamline31:YRMSAve'</span>,1);
0236         <span class="keyword">if</span> isempty(SigX31)
0237             SigX31 = NaN * ones(1,length(ARt));
0238         <span class="keyword">end</span>
0239         <span class="keyword">if</span> isempty(SigY31)
0240             SigY31 = NaN * ones(1,length(ARt));
0241         <span class="keyword">end</span>
0242 
0243         [SigX72, iSigX72] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'bl72:XRMSAve'</span>,1);
0244         [SigY72, iSigY72] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'bl72:YRMSAve'</span>,1);
0245         <span class="keyword">if</span> isempty(SigX72)
0246             SigX72 = NaN * ones(1,length(ARt));
0247         <span class="keyword">end</span>
0248         <span class="keyword">if</span> isempty(SigY72)
0249             SigY72 = NaN * ones(1,length(ARt));
0250         <span class="keyword">end</span>
0251 
0252         [SpiroX, iSpiroX] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04S___SPIRICOAM01'</span>);
0253         [SpiroY, iSpiroY] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR04S___SPIRICOAM02'</span>);
0254 
0255         [HPcounter, iHPcounter] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___FREQB__AM00'</span>);
0256 
0257         [HPsyn, iHPsyn] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR03S___RFFREQ_AM00'</span>);
0258 
0259         [hqmofm, ihqmofm] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'EG______HQMOFM_AC01'</span>);
0260         hqmofm = hqmofm*4.988e3;
0261 
0262         [QFAam, iQFAam] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'SR01C___QFA____AM00'</span>);
0263 
0264         <span class="comment">% BR RF parameters</span>
0265         [Power_RF_fwd, iPower_RF_fwd] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Power_RF_fwd'</span>);
0266         [Power_RF_ref, iPower_RF_ref] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Power_RF_ref'</span>);
0267         [Power_drive, iPower_drive] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Power_drive'</span>);
0268         [HV_setpoint, iHV_setpoint] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'HV_setpoint'</span>);
0269         [Beam_volts, iBeam_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Beam_volts'</span>);
0270         [Beam_current, iBeam_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Beam_current'</span>);
0271         [Bias_volts, iBias_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Bias_volts'</span>);
0272         [Bias_current, iBias_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Bias_current'</span>);
0273         [Heater_Voltage, iHeater_Voltage] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Heater_Voltage'</span>);
0274         [Heater_current, iHeater_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Heater_current'</span>);
0275         [Focus_voltage, iFocus_voltage] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Focus_voltage'</span>);
0276         [Focus_current, iFocus_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Focus_current'</span>);
0277         [VacIon_voltage, iVacIon_voltage] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'VacIon_voltage'</span>);
0278         [VacIon_current, iVacIon_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'VacIon_current'</span>);
0279         [Thy_Grid1_volts, iThy_Grid1_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Thy_Grid1_volts'</span>);
0280         [Thy_Grid2_volts, iThy_Grid2_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Thy_Grid2_volts'</span>);
0281         [Thy_heater_volts, iThy_heater_volts] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Thy_heater_volts'</span>);
0282         [Thy_heater_current, iThy_heater_current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Thy_heater_current'</span>);
0283         [Body_Current, iBody_Current] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Body_Current'</span>);
0284         [Temp_HV_enclose, iTemp_HV_enclose] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Temp_HV_enclose'</span>);
0285         [Temp_IOT_enclose, iTemp_IOT_enclose] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Temp_IOT_enclose'</span>);
0286         [Temp_IOT_cooling, iTemp_IOT_cooling] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Temp_IOT_cooling'</span>);
0287         [Temp_ceramic_output, iTemp_ceramic_output] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'Temp_ceramic_output'</span>);
0288         [BR_CLDFWD, iBR_CLDFWD] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CLDFWD_AM00'</span>);
0289         [BR_WGREV, iBR_WGREV] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____WGREV__AM01'</span>);
0290         [BR_WGFWD, iBR_WGFWD] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____WGFWD__AM02'</span>);
0291         [BR_RFCONT, iBR_RFCONT] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____RFCONT_AM01'</span>);
0292         [BR_PHSCON_AM, iBR_PHSCON_AM] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____PHSCON_AM00'</span>);
0293         [BR_PHSCON_AC, iBR_PHSCON_AC] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____PHSCON_AC00'</span>);
0294         [BR_TUNPOS, iBR_TUNPOS] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____TUNPOS_AM00'</span>);
0295         [BR_TUNERR, iBR_TUNERR] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____TUNERR_AM02'</span>);
0296         [BR_CAVTMP, iBR_CAVTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CAVTMP_AM03'</span>);
0297         [BR_LCWTMP, iBR_LCWTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____LCWTMP_AM03'</span>);
0298         [BR_CLDFLW, iBR_CLDFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CLDFLW_AM01'</span>);
0299         [BR_CIRFLW, iBR_CIRFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CIRFLW_AM02'</span>);
0300         [BR_SLDTMP, iBR_SLDTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____SLDTMP_AM01'</span>);
0301         [BR_CIRTMP, iBR_CIRTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CIRTMP_AM03'</span>);
0302         [BR_SLDFLW, iBR_SLDFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____SLDFLW_AM00'</span>);
0303         [BR_CLDTMP, iBR_CLDTMP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CLDTMP_AM03'</span>);
0304         [BR_CAVFLW, iBR_CAVFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____CAVFLW_AM00'</span>);
0305         [BR_WINFLW, iBR_WINFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____WINFLW_AM01'</span>);
0306         [BR_TUNFLW, iBR_TUNFLW] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BR4_____TUNFLW_AM02'</span>);
0307 
0308         <span class="comment">% Beamline shutters</span>
0309         [B021_PSS201_OPN, iB021_PSS201_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B021_PSS201_OPN'</span>);
0310         <span class="keyword">if</span> isempty(iB021_PSS201_OPN)
0311             B021_PSS201_OPN = NaN * ones(1,length(ARt));
0312         <span class="keyword">end</span>
0313         [B03_11_PSS1_RSS_TRLY_OPN, iB03_11_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_11_PSS1_RSS_TRLY_OPN'</span>);
0314         [B03_2_PSS101_RSS_TRLY_OPN, iB03_2_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_2_PSS101_RSS_TRLY_OPN'</span>);
0315         [B03_2_PSS201_RSS_TRLY_OPN, iB03_2_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_2_PSS201_RSS_TRLY_OPN'</span>);
0316         [B03_3_PSS101_RSS_TRLY_OPN, iB03_3_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_3_PSS101_RSS_TRLY_OPN'</span>);
0317         [B03_3_PSS201_RSS_TRLY_OPN, iB03_3_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B03_3_PSS201_RSS_TRLY_OPN'</span>);
0318         [B040_PSS002_RSS_TRLY_OPN, iB040_PSS002_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B040_PSS002_RSS_TRLY_OPN'</span>);
0319         [B040_PSS001_RSS_TRLY_OPN, iB040_PSS001_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B040_PSS001_RSS_TRLY_OPN'</span>);
0320         [ICS_BL042_PSS101_RSS_TRLY_OP, iICS_BL042_PSS101_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL042_PSS101_RSS_TRLY_OP'</span>);
0321         [ICS_BL042_PSS201_RSS_TRLY_OP, iICS_BL042_PSS201_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL042_PSS201_RSS_TRLY_OP'</span>);
0322         [ICS_BL043_PSS101_RSS_TRLY_OP, iICS_BL043_PSS101_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL043_PSS101_RSS_TRLY_OP'</span>);
0323         [ICS_BL043_PSS201_RSS_TRLY_OP, iICS_BL043_PSS201_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL043_PSS201_RSS_TRLY_OP'</span>);
0324         [B050_PSS001_RSS_TRLY_OPN, iB050_PSS001_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS001_RSS_TRLY_OPN'</span>);
0325         [B050_PSS101_OPN, iB050_PSS101_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS101_OPN'</span>);
0326         [B050_PSS201_OPN, iB050_PSS201_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS201_OPN'</span>);
0327         [B050_PSS301_OPN, iB050_PSS301_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS301_OPN'</span>);
0328         [B050_PSS111_OPN, iB050_PSS111_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS111_OPN'</span>);
0329         [B050_PSS211_OPN, iB050_PSS211_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS211_OPN'</span>);
0330         [B050_PSS311_OPN, iB050_PSS311_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B050_PSS311_OPN'</span>);
0331         [B053_PSS101_RSS_TRLY_OPN, iB053_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B053_PSS101_RSS_TRLY_OPN'</span>);
0332         [B053_PSS201_RSS_TRLY_OPN, iB053_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B053_PSS201_RSS_TRLY_OPN'</span>);
0333         [B060_PSS101_OPN, iB060_PSS101_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B060_PSS101_OPN'</span>);
0334         [B0612_PSS1_OPN, iB0612_PSS1_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0612_PSS1_OPN'</span>);
0335         [B0631_PSS1_OPN, iB0631_PSS1_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0631_PSS1_OPN'</span>);
0336         [B0632_PSS1_OPN, iB0632_PSS1_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0632_PSS1_OPN'</span>);
0337         [B0701_PSS1_RSS_TRLY_OPN, iB0701_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0701_PSS1_RSS_TRLY_OPN'</span>);
0338         [B073_PSS1_RSS_TRLY_OPN, iB073_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B073_PSS1_RSS_TRLY_OPN'</span>);
0339         [B0733_PSS1_OPN, iB0733_PSS1_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B0733_PSS1_OPN'</span>);
0340         [ICS_B0801_PSS1_RSS_TRLY_OPN, iICS_B0801_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B0801_PSS1_RSS_TRLY_OPN'</span>);
0341         [ICS_B082_PSS101_RSS_TRLY_OP, iICS_B082_PSS101_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B082_PSS101_RSS_TRLY_OP'</span>);
0342         [ICS_B082_PSS201_RSS_TRLY_OP, iICS_B082_PSS201_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B082_PSS201_RSS_TRLY_OP'</span>);
0343         [ICS_B083_PSS101_RSS_TRLY_OP, iICS_B083_PSS101_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B083_PSS101_RSS_TRLY_OP'</span>);
0344         [ICS_B083_PSS201_RSS_TRLY_OP, iICS_B083_PSS201_RSS_TRLY_OP] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_B083_PSS201_RSS_TRLY_OP'</span>);
0345         [B090_PSS1_RSS_TRLY_OPN, iB090_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B090_PSS1_RSS_TRLY_OPN'</span>);
0346         [B09_31_PSS1_RSS_TRLY_OPN, iB09_31_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B09_31_PSS1_RSS_TRLY_OPN'</span>);
0347         [B09_3_PSS1_RSS_TRLY_OPN, iB09_3_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B09_3_PSS1_RSS_TRLY_OPN'</span>);
0348         [B10_0_PSS001_RSS_TRLY_OPN, iB10_0_PSS001_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B10_0_PSS001_RSS_TRLY_OPN'</span>);
0349         [B10_31_PSS1_RSS_TRLY_OPN, iB10_31_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B10_31_PSS1_RSS_TRLY_OPN'</span>);
0350         [B110_PSS101_RSS_TRLY_OPN, iB110_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B110_PSS101_RSS_TRLY_OPN'</span>);
0351         [B110_PSS201_RSS_TRLY_OPN, iB110_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B110_PSS201_RSS_TRLY_OPN'</span>);
0352         [BL113_PSS101_RSS_TRLY_OPN, iBL113_PSS101_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BL113_PSS101_RSS_TRLY_OPN'</span>);
0353         [BL113_PSS201_RSS_TRLY_OPN, iBL113_PSS201_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'BL113_PSS201_RSS_TRLY_OPN'</span>);
0354         [ICS_BL12_0_PSS1_RSS_TRLY_OPN, iICS_BL12_0_PSS1_RSS_TRLY_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_0_PSS1_RSS_TRLY_OPN'</span>);
0355         [ICS_BL12_2_PSS101_RSS_TRLY_O, iICS_BL12_2_PSS101_RSS_TRLY_O] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_2_PSS101_RSS_TRLY_O'</span>);
0356         [ICS_BL12_2_PSS201_RSS_TRLY_O, iICS_BL12_2_PSS201_RSS_TRLY_O] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_2_PSS201_RSS_TRLY_O'</span>);
0357         [ICS_BL12_3_PSS101_RSS_TRLY_O, iICS_BL12_3_PSS101_RSS_TRLY_O] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_3_PSS101_RSS_TRLY_O'</span>);
0358         [ICS_BL12_3_PSS201_RSS_TRLY_O, iICS_BL12_3_PSS201_RSS_TRLY_O] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'ICS_BL12_3_PSS201_RSS_TRLY_O'</span>);
0359         [B122_PSS111_OPN, iB122_PSS111_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B122_PSS111_OP'</span>);
0360         [B122_PSS211_OPN, iB122_PSS211_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B122_PSS211_OP'</span>);
0361         [B123_PSS111_OPN, iB123_PSS111_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B123_PSS111_OP'</span>);
0362         [B123_PSS211_OPN, iB123_PSS211_OPN] = <a href="arselect.html" class="code" title="function [y, ivec, iNotFound] = arselect(ChanName, OneChannelFlag);">arselect</a>(<span class="string">'B123_PSS211_OP'</span>);
0363 
0364         <span class="comment">% time vector</span>
0365         t = [ARt+(day-StartDay)*24*60*60];
0366 
0367 
0368     <span class="keyword">else</span>
0369 
0370         dcct = [dcct ARData(idcct,:)];
0371         lcw  = [lcw  ARData(ilcw,:)];
0372         i_cam = [i_cam ARData(ii_cam,:)];
0373         gev = [gev ARData(igev,:)];
0374         lifetime = [lifetime ARData(ilifetime,:)];
0375 
0376         <span class="comment">% EPU</span>
0377         EPU =[EPU  ARData(iEPU,:)];
0378 
0379         <span class="comment">% ID vertical gap</span>
0380         IDgap = [IDgap  ARData(iIDgap,:)];
0381 
0382         <span class="keyword">if</span> FFFlag
0383             GapEnable = [GapEnable ARData(iGapEnable,:)];
0384             FF7Enable = [FF7Enable ARData(iFF7Enable,:)];
0385         <span class="keyword">end</span>
0386 
0387         TC7_1=[TC7_1 ARData(iTC7_1,:)];
0388         TC7_2=[TC7_2 ARData(iTC7_2,:)];
0389         TC7_3=[TC7_3 ARData(iTC7_3,:)];
0390         TC7_4=[TC7_4 ARData(iTC7_4,:)];
0391 
0392         TC8_1=[TC8_1 ARData(iTC8_1,:)];
0393         TC8_2=[TC8_2 ARData(iTC8_2,:)];
0394         TC8_3=[TC8_3 ARData(iTC8_3,:)];
0395         TC8_4=[TC8_4 ARData(iTC8_4,:)];
0396 
0397         TC9_1=[TC9_1 ARData(iTC9_1,:)];
0398         TC9_2=[TC9_2 ARData(iTC9_2,:)];
0399         TC9_3=[TC9_3 ARData(iTC9_3,:)];
0400         TC9_4=[TC9_4 ARData(iTC9_4,:)];
0401 
0402         TC10_1=[TC10_1 ARData(iTC10_1,:)];
0403         TC10_2=[TC10_2 ARData(iTC10_2,:)];
0404         TC10_3=[TC10_3 ARData(iTC10_3,:)];
0405         TC10_4=[TC10_4 ARData(iTC10_4,:)];
0406 
0407         TC12_1=[TC12_1 ARData(iTC12_1,:)];
0408         TC12_2=[TC12_2 ARData(iTC12_2,:)];
0409         TC12_3=[TC12_3 ARData(iTC12_3,:)];
0410         TC12_4=[TC12_4 ARData(iTC12_4,:)];
0411 
0412         TCSR01=[TCSR01 ARData(iTCSR01,:)];
0413         TCSR02=[TCSR02 ARData(iTCSR02,:)];
0414         TCSR03=[TCSR03 ARData(iTCSR03,:)];
0415         TCSR04=[TCSR04 ARData(iTCSR04,:)];
0416         TCSR05=[TCSR05 ARData(iTCSR05,:)];
0417         TCSR06=[TCSR06 ARData(iTCSR06,:)];
0418         TCSR07=[TCSR07 ARData(iTCSR07,:)];
0419         TCSR08=[TCSR08 ARData(iTCSR08,:)];
0420         TCSR09=[TCSR09 ARData(iTCSR09,:)];
0421         TCSR11=[TCSR11 ARData(iTCSR11,:)];
0422         TCSR12=[TCSR12 ARData(iTCSR12,:)];
0423         TCSRAVG=[TCSRAVG ARData(iTCSRAVG,:)];
0424 
0425         AHUT01=[AHUT01 ARData(iAHUT01,:)];
0426         AHUT03=[AHUT03 ARData(iAHUT03,:)];
0427         AHUT04=[AHUT04 ARData(iAHUT04,:)];
0428         AHUT06=[AHUT06 ARData(iAHUT06,:)];
0429         AHUT07=[AHUT07 ARData(iAHUT07,:)];
0430         AHUT08=[AHUT08 ARData(iAHUT08,:)];
0431         AHUT09=[AHUT09 ARData(iAHUT09,:)];
0432         AHUT11=[AHUT11 ARData(iAHUT11,:)];
0433 
0434         WVSRM=[WVSRM ARData(iWVSRM,:)];
0435 
0436         CWTemp=[CWTemp ARData(iCWTemp,:)];
0437         CWValve=[CWValve ARData(iCWValve,:)];
0438 
0439         RingLCWSupPx=[RingLCWSupPx ARData(iRingLCWSupPx,:)];
0440         RingLCWRetPx=[RingLCWRetPx ARData(iRingLCWRetPx,:)];
0441         LCWSupPx=[LCWSupPx ARData(iLCWSupPx,:)];
0442         LCWRetPx=[LCWRetPx ARData(iLCWRetPx,:)];
0443         LCWSupTemp=[LCWSupTemp ARData(iLCWSupTemp,:)];
0444         LCWRetTemp=[LCWRetTemp ARData(iLCWRetTemp,:)];
0445         WBasinTemp=[WBasinTemp ARData(iWBasinTemp,:)];
0446         EBasinTemp=[EBasinTemp ARData(iEBasinTemp,:)];
0447 
0448         <span class="comment">% All Bergoz BPMs</span>
0449         BPMx = [BPMx ARData(iBPMx,:)];
0450         BPMy = [BPMy ARData(iBPMy,:)];
0451 
0452         ID9BPM1xRMS = [ID9BPM1xRMS ARData(iID9BPM1xRMS,:)];
0453         ID9BPM1yRMS = [ID9BPM1yRMS ARData(iID9BPM1yRMS,:)];
0454         ID9BPM2xRMS = [ID9BPM2xRMS ARData(iID9BPM2xRMS,:)];
0455         ID9BPM2yRMS = [ID9BPM2yRMS ARData(iID9BPM2yRMS,:)];
0456 
0457         C1TEMP=[C1TEMP ARData(iC1TEMP,:)];
0458         C2TEMP=[C2TEMP ARData(iC2TEMP,:)];
0459 
0460         SigX=[SigX ARData(iSigX,:)];
0461         SigY=[SigY ARData(iSigY,:)];
0462 
0463         <span class="keyword">if</span> ~isempty(iSigX31)
0464             SigX31=[SigX31 ARData(iSigX31,:)];
0465         <span class="keyword">else</span>
0466             SigX31 = [SigX31 NaN * ones(1,length(ARt))];
0467         <span class="keyword">end</span>
0468 
0469         <span class="keyword">if</span> ~isempty(iSigY31)
0470             SigY31=[SigY31 ARData(iSigY31,:)];
0471         <span class="keyword">else</span>
0472             SigY31 = [SigY31 NaN * ones(1,length(ARt))];
0473         <span class="keyword">end</span>
0474 
0475         <span class="keyword">if</span> ~isempty(iSigX72)
0476             SigX72=[SigX72 ARData(iSigX72,:)];
0477         <span class="keyword">else</span>
0478             SigX72 = [SigX72 NaN * ones(1,length(ARt))];
0479         <span class="keyword">end</span>
0480 
0481         <span class="keyword">if</span> ~isempty(iSigY72)
0482             SigY72=[SigY72 ARData(iSigY72,:)];
0483         <span class="keyword">else</span>
0484             SigY72 = [SigY72 NaN * ones(1,length(ARt))];
0485         <span class="keyword">end</span>
0486 
0487         SpiroX=[SpiroX ARData(iSpiroX,:)];
0488         SpiroY=[SpiroY ARData(iSpiroY,:)];
0489 
0490         HPcounter=[HPcounter ARData(iHPcounter,:)];
0491         HPsyn=[HPsyn ARData(iHPsyn,:)];
0492         hqmofm=[hqmofm 4.988e3*ARData(ihqmofm,:)];
0493 
0494         QFAam=[QFAam ARData(iQFAam,:)];
0495 
0496         <span class="comment">% BR RF parameters</span>
0497         Power_RF_fwd=[Power_RF_fwd ARData(iPower_RF_fwd,:)];
0498         Power_RF_ref=[Power_RF_ref ARData(iPower_RF_ref,:)];
0499         Power_drive=[Power_drive ARData(iPower_drive,:)];
0500         HV_setpoint=[HV_setpoint ARData(iHV_setpoint,:)];
0501         Beam_volts=[Beam_volts ARData(iBeam_volts,:)];
0502         Beam_current=[Beam_current ARData(iBeam_current,:)];
0503         Bias_volts=[Bias_volts ARData(iBias_volts,:)];
0504         Bias_current=[Bias_current ARData(iBias_current,:)];
0505         Heater_Voltage=[Heater_Voltage ARData(iHeater_Voltage,:)];
0506         Heater_current=[Heater_current ARData(iHeater_current,:)];
0507         Focus_voltage=[Focus_voltage ARData(iFocus_voltage,:)];
0508         Focus_current=[Focus_current ARData(iFocus_current,:)];
0509         VacIon_voltage=[VacIon_voltage ARData(iVacIon_voltage,:)];
0510         VacIon_current=[VacIon_current ARData(iVacIon_current,:)];
0511         Thy_Grid1_volts=[Thy_Grid1_volts ARData(iThy_Grid1_volts,:)];
0512         Thy_Grid2_volts=[Thy_Grid2_volts ARData(iThy_Grid2_volts,:)];
0513         Thy_heater_volts=[Thy_heater_volts ARData(iThy_heater_volts,:)];
0514         Thy_heater_current=[Thy_heater_current ARData(iThy_heater_current,:)];
0515         Body_Current=[Body_Current ARData(iBody_Current,:)];
0516         Temp_HV_enclose=[Temp_HV_enclose ARData(iTemp_HV_enclose,:)];
0517         Temp_IOT_enclose=[Temp_IOT_enclose ARData(iTemp_IOT_enclose,:)];
0518         Temp_IOT_cooling=[Temp_IOT_cooling ARData(iTemp_IOT_cooling,:)];
0519         Temp_ceramic_output=[Temp_ceramic_output ARData(iTemp_ceramic_output,:)];
0520         BR_CLDFWD=[BR_CLDFWD ARData(iBR_CLDFWD,:)];
0521         BR_WGREV=[BR_WGREV ARData(iBR_WGREV,:)];
0522         BR_WGFWD=[BR_WGFWD ARData(iBR_WGFWD,:)];
0523         BR_RFCONT=[BR_RFCONT ARData(iBR_RFCONT,:)];
0524         BR_PHSCON_AM=[BR_PHSCON_AM ARData(iBR_PHSCON_AM,:)];
0525         BR_PHSCON_AC=[BR_PHSCON_AC ARData(iBR_PHSCON_AC,:)];
0526         BR_TUNPOS=[BR_TUNPOS ARData(iBR_TUNPOS,:)];
0527         BR_TUNERR=[BR_TUNERR ARData(iBR_TUNERR,:)];
0528         BR_CAVTMP=[BR_CAVTMP ARData(iBR_CAVTMP,:)];
0529         BR_LCWTMP=[BR_LCWTMP ARData(iBR_LCWTMP,:)];
0530         BR_CLDFLW=[BR_CLDFLW ARData(iBR_CLDFLW,:)];
0531         BR_CIRFLW=[BR_CIRFLW ARData(iBR_CIRFLW,:)];
0532         BR_SLDTMP=[BR_SLDTMP ARData(iBR_SLDTMP,:)];
0533         BR_CIRTMP=[BR_CIRTMP ARData(iBR_CIRTMP,:)];
0534         BR_SLDFLW=[BR_SLDFLW ARData(iBR_SLDFLW,:)];
0535         BR_CLDTMP=[BR_CLDTMP ARData(iBR_CLDTMP,:)];
0536         BR_CAVFLW=[BR_CAVFLW ARData(iBR_CAVFLW,:)];
0537         BR_WINFLW=[BR_WINFLW ARData(iBR_WINFLW,:)];
0538         BR_TUNFLW=[BR_TUNFLW ARData(iBR_TUNFLW,:)];
0539 
0540         <span class="comment">% Beamline shutters</span>
0541         <span class="keyword">if</span> ~isempty(iB021_PSS201_OPN)
0542             B021_PSS201_OPN=[B021_PSS201_OPN ARData(iB021_PSS201_OPN,:)];
0543         <span class="keyword">else</span>
0544             B021_PSS201_OPN = [B021_PSS201_OPN NaN * ones(1,length(ARt))];
0545         <span class="keyword">end</span>
0546         B03_11_PSS1_RSS_TRLY_OPN=[B03_11_PSS1_RSS_TRLY_OPN ARData(iB03_11_PSS1_RSS_TRLY_OPN,:)];
0547         B03_2_PSS101_RSS_TRLY_OPN=[B03_2_PSS101_RSS_TRLY_OPN ARData(iB03_2_PSS101_RSS_TRLY_OPN,:)];
0548         B03_2_PSS201_RSS_TRLY_OPN=[B03_2_PSS201_RSS_TRLY_OPN ARData(iB03_2_PSS201_RSS_TRLY_OPN,:)];
0549         B03_3_PSS101_RSS_TRLY_OPN=[B03_3_PSS101_RSS_TRLY_OPN ARData(iB03_3_PSS101_RSS_TRLY_OPN,:)];
0550         B03_3_PSS201_RSS_TRLY_OPN=[B03_3_PSS201_RSS_TRLY_OPN ARData(iB03_3_PSS201_RSS_TRLY_OPN,:)];
0551         B040_PSS002_RSS_TRLY_OPN=[B040_PSS002_RSS_TRLY_OPN ARData(iB040_PSS002_RSS_TRLY_OPN,:)];
0552         B040_PSS001_RSS_TRLY_OPN=[B040_PSS001_RSS_TRLY_OPN ARData(iB040_PSS001_RSS_TRLY_OPN,:)];
0553         ICS_BL042_PSS101_RSS_TRLY_OP=[ICS_BL042_PSS101_RSS_TRLY_OP ARData(iICS_BL042_PSS101_RSS_TRLY_OP,:)];
0554         ICS_BL042_PSS201_RSS_TRLY_OP=[ICS_BL042_PSS201_RSS_TRLY_OP ARData(iICS_BL042_PSS201_RSS_TRLY_OP,:)];
0555         ICS_BL043_PSS101_RSS_TRLY_OP=[ICS_BL043_PSS101_RSS_TRLY_OP ARData(iICS_BL043_PSS101_RSS_TRLY_OP,:)];
0556         ICS_BL043_PSS201_RSS_TRLY_OP=[ICS_BL043_PSS201_RSS_TRLY_OP ARData(iICS_BL043_PSS201_RSS_TRLY_OP,:)];
0557         B050_PSS001_RSS_TRLY_OPN=[B050_PSS001_RSS_TRLY_OPN ARData(iB050_PSS001_RSS_TRLY_OPN,:)];
0558         B050_PSS101_OPN=[B050_PSS101_OPN ARData(iB050_PSS101_OPN,:)];
0559         B050_PSS201_OPN=[B050_PSS201_OPN ARData(iB050_PSS201_OPN,:)];
0560         B050_PSS301_OPN=[B050_PSS301_OPN ARData(iB050_PSS301_OPN,:)];
0561         B050_PSS111_OPN=[B050_PSS111_OPN ARData(iB050_PSS111_OPN,:)];
0562         B050_PSS211_OPN=[B050_PSS211_OPN ARData(iB050_PSS211_OPN,:)];
0563         B050_PSS311_OPN=[B050_PSS311_OPN ARData(iB050_PSS311_OPN,:)];
0564         B053_PSS101_RSS_TRLY_OPN=[B053_PSS101_RSS_TRLY_OPN ARData(iB053_PSS101_RSS_TRLY_OPN,:)];
0565         B053_PSS201_RSS_TRLY_OPN=[B053_PSS201_RSS_TRLY_OPN ARData(iB053_PSS201_RSS_TRLY_OPN,:)];
0566         B060_PSS101_OPN=[B060_PSS101_OPN ARData(iB060_PSS101_OPN,:)];
0567         B0612_PSS1_OPN=[B0612_PSS1_OPN ARData(iB0612_PSS1_OPN,:)];
0568         B0631_PSS1_OPN=[B0631_PSS1_OPN ARData(iB0631_PSS1_OPN,:)];
0569         B0632_PSS1_OPN=[B0632_PSS1_OPN ARData(iB0632_PSS1_OPN,:)];
0570         B0701_PSS1_RSS_TRLY_OPN=[B0701_PSS1_RSS_TRLY_OPN ARData(iB0701_PSS1_RSS_TRLY_OPN,:)];
0571         B073_PSS1_RSS_TRLY_OPN=[B073_PSS1_RSS_TRLY_OPN ARData(iB073_PSS1_RSS_TRLY_OPN,:)];
0572         B0733_PSS1_OPN=[B0733_PSS1_OPN ARData(iB0733_PSS1_OPN,:)];
0573         ICS_B0801_PSS1_RSS_TRLY_OPN=[ICS_B0801_PSS1_RSS_TRLY_OPN ARData(iICS_B0801_PSS1_RSS_TRLY_OPN,:)];
0574         ICS_B082_PSS101_RSS_TRLY_OP=[ICS_B082_PSS101_RSS_TRLY_OP ARData(iICS_B082_PSS101_RSS_TRLY_OP,:)];
0575         ICS_B082_PSS201_RSS_TRLY_OP=[ICS_B082_PSS201_RSS_TRLY_OP ARData(iICS_B082_PSS201_RSS_TRLY_OP,:)];
0576         ICS_B083_PSS101_RSS_TRLY_OP=[ICS_B083_PSS101_RSS_TRLY_OP ARData(iICS_B083_PSS101_RSS_TRLY_OP,:)];
0577         ICS_B083_PSS201_RSS_TRLY_OP=[ICS_B083_PSS201_RSS_TRLY_OP ARData(iICS_B083_PSS201_RSS_TRLY_OP,:)];
0578         B090_PSS1_RSS_TRLY_OPN=[B090_PSS1_RSS_TRLY_OPN ARData(iB090_PSS1_RSS_TRLY_OPN,:)];
0579         B09_31_PSS1_RSS_TRLY_OPN=[B09_31_PSS1_RSS_TRLY_OPN ARData(iB09_31_PSS1_RSS_TRLY_OPN,:)];
0580         B09_3_PSS1_RSS_TRLY_OPN=[B09_3_PSS1_RSS_TRLY_OPN ARData(iB09_3_PSS1_RSS_TRLY_OPN,:)];
0581         B10_0_PSS001_RSS_TRLY_OPN=[B10_0_PSS001_RSS_TRLY_OPN ARData(iB10_0_PSS001_RSS_TRLY_OPN,:)];
0582         B10_31_PSS1_RSS_TRLY_OPN=[B10_31_PSS1_RSS_TRLY_OPN ARData(iB10_31_PSS1_RSS_TRLY_OPN,:)];
0583         B110_PSS101_RSS_TRLY_OPN=[B110_PSS101_RSS_TRLY_OPN ARData(iB110_PSS101_RSS_TRLY_OPN,:)];
0584         B110_PSS201_RSS_TRLY_OPN=[B110_PSS201_RSS_TRLY_OPN ARData(iB110_PSS201_RSS_TRLY_OPN,:)];
0585         BL113_PSS101_RSS_TRLY_OPN=[BL113_PSS101_RSS_TRLY_OPN ARData(iBL113_PSS101_RSS_TRLY_OPN,:)];
0586         BL113_PSS201_RSS_TRLY_OPN=[BL113_PSS201_RSS_TRLY_OPN ARData(iBL113_PSS201_RSS_TRLY_OPN,:)];
0587         ICS_BL12_0_PSS1_RSS_TRLY_OPN=[ICS_BL12_0_PSS1_RSS_TRLY_OPN ARData(iICS_BL12_0_PSS1_RSS_TRLY_OPN,:)];
0588         ICS_BL12_2_PSS101_RSS_TRLY_O=[ICS_BL12_2_PSS101_RSS_TRLY_O ARData(iICS_BL12_2_PSS101_RSS_TRLY_O,:)];
0589         ICS_BL12_2_PSS201_RSS_TRLY_O=[ICS_BL12_2_PSS201_RSS_TRLY_O ARData(iICS_BL12_2_PSS201_RSS_TRLY_O,:)];
0590         ICS_BL12_3_PSS101_RSS_TRLY_O=[ICS_BL12_3_PSS101_RSS_TRLY_O ARData(iICS_BL12_3_PSS101_RSS_TRLY_O,:)];
0591         ICS_BL12_3_PSS201_RSS_TRLY_O=[ICS_BL12_3_PSS201_RSS_TRLY_O ARData(iICS_BL12_3_PSS201_RSS_TRLY_O,:)];
0592         B122_PSS111_OPN=[B122_PSS111_OPN ARData(iB122_PSS111_OPN,:)];
0593         B122_PSS211_OPN=[B122_PSS211_OPN ARData(iB122_PSS211_OPN,:)];
0594         B123_PSS111_OPN=[B123_PSS111_OPN ARData(iB123_PSS111_OPN,:)];
0595         B123_PSS211_OPN=[B123_PSS211_OPN ARData(iB123_PSS211_OPN,:)];
0596 
0597         <span class="comment">% time vector</span>
0598         t = [t  ARt+(day-StartDay)*24*60*60];
0599 
0600     <span class="keyword">end</span>
0601 
0602     tmp = toc;
0603     ar_functions_time = ar_functions_time + tmp;
0604     fprintf(<span class="string">'One day of arselect = %g s\n'</span>,tmp);
0605     tic;
0606     
0607 <span class="keyword">end</span>
0608 
0609 
0610 <span class="keyword">if</span> ~isempty(days2)
0611 
0612     StartDay = days2(1);
0613     EndDay = days2(length(days2));
0614 
0615     <span class="keyword">for</span> day = days2
0616         year2str = num2str(year2);
0617         <span class="keyword">if</span> year2 &lt; 2000
0618             year2str = year2str(3:4);
0619             FileName = sprintf(<span class="string">'%2s%02d%02d'</span>, year2str, month2, day);
0620         <span class="keyword">else</span>
0621             FileName = sprintf(<span class="string">'%4s%02d%02d'</span>, year2str, month2, day);
0622         <span class="keyword">end</span>
0623         <a href="arread.html" class="code" title="function arread(InputDate, BooleanFlag)">arread</a>(FileName, FFFlag);
0624 
0625 
0626         dcct = [dcct ARData(idcct,:)];
0627         lcw  = [lcw  ARData(ilcw,:)];
0628         i_cam = [i_cam ARData(ii_cam,:)];
0629         gev = [gev ARData(igev,:)];
0630         lifetime = [lifetime ARData(ilifetime,:)];
0631 
0632         <span class="comment">% EPU</span>
0633         EPU =[EPU  ARData(iEPU,:)];
0634 
0635         <span class="comment">% ID vertical gap</span>
0636         IDgap = [IDgap  ARData(iIDgap,:)];
0637 
0638         <span class="keyword">if</span> FFFlag
0639             GapEnable = [GapEnable ARData(iGapEnable,:)];
0640             FF7Enable = [FF7Enable ARData(iFF7Enable,:)];
0641         <span class="keyword">end</span>
0642 
0643         TC7_1=[TC7_1 ARData(iTC7_1,:)];
0644         TC7_2=[TC7_2 ARData(iTC7_2,:)];
0645         TC7_3=[TC7_3 ARData(iTC7_3,:)];
0646         TC7_4=[TC7_4 ARData(iTC7_4,:)];
0647 
0648         TC8_1=[TC8_1 ARData(iTC8_1,:)];
0649         TC8_2=[TC8_2 ARData(iTC8_2,:)];
0650         TC8_3=[TC8_3 ARData(iTC8_3,:)];
0651         TC8_4=[TC8_4 ARData(iTC8_4,:)];
0652 
0653         TC9_1=[TC9_1 ARData(iTC9_1,:)];
0654         TC9_2=[TC9_2 ARData(iTC9_2,:)];
0655         TC9_3=[TC9_3 ARData(iTC9_3,:)];
0656         TC9_4=[TC9_4 ARData(iTC9_4,:)];
0657 
0658         TC10_1=[TC10_1 ARData(iTC10_1,:)];
0659         TC10_2=[TC10_2 ARData(iTC10_2,:)];
0660         TC10_3=[TC10_3 ARData(iTC10_3,:)];
0661         TC10_4=[TC10_4 ARData(iTC10_4,:)];
0662 
0663         TC12_1=[TC12_1 ARData(iTC12_1,:)];
0664         TC12_2=[TC12_2 ARData(iTC12_2,:)];
0665         TC12_3=[TC12_3 ARData(iTC12_3,:)];
0666         TC12_4=[TC12_4 ARData(iTC12_4,:)];
0667 
0668         TCSR01=[TCSR01 ARData(iTCSR01,:)];
0669         TCSR02=[TCSR02 ARData(iTCSR02,:)];
0670         TCSR03=[TCSR03 ARData(iTCSR03,:)];
0671         TCSR04=[TCSR04 ARData(iTCSR04,:)];
0672         TCSR05=[TCSR05 ARData(iTCSR05,:)];
0673         TCSR06=[TCSR06 ARData(iTCSR06,:)];
0674         TCSR07=[TCSR07 ARData(iTCSR07,:)];
0675         TCSR08=[TCSR08 ARData(iTCSR08,:)];
0676         TCSR09=[TCSR09 ARData(iTCSR09,:)];
0677         TCSR11=[TCSR11 ARData(iTCSR11,:)];
0678         TCSR12=[TCSR12 ARData(iTCSR12,:)];
0679         TCSRAVG=[TCSRAVG ARData(iTCSRAVG,:)];
0680 
0681         AHUT01=[AHUT01 ARData(iAHUT01,:)];
0682         AHUT03=[AHUT03 ARData(iAHUT03,:)];
0683         AHUT04=[AHUT04 ARData(iAHUT04,:)];
0684         AHUT06=[AHUT06 ARData(iAHUT06,:)];
0685         AHUT07=[AHUT07 ARData(iAHUT07,:)];
0686         AHUT08=[AHUT08 ARData(iAHUT08,:)];
0687         AHUT09=[AHUT09 ARData(iAHUT09,:)];
0688         AHUT11=[AHUT11 ARData(iAHUT11,:)];
0689 
0690         WVSRM=[WVSRM ARData(iWVSRM,:)];
0691 
0692         CWTemp=[CWTemp ARData(iCWTemp,:)];
0693         CWValve=[CWValve ARData(iCWValve,:)];
0694 
0695         RingLCWSupPx=[RingLCWSupPx ARData(iRingLCWSupPx,:)];
0696         RingLCWRetPx=[RingLCWRetPx ARData(iRingLCWRetPx,:)];
0697         LCWSupPx=[LCWSupPx ARData(iLCWSupPx,:)];
0698         LCWRetPx=[LCWRetPx ARData(iLCWRetPx,:)];
0699         LCWSupTemp=[LCWSupTemp ARData(iLCWSupTemp,:)];
0700         LCWRetTemp=[LCWRetTemp ARData(iLCWRetTemp,:)];
0701         WBasinTemp=[WBasinTemp ARData(iWBasinTemp,:)];
0702         EBasinTemp=[EBasinTemp ARData(iEBasinTemp,:)];
0703 
0704         <span class="comment">% All Bergoz BPMs</span>
0705         BPMx = [BPMx ARData(iBPMx,:)];
0706         BPMy = [BPMy ARData(iBPMy,:)];
0707 
0708         ID9BPM1xRMS = [ID9BPM1xRMS ARData(iID9BPM1xRMS,:)];
0709         ID9BPM1yRMS = [ID9BPM1yRMS ARData(iID9BPM1yRMS,:)];
0710         ID9BPM2xRMS = [ID9BPM2xRMS ARData(iID9BPM2xRMS,:)];
0711         ID9BPM2yRMS = [ID9BPM2yRMS ARData(iID9BPM2yRMS,:)];
0712 
0713         C1TEMP=[C1TEMP ARData(iC1TEMP,:)];
0714         C2TEMP=[C2TEMP ARData(iC2TEMP,:)];
0715 
0716         SigX=[SigX ARData(iSigX,:)];
0717         SigY=[SigY ARData(iSigY,:)];
0718 
0719         <span class="keyword">if</span> ~isempty(iSigX31)
0720             SigX31=[SigX31 ARData(iSigX31,:)];
0721         <span class="keyword">else</span>
0722             SigX31 = [SigX31 NaN * ones(1,length(ARt))];
0723         <span class="keyword">end</span>
0724 
0725         <span class="keyword">if</span> ~isempty(iSigY31)
0726             SigY31=[SigY31 ARData(iSigY31,:)];
0727         <span class="keyword">else</span>
0728             SigY31 = [SigY31 NaN * ones(1,length(ARt))];
0729         <span class="keyword">end</span>
0730 
0731         <span class="keyword">if</span> ~isempty(iSigX72)
0732             SigX72=[SigX72 ARData(iSigX72,:)];
0733         <span class="keyword">else</span>
0734             SigX72 = [SigX72 NaN * ones(1,length(ARt))];
0735         <span class="keyword">end</span>
0736 
0737         <span class="keyword">if</span> ~isempty(iSigY72)
0738             SigY72=[SigY72 ARData(iSigY72,:)];
0739         <span class="keyword">else</span>
0740             SigY72 = [SigY72 NaN * ones(1,length(ARt))];
0741         <span class="keyword">end</span>
0742 
0743         SpiroX=[SpiroX ARData(iSpiroX,:)];
0744         SpiroY=[SpiroY ARData(iSpiroY,:)];
0745 
0746         HPcounter=[HPcounter ARData(iHPcounter,:)];
0747         HPsyn=[HPsyn ARData(iHPsyn,:)];
0748         hqmofm=[hqmofm 4.988e3*ARData(ihqmofm,:)];
0749 
0750         QFAam=[QFAam ARData(iQFAam,:)];
0751 
0752         <span class="comment">% BR RF parameters</span>
0753         Power_RF_fwd=[Power_RF_fwd ARData(iPower_RF_fwd,:)];
0754         Power_RF_ref=[Power_RF_ref ARData(iPower_RF_ref,:)];
0755         Power_drive=[Power_drive ARData(iPower_drive,:)];
0756         HV_setpoint=[HV_setpoint ARData(iHV_setpoint,:)];
0757         Beam_volts=[Beam_volts ARData(iBeam_volts,:)];
0758         Beam_current=[Beam_current ARData(iBeam_current,:)];
0759         Bias_volts=[Bias_volts ARData(iBias_volts,:)];
0760         Bias_current=[Bias_current ARData(iBias_current,:)];
0761         Heater_Voltage=[Heater_Voltage ARData(iHeater_Voltage,:)];
0762         Heater_current=[Heater_current ARData(iHeater_current,:)];
0763         Focus_voltage=[Focus_voltage ARData(iFocus_voltage,:)];
0764         Focus_current=[Focus_current ARData(iFocus_current,:)];
0765         VacIon_voltage=[VacIon_voltage ARData(iVacIon_voltage,:)];
0766         VacIon_current=[VacIon_current ARData(iVacIon_current,:)];
0767         Thy_Grid1_volts=[Thy_Grid1_volts ARData(iThy_Grid1_volts,:)];
0768         Thy_Grid2_volts=[Thy_Grid2_volts ARData(iThy_Grid2_volts,:)];
0769         Thy_heater_volts=[Thy_heater_volts ARData(iThy_heater_volts,:)];
0770         Thy_heater_current=[Thy_heater_current ARData(iThy_heater_current,:)];
0771         Body_Current=[Body_Current ARData(iBody_Current,:)];
0772         Temp_HV_enclose=[Temp_HV_enclose ARData(iTemp_HV_enclose,:)];
0773         Temp_IOT_enclose=[Temp_IOT_enclose ARData(iTemp_IOT_enclose,:)];
0774         Temp_IOT_cooling=[Temp_IOT_cooling ARData(iTemp_IOT_cooling,:)];
0775         Temp_ceramic_output=[Temp_ceramic_output ARData(iTemp_ceramic_output,:)];
0776         BR_CLDFWD=[BR_CLDFWD ARData(iBR_CLDFWD,:)];
0777         BR_WGREV=[BR_WGREV ARData(iBR_WGREV,:)];
0778         BR_WGFWD=[BR_WGFWD ARData(iBR_WGFWD,:)];
0779         BR_RFCONT=[BR_RFCONT ARData(iBR_RFCONT,:)];
0780         BR_PHSCON_AM=[BR_PHSCON_AM ARData(iBR_PHSCON_AM,:)];
0781         BR_PHSCON_AC=[BR_PHSCON_AC ARData(iBR_PHSCON_AC,:)];
0782         BR_TUNPOS=[BR_TUNPOS ARData(iBR_TUNPOS,:)];
0783         BR_TUNERR=[BR_TUNERR ARData(iBR_TUNERR,:)];
0784         BR_CAVTMP=[BR_CAVTMP ARData(iBR_CAVTMP,:)];
0785         BR_LCWTMP=[BR_LCWTMP ARData(iBR_LCWTMP,:)];
0786         BR_CLDFLW=[BR_CLDFLW ARData(iBR_CLDFLW,:)];
0787         BR_CIRFLW=[BR_CIRFLW ARData(iBR_CIRFLW,:)];
0788         BR_SLDTMP=[BR_SLDTMP ARData(iBR_SLDTMP,:)];
0789         BR_CIRTMP=[BR_CIRTMP ARData(iBR_CIRTMP,:)];
0790         BR_SLDFLW=[BR_SLDFLW ARData(iBR_SLDFLW,:)];
0791         BR_CLDTMP=[BR_CLDTMP ARData(iBR_CLDTMP,:)];
0792         BR_CAVFLW=[BR_CAVFLW ARData(iBR_CAVFLW,:)];
0793         BR_WINFLW=[BR_WINFLW ARData(iBR_WINFLW,:)];
0794         BR_TUNFLW=[BR_TUNFLW ARData(iBR_TUNFLW,:)];
0795 
0796         <span class="comment">% Beamline shutters</span>
0797         <span class="keyword">if</span> ~isempty(iB021_PSS201_OPN)
0798             B021_PSS201_OPN=[B021_PSS201_OPN ARData(iB021_PSS201_OPN,:)];
0799         <span class="keyword">else</span>
0800             B021_PSS201_OPN = [B021_PSS201_OPN NaN * ones(1,length(ARt))];
0801         <span class="keyword">end</span>
0802         B03_11_PSS1_RSS_TRLY_OPN=[B03_11_PSS1_RSS_TRLY_OPN ARData(iB03_11_PSS1_RSS_TRLY_OPN,:)];
0803         B03_2_PSS101_RSS_TRLY_OPN=[B03_2_PSS101_RSS_TRLY_OPN ARData(iB03_2_PSS101_RSS_TRLY_OPN,:)];
0804         B03_2_PSS201_RSS_TRLY_OPN=[B03_2_PSS201_RSS_TRLY_OPN ARData(iB03_2_PSS201_RSS_TRLY_OPN,:)];
0805         B03_3_PSS101_RSS_TRLY_OPN=[B03_3_PSS101_RSS_TRLY_OPN ARData(iB03_3_PSS101_RSS_TRLY_OPN,:)];
0806         B03_3_PSS201_RSS_TRLY_OPN=[B03_3_PSS201_RSS_TRLY_OPN ARData(iB03_3_PSS201_RSS_TRLY_OPN,:)];
0807         B040_PSS002_RSS_TRLY_OPN=[B040_PSS002_RSS_TRLY_OPN ARData(iB040_PSS002_RSS_TRLY_OPN,:)];
0808         B040_PSS001_RSS_TRLY_OPN=[B040_PSS001_RSS_TRLY_OPN ARData(iB040_PSS001_RSS_TRLY_OPN,:)];
0809         ICS_BL042_PSS101_RSS_TRLY_OP=[ICS_BL042_PSS101_RSS_TRLY_OP ARData(iICS_BL042_PSS101_RSS_TRLY_OP,:)];
0810         ICS_BL042_PSS201_RSS_TRLY_OP=[ICS_BL042_PSS201_RSS_TRLY_OP ARData(iICS_BL042_PSS201_RSS_TRLY_OP,:)];
0811         ICS_BL043_PSS101_RSS_TRLY_OP=[ICS_BL043_PSS101_RSS_TRLY_OP ARData(iICS_BL043_PSS101_RSS_TRLY_OP,:)];
0812         ICS_BL043_PSS201_RSS_TRLY_OP=[ICS_BL043_PSS201_RSS_TRLY_OP ARData(iICS_BL043_PSS201_RSS_TRLY_OP,:)];
0813         B050_PSS001_RSS_TRLY_OPN=[B050_PSS001_RSS_TRLY_OPN ARData(iB050_PSS001_RSS_TRLY_OPN,:)];
0814         B050_PSS101_OPN=[B050_PSS101_OPN ARData(iB050_PSS101_OPN,:)];
0815         B050_PSS201_OPN=[B050_PSS201_OPN ARData(iB050_PSS201_OPN,:)];
0816         B050_PSS301_OPN=[B050_PSS301_OPN ARData(iB050_PSS301_OPN,:)];
0817         B050_PSS111_OPN=[B050_PSS111_OPN ARData(iB050_PSS111_OPN,:)];
0818         B050_PSS211_OPN=[B050_PSS211_OPN ARData(iB050_PSS211_OPN,:)];
0819         B050_PSS311_OPN=[B050_PSS311_OPN ARData(iB050_PSS311_OPN,:)];
0820         B053_PSS101_RSS_TRLY_OPN=[B053_PSS101_RSS_TRLY_OPN ARData(iB053_PSS101_RSS_TRLY_OPN,:)];
0821         B053_PSS201_RSS_TRLY_OPN=[B053_PSS201_RSS_TRLY_OPN ARData(iB053_PSS201_RSS_TRLY_OPN,:)];
0822         B060_PSS101_OPN=[B060_PSS101_OPN ARData(iB060_PSS101_OPN,:)];
0823         B0612_PSS1_OPN=[B0612_PSS1_OPN ARData(iB0612_PSS1_OPN,:)];
0824         B0631_PSS1_OPN=[B0631_PSS1_OPN ARData(iB0631_PSS1_OPN,:)];
0825         B0632_PSS1_OPN=[B0632_PSS1_OPN ARData(iB0632_PSS1_OPN,:)];
0826         B0701_PSS1_RSS_TRLY_OPN=[B0701_PSS1_RSS_TRLY_OPN ARData(iB0701_PSS1_RSS_TRLY_OPN,:)];
0827         B073_PSS1_RSS_TRLY_OPN=[B073_PSS1_RSS_TRLY_OPN ARData(iB073_PSS1_RSS_TRLY_OPN,:)];
0828         B0733_PSS1_OPN=[B0733_PSS1_OPN ARData(iB0733_PSS1_OPN,:)];
0829         ICS_B0801_PSS1_RSS_TRLY_OPN=[ICS_B0801_PSS1_RSS_TRLY_OPN ARData(iICS_B0801_PSS1_RSS_TRLY_OPN,:)];
0830         ICS_B082_PSS101_RSS_TRLY_OP=[ICS_B082_PSS101_RSS_TRLY_OP ARData(iICS_B082_PSS101_RSS_TRLY_OP,:)];
0831         ICS_B082_PSS201_RSS_TRLY_OP=[ICS_B082_PSS201_RSS_TRLY_OP ARData(iICS_B082_PSS201_RSS_TRLY_OP,:)];
0832         ICS_B083_PSS101_RSS_TRLY_OP=[ICS_B083_PSS101_RSS_TRLY_OP ARData(iICS_B083_PSS101_RSS_TRLY_OP,:)];
0833         ICS_B083_PSS201_RSS_TRLY_OP=[ICS_B083_PSS201_RSS_TRLY_OP ARData(iICS_B083_PSS201_RSS_TRLY_OP,:)];
0834         B090_PSS1_RSS_TRLY_OPN=[B090_PSS1_RSS_TRLY_OPN ARData(iB090_PSS1_RSS_TRLY_OPN,:)];
0835         B09_31_PSS1_RSS_TRLY_OPN=[B09_31_PSS1_RSS_TRLY_OPN ARData(iB09_31_PSS1_RSS_TRLY_OPN,:)];
0836         B09_3_PSS1_RSS_TRLY_OPN=[B09_3_PSS1_RSS_TRLY_OPN ARData(iB09_3_PSS1_RSS_TRLY_OPN,:)];
0837         B10_0_PSS001_RSS_TRLY_OPN=[B10_0_PSS001_RSS_TRLY_OPN ARData(iB10_0_PSS001_RSS_TRLY_OPN,:)];
0838         B10_31_PSS1_RSS_TRLY_OPN=[B10_31_PSS1_RSS_TRLY_OPN ARData(iB10_31_PSS1_RSS_TRLY_OPN,:)];
0839         B110_PSS101_RSS_TRLY_OPN=[B110_PSS101_RSS_TRLY_OPN ARData(iB110_PSS101_RSS_TRLY_OPN,:)];
0840         B110_PSS201_RSS_TRLY_OPN=[B110_PSS201_RSS_TRLY_OPN ARData(iB110_PSS201_RSS_TRLY_OPN,:)];
0841         BL113_PSS101_RSS_TRLY_OPN=[BL113_PSS101_RSS_TRLY_OPN ARData(iBL113_PSS101_RSS_TRLY_OPN,:)];
0842         BL113_PSS201_RSS_TRLY_OPN=[BL113_PSS201_RSS_TRLY_OPN ARData(iBL113_PSS201_RSS_TRLY_OPN,:)];
0843         ICS_BL12_0_PSS1_RSS_TRLY_OPN=[ICS_BL12_0_PSS1_RSS_TRLY_OPN ARData(iICS_BL12_0_PSS1_RSS_TRLY_OPN,:)];
0844         ICS_BL12_2_PSS101_RSS_TRLY_O=[ICS_BL12_2_PSS101_RSS_TRLY_O ARData(iICS_BL12_2_PSS101_RSS_TRLY_O,:)];
0845         ICS_BL12_2_PSS201_RSS_TRLY_O=[ICS_BL12_2_PSS201_RSS_TRLY_O ARData(iICS_BL12_2_PSS201_RSS_TRLY_O,:)];
0846         ICS_BL12_3_PSS101_RSS_TRLY_O=[ICS_BL12_3_PSS101_RSS_TRLY_O ARData(iICS_BL12_3_PSS101_RSS_TRLY_O,:)];
0847         ICS_BL12_3_PSS201_RSS_TRLY_O=[ICS_BL12_3_PSS201_RSS_TRLY_O ARData(iICS_BL12_3_PSS201_RSS_TRLY_O,:)];
0848         B122_PSS111_OPN=[B122_PSS111_OPN ARData(iB122_PSS111_OPN,:)];
0849         B122_PSS211_OPN=[B122_PSS211_OPN ARData(iB122_PSS211_OPN,:)];
0850         B123_PSS111_OPN=[B123_PSS111_OPN ARData(iB123_PSS111_OPN,:)];
0851         B123_PSS211_OPN=[B123_PSS211_OPN ARData(iB123_PSS211_OPN,:)];
0852 
0853         <span class="comment">% time vector</span>
0854 <span class="comment">%       t = [t  ARt+(day-StartDay)*24*60*60];</span>
0855         t = [t  ARt+(day-StartDay+(days(length(days))-days(1)+1))*24*60*60];
0856 
0857     <span class="keyword">end</span>
0858     tmp = toc;
0859     ar_functions_time = ar_functions_time + tmp;
0860     fprintf(<span class="string">'One day of arselect = %g s\n'</span>,tmp);
0861     tic;
0862 <span class="keyword">end</span>
0863 fprintf(<span class="string">'  %.1f seconds to arread and arselect data\n'</span>, ar_functions_time);
0864 
0865 <span class="comment">% condition data</span>
0866 
0867 LCWRetTemp = mean(LCWRetTemp);
0868 
0869 dcct = 100*dcct;
0870 
0871 <span class="comment">% Remove points when current is below 1 mamps</span>
0872 [y, i]=find(dcct&lt;1);
0873 BPMx(:,i) = NaN;
0874 BPMy(:,i) = NaN;
0875 ID9BPM1xRMS(i)=NaN;
0876 ID9BPM1yRMS(i)=NaN;
0877 ID9BPM2xRMS(i)=NaN;
0878 ID9BPM2yRMS(i)=NaN;
0879 <span class="comment">%dcct(i)=NaN*ones(size(i));</span>
0880 <span class="comment">%EPU(:,i)=NaN*ones(2,length(i));</span>
0881 <span class="comment">%IDgap(:,i)=NaN*ones(size(IDgap,1),length(i));</span>
0882 SigX(i)=NaN;
0883 SigY(i)=NaN;
0884 SigX31(i)=NaN;
0885 SigY31(i)=NaN;
0886 SigX72(i)=NaN;
0887 SigY72(i)=NaN;
0888 SpiroX(i)=NaN;
0889 SpiroY(i)=NaN;
0890 gev(i)=NaN;
0891 lifetime(i)=NaN;
0892 HPsyn(i)=NaN;
0893 hqmofm(i)=NaN;
0894 HPcounter(i)=NaN;
0895 
0896 <span class="comment">% Remove points when the current is below .5 mamps for the lifetime calculation</span>
0897 i = find(dcct &lt; .5);
0898 BPMx(:,i) = NaN;
0899 BPMy(:,i) = NaN;
0900 dcct(i) = NaN;
0901 dlogdcct = diff(log(dcct));
0902 lifetime1 = -diff(t/60/60)./(dlogdcct);
0903 i = find(lifetime1 &lt; 0);
0904 lifetime1(i) = NaN;
0905 
0906 i = find(i_cam &lt; .5);
0907 i_cam(i) = NaN;
0908 
0909 <span class="comment">% dlogcam = mean([diff(log(i_cam(1:(end-9))));diff(log(i_cam(2:(end-8)))); ...</span>
0910 <span class="comment">%        diff(log(i_cam(3:(end-7))));diff(log(i_cam(4:(end-6)))); ...</span>
0911 <span class="comment">%        diff(log(i_cam(5:(end-5))));diff(log(i_cam(6:(end-4)))); ...</span>
0912 <span class="comment">%        diff(log(i_cam(7:(end-3))));diff(log(i_cam(8:(end-2)))); ...</span>
0913 <span class="comment">%        diff(log(i_cam(9:(end-1))));diff(log(i_cam(10:end)))],1);</span>
0914 
0915 logcam = log(i_cam);lifetime2=[];
0916 
0917 tic;
0918 <span class="keyword">for</span> loop = 1:(length(logcam)-15)
0919     fitpar = polyfit(t(loop:(loop+15))/60/60,logcam(loop:(loop+15)),1);
0920     stdfit = std(logcam(loop:(loop+15))-polyval(fitpar,t(loop:(loop+15))/60/60));
0921     remindex = find(abs(logcam(loop:(loop+15))-polyval(fitpar,t(loop:(loop+15))/60/60))&gt;2.5*stdfit);
0922     logcam(loop+remindex-1)=NaN;
0923     fitpar = polyfit(t(loop:(loop+15))/60/60,logcam(loop:(loop+15)),1);
0924     lifetime2(loop) = -1/fitpar(1);
0925 <span class="keyword">end</span>
0926 cam_fit_time = toc;
0927 <span class="comment">%fprintf('  %.1f seconds to fit cam bucket lifetime\n', cam_fit_time);</span>
0928 
0929 <span class="comment">% lifetime2 = -(diff(t(1:(end-9)))/60/60)./(dlogcam);</span>
0930 i = find(lifetime2 &lt; 0);
0931 lifetime2(i) = NaN;
0932 
0933 <span class="comment">% Remove points when FF is disabled</span>
0934 <span class="keyword">if</span> FFFlag
0935     [y, i] = find(FF7Enable==0);
0936     BPMx(:,i) = NaN;
0937     BPMy(:,i) = NaN;
0938     ID9BPM1xRMS(i)=NaN;
0939     ID9BPM1yRMS(i)=NaN;
0940     ID9BPM2xRMS(i)=NaN;
0941     ID9BPM2yRMS(i)=NaN;
0942     <span class="comment">%dcct(i)=NaN*ones(size(i));</span>
0943     EPU(:,i)=NaN;
0944     IDgap(:,i)=NaN;
0945     SigX(i)=NaN;
0946     SigY(i)=NaN;
0947     SigX31(i)=NaN;
0948     SigY31(i)=NaN;
0949     SigX72(i)=NaN;
0950     SigY72(i)=NaN;
0951     SpiroX(i)=NaN;
0952     SpiroY(i)=NaN;
0953     gev(i)=NaN;
0954     lifetime(i)=NaN;
0955     HPsyn(i)=NaN;
0956     hqmofm(i)=NaN;
0957     HPcounter(i)=NaN;
0958 <span class="keyword">end</span>
0959 
0960 <span class="comment">% Remove points when the gaps are open</span>
0961 <span class="comment">% j = any([IDgap5;IDgap7;IDgap8;IDgap9;IDgap10;IDgap12] &lt; 80);</span>
0962 <span class="comment">%j = any(IDgap &lt; 80); % was 80 before IVID</span>
0963 j = any(IDgap &lt; 29); <span class="comment">%changed from 37 10-10-05 because we've been running IVID at 30mm pemanently</span>
0964 i = 1:length(t);
0965 i(j) = [];
0966 BPMx(:,i) = NaN;
0967 BPMy(:,i) = NaN;
0968 ID9BPM1xRMS(i)=NaN;
0969 ID9BPM1yRMS(i)=NaN;
0970 ID9BPM2xRMS(i)=NaN;
0971 ID9BPM2yRMS(i)=NaN;
0972 <span class="comment">%dcct(i)=NaN;</span>
0973 EPU(:,i)=NaN;
0974 IDgap(:,i)=NaN;
0975 SigX(i)=NaN;
0976 SigY(i)=NaN;
0977 SigX31(i)=NaN;
0978 SigY31(i)=NaN;
0979 SigX72(i)=NaN;
0980 SigY72(i)=NaN;
0981 SpiroX(i)=NaN;
0982 SpiroY(i)=NaN;
0983 gev(i)=NaN;
0984 lifetime(i)=NaN;
0985 HPsyn(i)=NaN;
0986 hqmofm(i)=NaN;
0987 HPcounter(i)=NaN;
0988 
0989 <span class="comment">% Remove points after a NaN (based on BPMx, which is filtered to NaN during fills...)</span>
0990 [y, i]=find(isnan(BPMx(1,:)));
0991 i = i + 1;
0992 <span class="keyword">if</span> ~isempty(i)
0993     <span class="keyword">if</span> i(end) &gt; size(BPMx,2)
0994         i = i(1:end-1);
0995     <span class="keyword">end</span>
0996 <span class="keyword">end</span>
0997 BPMx(:,i) = NaN;
0998 BPMy(:,i) = NaN;
0999 ID9BPM1xRMS(i)=NaN;
1000 ID9BPM1yRMS(i)=NaN;
1001 ID9BPM2xRMS(i)=NaN;
1002 ID9BPM2yRMS(i)=NaN;
1003 <span class="comment">%dcct(i)=NaN*ones(size(i));</span>
1004 <span class="comment">%EPU(:,i)=NaN*ones(2,length(i));</span>
1005 <span class="comment">%IDgap(:,i)=NaN*ones(size(IDgap,1),length(i));</span>
1006 SigX(i)=NaN;
1007 SigY(i)=NaN;
1008 SigX31(i)=NaN;
1009 SigY31(i)=NaN;
1010 SigX72(i)=NaN;
1011 SigY72(i)=NaN;
1012 SpiroX(i)=NaN;
1013 SpiroY(i)=NaN;
1014 gev(i)=NaN;
1015 lifetime(i)=NaN;
1016 HPsyn(i)=NaN;
1017 hqmofm(i)=NaN;
1018 HPcounter(i)=NaN;
1019 
1020 <span class="comment">% Remove points before a NaN (based on BPMx, which is filtered to NaN during fills...)</span>
1021 i = i - 2;
1022 <span class="keyword">if</span> ~isempty(i)
1023     <span class="keyword">if</span> i(1) &lt; 1
1024         i = i(2:end);
1025     <span class="keyword">end</span>
1026 <span class="keyword">end</span>
1027 BPMx(:,i) = NaN;
1028 BPMy(:,i) = NaN;
1029 ID9BPM1xRMS(i)=NaN;
1030 ID9BPM1yRMS(i)=NaN;
1031 ID9BPM2xRMS(i)=NaN;
1032 ID9BPM2yRMS(i)=NaN;
1033 <span class="comment">%dcct(i)=NaN*ones(size(i));</span>
1034 <span class="comment">%EPU(:,i)=NaN*ones(2,length(i));</span>
1035 <span class="comment">%IDgap(:,i)=NaN*ones(size(IDgap,1),length(i));</span>
1036 SigX(i)=NaN;
1037 SigY(i)=NaN;
1038 SigX31(i)=NaN;
1039 SigY31(i)=NaN;
1040 SigX72(i)=NaN;
1041 SigY72(i)=NaN;
1042 SpiroX(i)=NaN;
1043 SpiroY(i)=NaN;
1044 gev(i)=NaN;
1045 lifetime(i)=NaN;
1046 HPsyn(i)=NaN;
1047 hqmofm(i)=NaN;
1048 HPcounter(i)=NaN;
1049 
1050 <span class="comment">% remove HPCounter errant data</span>
1051 [y, i]=find(HPcounter&lt;400);
1052 HPcounter(i)=NaN;
1053 
1054 <span class="comment">% remove when T&gt;55 (this usually indicates work on system - trip is at 33)</span>
1055 [y, i]=find(TC7_1&gt;55 | TC7_2&gt;55 | TC7_3&gt;55 | TC7_4&gt;55 | TC8_1&gt;55 | TC8_2&gt;55 | TC8_3&gt;55 | TC8_4&gt;55 | TC9_1&gt;55 | TC9_2&gt;55 | TC9_3&gt;55 | TC9_4&gt;55 | TC10_1&gt;55 | TC10_2&gt;55 | TC10_3&gt;55 | TC10_4&gt;55 | TC12_1&gt;55 | TC12_2&gt;55 | TC12_3&gt;55 | TC12_4&gt;55);
1056 TC7_1(i)=NaN;
1057 TC7_2(i)=NaN;
1058 TC7_3(i)=NaN;
1059 TC7_4(i)=NaN;
1060 TC8_1(i)=NaN;
1061 TC8_2(i)=NaN;
1062 TC8_3(i)=NaN;
1063 TC8_4(i)=NaN;
1064 TC9_1(i)=NaN;
1065 TC9_2(i)=NaN;
1066 TC9_3(i)=NaN;
1067 TC9_4(i)=NaN;
1068 TC10_1(i)=NaN;
1069 TC10_2(i)=NaN;
1070 TC10_3(i)=NaN;
1071 TC10_4(i)=NaN;
1072 TC12_1(i)=NaN;
1073 TC12_2(i)=NaN;
1074 TC12_3(i)=NaN;
1075 TC12_4(i)=NaN;
1076 
1077 <span class="comment">% remove points around zero temperture readings (these happen during facilities backups)</span>
1078 [y, i]=find(TCSR01&lt;5 | TCSR02&lt;5 | TCSR03&lt;5 | TCSR04&lt;5| TCSR06&lt;5 | TCSR07&lt;5 | TCSR08&lt;5 | TCSR09&lt;5 | TCSR11&lt;5 | TCSR12&lt;5 | TCSRAVG&lt;5);
1079 TCSR01(i)=NaN;
1080 TCSR02(i)=NaN;
1081 TCSR03(i)=NaN;
1082 TCSR04(i)=NaN;
1083 TCSR05(i)=NaN;
1084 TCSR06(i)=NaN;
1085 TCSR07(i)=NaN;
1086 TCSR08(i)=NaN;
1087 TCSR09(i)=NaN;
1088 TCSR11(i)=NaN;
1089 TCSR12(i)=NaN;
1090 TCSRAVG(i)=NaN;
1091 AHUT01(i)=NaN;
1092 AHUT03(i)=NaN;
1093 AHUT04(i)=NaN;
1094 AHUT06(i)=NaN;
1095 AHUT07(i)=NaN;
1096 AHUT08(i)=NaN;
1097 AHUT09(i)=NaN;
1098 AHUT11(i)=NaN;
1099 WVSRM(i)=NaN;
1100 CWTemp(i)=NaN;
1101 CWValve(i)=NaN;
1102 
1103 <span class="comment">%[y, i]=find(LCWSupPx&lt;5 | LCWRetPx &lt;5 | LCWSupTemp&lt;5 | LCWRetTemp&lt;5 | WBasinTemp&lt;5 | EBasinTemp&lt;5 | CWTemp &lt; 5);</span>
1104 <span class="comment">%next line temporary filter until facilities channels are fixed - 2004-03-23 T.Scarvie</span>
1105 [y, i]=find(LCWSupPx&lt;5 | LCWRetPx &lt;5 | LCWRetTemp&lt;5 | CWTemp &lt; 5);
1106 LCWSupPx(i)=NaN;  <span class="comment">% PSI</span>
1107 LCWRetPx(i)=NaN;
1108 LCWSupTemp(i)=NaN;
1109 LCWRetTemp(i)=NaN;
1110 WBasinTemp(i)=NaN;
1111 EBasinTemp(i)=NaN;
1112 CWTemp(i)=NaN;
1113 
1114 <span class="comment">% Convert to celcius</span>
1115 LCWSupTemp = (LCWSupTemp-32)*5/9;
1116 LCWRetTemp = (LCWRetTemp-32)*5/9;
1117 WBasinTemp = (WBasinTemp-32)*5/9;
1118 EBasinTemp = (EBasinTemp-32)*5/9;
1119 CWTemp     = (CWTemp-32)*5/9;
1120 
1121 <span class="comment">% Subtract known amount (golden orbit)</span>
1122 BPMx = BPMx-getgolden(<span class="string">'BPMx'</span>, BPMlist)*ones(1,size(BPMx,2));
1123 BPMy = BPMy-getgolden(<span class="string">'BPMy'</span>, BPMlist)*ones(1,size(BPMy,2));
1124 
1125 <span class="comment">% Find the tune shift due to insertion devices</span>
1126 TuneShift = zeros(size(IDgap(1,:)));
1127 ind5 = find(IDlist(:,1) == 5);              <span class="comment">% remove sector 5</span>
1128 <span class="keyword">for</span> i = 1:size(IDlist,1)
1129     <span class="keyword">if</span> ~any(i==ind5)
1130         TuneShift = TuneShift + <a href="gap2tune.html" class="code" title="function [Dnuy, Beff, Bmax, Lambda, IDLength, B10, B30, B50] = gap2tune(Sector, Gap, GeV, FitFlag)">gap2tune</a>(IDlist(i,:), IDgap(i,:), gev);
1131     <span class="keyword">end</span>
1132 <span class="keyword">end</span>
1133 
1134 <span class="comment">% Hours or days for the x-axis?</span>
1135 <span class="keyword">if</span> t(end)/60/60/24 &gt; 3
1136     t = t/60/60/24;
1137     xlabelstring = [<span class="string">'Date since '</span>, StartDayStr, <span class="string">' [Days]'</span>];
1138     DayFlag = 1;
1139 <span class="keyword">else</span>
1140     t = t/60/60;
1141     xlabelstring = [<span class="string">'Time since '</span>, StartDayStr, <span class="string">' [Hours]'</span>];
1142     DayFlag = 0;
1143 <span class="keyword">end</span>
1144 Days = [days days2];
1145 xmax = max(t);
1146 
1147 <span class="comment">% change data to NaN for plotting if archiver has stalled for more than 12minutes</span>
1148 StalledArchFlag = [];
1149 <span class="keyword">for</span> loop = 1:size(t,2)-1
1150     StalledArchFlag(loop) = (t(loop+1)-t(loop)&gt;0.2);
1151 <span class="keyword">end</span>
1152 SANum = find(StalledArchFlag==1)+1;
1153 dcct(SANum)=NaN;
1154 TC7_1(SANum)=NaN;
1155 TC7_2(SANum)=NaN;
1156 TC7_3(SANum)=NaN;
1157 TC7_4(SANum)=NaN;
1158 TC8_1(SANum)=NaN;
1159 TC8_2(SANum)=NaN;
1160 TC8_3(SANum)=NaN;
1161 TC8_4(SANum)=NaN;
1162 TC9_1(SANum)=NaN;
1163 TC9_2(SANum)=NaN;
1164 TC9_3(SANum)=NaN;
1165 TC9_4(SANum)=NaN;
1166 TC10_1(SANum)=NaN;
1167 TC10_2(SANum)=NaN;
1168 TC10_3(SANum)=NaN;
1169 TC10_4(SANum)=NaN;
1170 TC12_1(SANum)=NaN;
1171 TC12_2(SANum)=NaN;
1172 TC12_3(SANum)=NaN;
1173 TC12_4(SANum)=NaN;
1174 TCSR01(SANum)=NaN;
1175 TCSR02(SANum)=NaN;
1176 TCSR03(SANum)=NaN;
1177 TCSR04(SANum)=NaN;
1178 TCSR05(SANum)=NaN;
1179 TCSR06(SANum)=NaN;
1180 TCSR07(SANum)=NaN;
1181 TCSR08(SANum)=NaN;
1182 TCSR09(SANum)=NaN;
1183 TCSR11(SANum)=NaN;
1184 TCSR12(SANum)=NaN;
1185 TCSRAVG(SANum)=NaN;
1186 AHUT01(SANum)=NaN;
1187 AHUT03(SANum)=NaN;
1188 AHUT04(SANum)=NaN;
1189 AHUT06(SANum)=NaN;
1190 AHUT07(SANum)=NaN;
1191 AHUT08(SANum)=NaN;
1192 AHUT09(SANum)=NaN;
1193 AHUT11(SANum)=NaN;
1194 WVSRM(SANum)=NaN;
1195 CWTemp(SANum)=NaN;
1196 CWValve(SANum)=NaN;
1197 LCWSupPx(SANum)=NaN;
1198 LCWRetPx(SANum)=NaN;
1199 RingLCWSupPx(SANum)=NaN;
1200 RingLCWRetPx(SANum)=NaN;
1201 LCWSupTemp(SANum)=NaN;
1202 LCWRetTemp(SANum)=NaN;
1203 WBasinTemp(SANum)=NaN;
1204 EBasinTemp(SANum)=NaN;
1205 CWTemp(i)=NaN;
1206 C1TEMP(SANum)=NaN;
1207 C2TEMP(SANum)=NaN;
1208 lcw(SANum)=NaN;
1209 Power_RF_fwd(SANum)=NaN;
1210 Power_RF_ref(SANum)=NaN;
1211 Power_drive(SANum)=NaN;
1212 HV_setpoint(SANum)=NaN;
1213 Beam_volts(SANum)=NaN;
1214 Beam_current(SANum)=NaN;
1215 Bias_volts(SANum)=NaN;
1216 Bias_current(SANum)=NaN;
1217 Heater_Voltage(SANum)=NaN;
1218 Heater_current(SANum)=NaN;
1219 Focus_voltage(SANum)=NaN;
1220 Focus_current(SANum)=NaN;
1221 VacIon_voltage(SANum)=NaN;
1222 VacIon_current(SANum)=NaN;
1223 Thy_Grid1_volts(SANum)=NaN;
1224 Thy_Grid2_volts(SANum)=NaN;
1225 Thy_heater_volts(SANum)=NaN;
1226 Thy_heater_current(SANum)=NaN;
1227 Body_Current(SANum)=NaN;
1228 Temp_HV_enclose(SANum)=NaN;
1229 Temp_IOT_enclose(SANum)=NaN;
1230 Temp_IOT_cooling(SANum)=NaN;
1231 Temp_ceramic_output(SANum)=NaN;
1232 BR_CLDFWD(SANum)=NaN;
1233 BR_WGREV(SANum)=NaN;
1234 BR_WGFWD(SANum)=NaN;
1235 BR_RFCONT(SANum)=NaN;
1236 BR_PHSCON_AM(SANum)=NaN;
1237 BR_PHSCON_AC(SANum)=NaN;
1238 BR_TUNPOS(SANum)=NaN;
1239 BR_TUNERR(SANum)=NaN;
1240 BR_CAVTMP(SANum)=NaN;
1241 BR_LCWTMP(SANum)=NaN;
1242 BR_CLDFLW(SANum)=NaN;
1243 BR_CIRFLW(SANum)=NaN;
1244 BR_SLDTMP(SANum)=NaN;
1245 BR_CIRTMP(SANum)=NaN;
1246 BR_SLDFLW(SANum)=NaN;
1247 BR_CLDTMP(SANum)=NaN;
1248 BR_CAVFLW(SANum)=NaN;
1249 BR_WINFLW(SANum)=NaN;
1250 BR_TUNFLW(SANum)=NaN;
1251 
1252 <span class="comment">% Remove zero sigmas</span>
1253 SigX(find(SigX==0)) = NaN;
1254 SigY(find(SigY==0)) = NaN;
1255 
1256 <span class="comment">% Remove unrealistic data</span>
1257 LCWSupTemp(find(LCWSupTemp&lt;15)) = NaN;
1258 LCWRetTemp(find(LCWRetTemp&lt;15)) = NaN;
1259 WBasinTemp(find(WBasinTemp&lt;15)) = NaN;
1260 EBasinTemp(find(EBasinTemp&lt;15)) = NaN;
1261 
1262 <span class="comment">% filter BL shutters: change NaN's to zeros (NaN + number is always NaN)</span>
1263 B021_PSS201_OPN(:,find(isnan(B021_PSS201_OPN)))=0;
1264 B021_PSS201_OPN(:,find(B021_PSS201_OPN&gt;1))=0;
1265 B03_11_PSS1_RSS_TRLY_OPN(:,find(isnan(B03_11_PSS1_RSS_TRLY_OPN)))=0;
1266 B03_11_PSS1_RSS_TRLY_OPN(:,find(B03_11_PSS1_RSS_TRLY_OPN&gt;1))=0;
1267 B03_2_PSS101_RSS_TRLY_OPN(:,find(isnan(B03_2_PSS101_RSS_TRLY_OPN)))=0;
1268 B03_2_PSS101_RSS_TRLY_OPN(:,find(B03_2_PSS101_RSS_TRLY_OPN&gt;1))=0;
1269 B03_2_PSS201_RSS_TRLY_OPN(:,find(isnan(B03_2_PSS201_RSS_TRLY_OPN)))=0;
1270 B03_2_PSS201_RSS_TRLY_OPN(:,find(B03_2_PSS201_RSS_TRLY_OPN&gt;1))=0;
1271 B03_3_PSS101_RSS_TRLY_OPN(:,find(isnan(B03_3_PSS101_RSS_TRLY_OPN)))=0;
1272 B03_3_PSS101_RSS_TRLY_OPN(:,find(B03_3_PSS101_RSS_TRLY_OPN&gt;1))=0;
1273 B03_3_PSS201_RSS_TRLY_OPN(:,find(isnan(B03_3_PSS201_RSS_TRLY_OPN)))=0;
1274 B03_3_PSS201_RSS_TRLY_OPN(:,find(B03_3_PSS201_RSS_TRLY_OPN&gt;1))=0;
1275 B040_PSS002_RSS_TRLY_OPN(:,find(isnan(B040_PSS002_RSS_TRLY_OPN)))=0;
1276 B040_PSS002_RSS_TRLY_OPN(:,find(B040_PSS002_RSS_TRLY_OPN&gt;1))=0;
1277 B040_PSS001_RSS_TRLY_OPN(:,find(isnan(B040_PSS001_RSS_TRLY_OPN)))=0;
1278 B040_PSS001_RSS_TRLY_OPN(:,find(B040_PSS001_RSS_TRLY_OPN&gt;1))=0;
1279 ICS_BL042_PSS101_RSS_TRLY_OP(:,find(isnan(ICS_BL042_PSS101_RSS_TRLY_OP)))=0;
1280 ICS_BL042_PSS101_RSS_TRLY_OP(:,find(ICS_BL042_PSS101_RSS_TRLY_OP&gt;1))=0;
1281 ICS_BL042_PSS201_RSS_TRLY_OP(:,find(isnan(ICS_BL042_PSS201_RSS_TRLY_OP)))=0;
1282 ICS_BL042_PSS201_RSS_TRLY_OP(:,find(ICS_BL042_PSS201_RSS_TRLY_OP&gt;1))=0;
1283 ICS_BL043_PSS101_RSS_TRLY_OP(:,find(isnan(ICS_BL043_PSS101_RSS_TRLY_OP)))=0;
1284 ICS_BL043_PSS101_RSS_TRLY_OP(:,find(ICS_BL043_PSS101_RSS_TRLY_OP&gt;1))=0;
1285 ICS_BL043_PSS201_RSS_TRLY_OP(:,find(isnan(ICS_BL043_PSS201_RSS_TRLY_OP)))=0;
1286 ICS_BL043_PSS201_RSS_TRLY_OP(:,find(ICS_BL043_PSS201_RSS_TRLY_OP&gt;1))=0;
1287 B050_PSS001_RSS_TRLY_OPN(:,find(isnan(B050_PSS001_RSS_TRLY_OPN)))=0;
1288 B050_PSS001_RSS_TRLY_OPN(:,find(B050_PSS001_RSS_TRLY_OPN&gt;1))=0;
1289 B050_PSS101_OPN(:,find(isnan(B050_PSS101_OPN)))=0;
1290 B050_PSS101_OPN(:,find(B050_PSS101_OPN&gt;1))=0;
1291 B050_PSS201_OPN(:,find(isnan(B050_PSS201_OPN)))=0;
1292 B050_PSS201_OPN(:,find(B050_PSS201_OPN&gt;1))=0;
1293 B050_PSS301_OPN(:,find(isnan(B050_PSS301_OPN)))=0;
1294 B050_PSS301_OPN(:,find(B050_PSS301_OPN&gt;1))=0;
1295 B050_PSS111_OPN(:,find(isnan(B050_PSS111_OPN)))=0;
1296 B050_PSS111_OPN(:,find(B050_PSS111_OPN&gt;1))=0;
1297 B050_PSS211_OPN(:,find(isnan(B050_PSS211_OPN)))=0;
1298 B050_PSS211_OPN(:,find(B050_PSS211_OPN&gt;1))=0;
1299 B050_PSS311_OPN(:,find(isnan(B050_PSS311_OPN)))=0;
1300 B050_PSS311_OPN(:,find(B050_PSS311_OPN&gt;1))=0;
1301 B053_PSS101_RSS_TRLY_OPN(:,find(isnan(B053_PSS101_RSS_TRLY_OPN)))=0;
1302 B053_PSS101_RSS_TRLY_OPN(:,find(B053_PSS101_RSS_TRLY_OPN&gt;1))=0;
1303 B053_PSS201_RSS_TRLY_OPN(:,find(isnan(B053_PSS201_RSS_TRLY_OPN)))=0;
1304 B053_PSS201_RSS_TRLY_OPN(:,find(B053_PSS201_RSS_TRLY_OPN&gt;1))=0;
1305 B060_PSS101_OPN(:,find(isnan(B060_PSS101_OPN)))=0;
1306 B060_PSS101_OPN(:,find(B060_PSS101_OPN&gt;1))=0;
1307 B0612_PSS1_OPN(:,find(isnan(B0612_PSS1_OPN)))=0;
1308 B0612_PSS1_OPN(:,find(B0612_PSS1_OPN&gt;1))=0;
1309 B0631_PSS1_OPN(:,find(isnan(B0631_PSS1_OPN)))=0;
1310 B0631_PSS1_OPN(:,find(B0631_PSS1_OPN&gt;1))=0;
1311 B0632_PSS1_OPN(:,find(isnan(B0632_PSS1_OPN)))=0;
1312 B0632_PSS1_OPN(:,find(B0632_PSS1_OPN&gt;1))=0;
1313 B0701_PSS1_RSS_TRLY_OPN(:,find(isnan(B0701_PSS1_RSS_TRLY_OPN)))=0;
1314 B0701_PSS1_RSS_TRLY_OPN(:,find(B0701_PSS1_RSS_TRLY_OPN&gt;1))=0;
1315 B073_PSS1_RSS_TRLY_OPN(:,find(isnan(B073_PSS1_RSS_TRLY_OPN)))=0;
1316 B073_PSS1_RSS_TRLY_OPN(:,find(B073_PSS1_RSS_TRLY_OPN&gt;1))=0;
1317 B0733_PSS1_OPN(:,find(isnan(B0733_PSS1_OPN)))=0;
1318 B0733_PSS1_OPN(:,find(B0733_PSS1_OPN&gt;1))=0;
1319 ICS_B0801_PSS1_RSS_TRLY_OPN(:,find(isnan(ICS_B0801_PSS1_RSS_TRLY_OPN)))=0;
1320 ICS_B0801_PSS1_RSS_TRLY_OPN(:,find(ICS_B0801_PSS1_RSS_TRLY_OPN&gt;1))=0;
1321 ICS_B082_PSS101_RSS_TRLY_OP(:,find(isnan(ICS_B082_PSS101_RSS_TRLY_OP)))=0;
1322 ICS_B082_PSS101_RSS_TRLY_OP(:,find(ICS_B082_PSS101_RSS_TRLY_OP&gt;1))=0;
1323 ICS_B082_PSS201_RSS_TRLY_OP(:,find(isnan(ICS_B082_PSS201_RSS_TRLY_OP)))=0;
1324 ICS_B082_PSS201_RSS_TRLY_OP(:,find(ICS_B082_PSS201_RSS_TRLY_OP&gt;1))=0;
1325 ICS_B083_PSS101_RSS_TRLY_OP(:,find(isnan(ICS_B083_PSS101_RSS_TRLY_OP)))=0;
1326 ICS_B083_PSS101_RSS_TRLY_OP(:,find(ICS_B083_PSS101_RSS_TRLY_OP&gt;1))=0;
1327 ICS_B083_PSS201_RSS_TRLY_OP(:,find(isnan(ICS_B083_PSS201_RSS_TRLY_OP)))=0;
1328 ICS_B083_PSS201_RSS_TRLY_OP(:,find(ICS_B083_PSS201_RSS_TRLY_OP&gt;1))=0;
1329 <span class="comment">%B082_PSS111_OPN(:,find(isnan(B082_PSS111_OPN)))=0;</span>
1330 <span class="comment">%B082_PSS111_OPNfindnan(&gt;1B082_PSS111_OPN))=0;</span>
1331 <span class="comment">%B082_PSS211_OPN(:,find(isnan(B082_PSS211_OPN)))=0;</span>
1332 <span class="comment">%B082_PSS211_OPNfindnan(&gt;1B082_PSS211_OPN))=0;</span>
1333 <span class="comment">%B083_PSS111_OPN(:,find(isnan(B083_PSS111_OPN)))=0;</span>
1334 <span class="comment">%B083_PSS111_OPNfindnan(&gt;1B083_PSS111_OPN))=0;</span>
1335 B090_PSS1_RSS_TRLY_OPN(:,find(isnan(B090_PSS1_RSS_TRLY_OPN)))=0;
1336 B090_PSS1_RSS_TRLY_OPN(:,find(B090_PSS1_RSS_TRLY_OPN&gt;1))=0;
1337 B09_31_PSS1_RSS_TRLY_OPN(:,find(isnan(B09_31_PSS1_RSS_TRLY_OPN)))=0;
1338 B09_31_PSS1_RSS_TRLY_OPN(:,find(B09_31_PSS1_RSS_TRLY_OPN&gt;1))=0;
1339 B09_3_PSS1_RSS_TRLY_OPN(:,find(isnan(B09_3_PSS1_RSS_TRLY_OPN)))=0;
1340 B09_3_PSS1_RSS_TRLY_OPN(:,find(B09_3_PSS1_RSS_TRLY_OPN&gt;1))=0;
1341 B10_0_PSS001_RSS_TRLY_OPN(:,find(isnan(B10_0_PSS001_RSS_TRLY_OPN)))=0;
1342 B10_0_PSS001_RSS_TRLY_OPN(:,find(B10_0_PSS001_RSS_TRLY_OPN&gt;1))=0;
1343 B10_31_PSS1_RSS_TRLY_OPN(:,find(isnan(B10_31_PSS1_RSS_TRLY_OPN)))=0;
1344 B10_31_PSS1_RSS_TRLY_OPN(:,find(B10_31_PSS1_RSS_TRLY_OPN&gt;1))=0;
1345 B10_31_PSS1_RSS_TRLY_OPN(:,find(isnan(B10_31_PSS1_RSS_TRLY_OPN)))=0;
1346 B10_31_PSS1_RSS_TRLY_OPN(:,find(B10_31_PSS1_RSS_TRLY_OPN&gt;1))=0;
1347 B110_PSS101_RSS_TRLY_OPN(:,find(isnan(B110_PSS101_RSS_TRLY_OPN)))=0;
1348 B110_PSS101_RSS_TRLY_OPN(:,find(B110_PSS101_RSS_TRLY_OPN&gt;1))=0;
1349 B110_PSS201_RSS_TRLY_OPN(:,find(isnan(B110_PSS201_RSS_TRLY_OPN)))=0;
1350 B110_PSS201_RSS_TRLY_OPN(:,find(B110_PSS201_RSS_TRLY_OPN&gt;1))=0;
1351 BL113_PSS101_RSS_TRLY_OPN(:,find(isnan(BL113_PSS101_RSS_TRLY_OPN)))=0;
1352 BL113_PSS101_RSS_TRLY_OPN(:,find(BL113_PSS101_RSS_TRLY_OPN&gt;1))=0;
1353 BL113_PSS201_RSS_TRLY_OPN(:,find(isnan(BL113_PSS201_RSS_TRLY_OPN)))=0;
1354 BL113_PSS201_RSS_TRLY_OPN(:,find(BL113_PSS201_RSS_TRLY_OPN&gt;1))=0;
1355 ICS_BL12_0_PSS1_RSS_TRLY_OPN(:,find(isnan(ICS_BL12_0_PSS1_RSS_TRLY_OPN)))=0;
1356 ICS_BL12_0_PSS1_RSS_TRLY_OPN(:,find(ICS_BL12_0_PSS1_RSS_TRLY_OPN&gt;1))=0;
1357 ICS_BL12_2_PSS101_RSS_TRLY_O(:,find(isnan(ICS_BL12_2_PSS101_RSS_TRLY_O)))=0;
1358 ICS_BL12_2_PSS101_RSS_TRLY_O(:,find(ICS_BL12_2_PSS101_RSS_TRLY_O&gt;1))=0;
1359 ICS_BL12_2_PSS201_RSS_TRLY_O(:,find(isnan(ICS_BL12_2_PSS201_RSS_TRLY_O)))=0;
1360 ICS_BL12_2_PSS201_RSS_TRLY_O(:,find(ICS_BL12_2_PSS201_RSS_TRLY_O&gt;1))=0;
1361 ICS_BL12_3_PSS101_RSS_TRLY_O(:,find(isnan(ICS_BL12_3_PSS101_RSS_TRLY_O)))=0;
1362 ICS_BL12_3_PSS101_RSS_TRLY_O(:,find(ICS_BL12_3_PSS101_RSS_TRLY_O&gt;1))=0;
1363 ICS_BL12_3_PSS201_RSS_TRLY_O(:,find(isnan(ICS_BL12_3_PSS201_RSS_TRLY_O)))=0;
1364 ICS_BL12_3_PSS201_RSS_TRLY_O(:,find(ICS_BL12_3_PSS201_RSS_TRLY_O&gt;1))=0;
1365 B122_PSS111_OPN(:,find(isnan(B122_PSS111_OPN)))=0;
1366 B122_PSS111_OPN(:,find(B122_PSS111_OPN&gt;1))=0;
1367 B122_PSS211_OPN(:,find(isnan(B122_PSS211_OPN)))=0;
1368 B122_PSS211_OPN(:,find(B122_PSS211_OPN&gt;1))=0;
1369 B123_PSS111_OPN(:,find(isnan(B123_PSS111_OPN)))=0;
1370 B123_PSS111_OPN(:,find(B123_PSS111_OPN&gt;1))=0;
1371 B123_PSS211_OPN(:,find(isnan(B123_PSS211_OPN)))=0;
1372 B123_PSS211_OPN(:,find(B123_PSS211_OPN&gt;1))=0;
1373 
1374 <span class="comment">% sum together beamline shutter states</span>
1375 BL_SHUTTERS = [B021_PSS201_OPN + B03_11_PSS1_RSS_TRLY_OPN + B03_2_PSS101_RSS_TRLY_OPN + B03_2_PSS201_RSS_TRLY_OPN + B03_3_PSS101_RSS_TRLY_OPN + B03_3_PSS201_RSS_TRLY_OPN + B040_PSS002_RSS_TRLY_OPN + B040_PSS001_RSS_TRLY_OPN + ICS_BL042_PSS101_RSS_TRLY_OP + ICS_BL042_PSS201_RSS_TRLY_OP + ICS_BL043_PSS101_RSS_TRLY_OP + ICS_BL043_PSS201_RSS_TRLY_OP + B050_PSS001_RSS_TRLY_OPN + B050_PSS101_OPN + B050_PSS201_OPN + B050_PSS301_OPN + B050_PSS111_OPN + B050_PSS211_OPN + B050_PSS311_OPN + B053_PSS101_RSS_TRLY_OPN + B053_PSS201_RSS_TRLY_OPN + B060_PSS101_OPN + B0612_PSS1_OPN + B0631_PSS1_OPN + B0632_PSS1_OPN + B0701_PSS1_RSS_TRLY_OPN + B073_PSS1_RSS_TRLY_OPN + B0733_PSS1_OPN + ICS_B0801_PSS1_RSS_TRLY_OPN + ICS_B082_PSS101_RSS_TRLY_OP + ICS_B082_PSS201_RSS_TRLY_OP + ICS_B083_PSS101_RSS_TRLY_OP + ICS_B083_PSS201_RSS_TRLY_OP + B090_PSS1_RSS_TRLY_OPN + B09_31_PSS1_RSS_TRLY_OPN + B09_3_PSS1_RSS_TRLY_OPN + B10_0_PSS001_RSS_TRLY_OPN + B10_31_PSS1_RSS_TRLY_OPN + B10_31_PSS1_RSS_TRLY_OPN + B110_PSS101_RSS_TRLY_OPN + B110_PSS201_RSS_TRLY_OPN + BL113_PSS101_RSS_TRLY_OPN + BL113_PSS201_RSS_TRLY_OPN + ICS_BL12_0_PSS1_RSS_TRLY_OPN + ICS_BL12_2_PSS101_RSS_TRLY_O + ICS_BL12_2_PSS201_RSS_TRLY_O + ICS_BL12_3_PSS101_RSS_TRLY_O + ICS_BL12_3_PSS201_RSS_TRLY_O + B122_PSS111_OPN + B122_PSS211_OPN + B123_PSS111_OPN + B123_PSS211_OPN];
1376 <span class="comment">%BL_SHUTTERS = [B021_PSS201_OPN + B03_11_PSS1_RSS_TRLY_OPN + B03_2_PSS101_RSS_TRLY_OPN + B03_2_PSS201_RSS_TRLY_OPN + B03_3_PSS101_RSS_TRLY_OPN + B03_3_PSS201_RSS_TRLY_OPN + B040_PSS002_RSS_TRLY_OPN + B040_PSS001_RSS_TRLY_OPN + ICS_BL042_PSS101_RSS_TRLY_OP + ICS_BL042_PSS201_RSS_TRLY_OP + ICS_BL043_PSS101_RSS_TRLY_OP + ICS_BL043_PSS201_RSS_TRLY_OP + B050_PSS001_RSS_TRLY_OPN + B050_PSS101_OPN + B050_PSS201_OPN + B050_PSS301_OPN + B050_PSS111_OPN + B050_PSS211_OPN + B050_PSS311_OPN + B053_PSS101_RSS_TRLY_OPN + B053_PSS201_RSS_TRLY_OPN + B060_PSS101_OPN + B0612_PSS1_OPN + B0631_PSS1_OPN + B0632_PSS1_OPN + B0701_PSS1_RSS_TRLY_OPN + B073_PSS1_RSS_TRLY_OPN + B0733_PSS1_OPN + ICS_B0801_PSS1_RSS_TRLY_OPN + ICS_B082_PSS101_RSS_TRLY_OP + ICS_B082_PSS201_RSS_TRLY_OP + ICS_B083_PSS101_RSS_TRLY_OP + ICS_B083_PSS201_RSS_TRLY_OP + B082_PSS111_OPN + B082_PSS211_OPN + B083_PSS111_OPN + B090_PSS1_RSS_TRLY_OPN + B09_31_PSS1_RSS_TRLY_OPN + B09_3_PSS1_RSS_TRLY_OPN + B10_0_PSS001_RSS_TRLY_OPN + B10_31_PSS1_RSS_TRLY_OPN + B10_31_PSS1_RSS_TRLY_OPN + B110_PSS101_RSS_TRLY_OPN + B110_PSS201_RSS_TRLY_OPN + BL113_PSS101_RSS_TRLY_OPN + BL113_PSS201_RSS_TRLY_OPN + ICS_BL12_0_PSS1_RSS_TRLY_OPN + ICS_BL12_2_PSS101_RSS_TRLY_O + ICS_BL12_2_PSS201_RSS_TRLY_O + ICS_BL12_3_PSS101_RSS_TRLY_O + ICS_BL12_3_PSS201_RSS_TRLY_O + B122_PSS111_OPN + B122_PSS211_OPN + B123_PSS111_OPN + B123_PSS211_OPN];</span>
1377 
1378 <span class="comment">% Plotted during user time</span>
1379 <span class="keyword">if</span> FFFlag
1380     GapEnable(isnan(GapEnable)) = 0;
1381     GapEnable(GapEnable==127) = 1;  <span class="comment">% Sometime 127 is the same as 1 (boolean???)</span>
1382     i = find(sum(GapEnable) &lt; 3);   <span class="comment">% Why 3, just because sometimes 1 or 2 gaps are enabled for testing.</span>
1383 <span class="keyword">else</span>
1384     i = find(dcct &lt; 150)
1385 <span class="keyword">end</span>
1386 BPMx(:,i) = NaN;
1387 BPMy(:,i) = NaN;
1388 
1389 filter_data_time = toc;
1390 <span class="comment">%fprintf('  %.1f seconds to filter data\n', filter_data_time);</span>
1391 
1392 
1393 <span class="comment">%%%%%%%%%%%%%%%%</span>
1394 <span class="comment">% Plot figures %</span>
1395 <span class="comment">%%%%%%%%%%%%%%%%</span>
1396 figure
1397 plot(t,FF7Enable)
1398 
1399 FigNum = 0;
1400 FigNum = FigNum + 2; <span class="comment">%+2 just to protect srcontrol window if it is open</span>
1401 h = figure(FigNum);
1402 subfig(1,1,1, h);
1403 <span class="comment">%%p = get(h, 'Position');</span>
1404 <span class="comment">%FigurePosition = [p(1)-.4*p(3) p(2)-.95*p(4) p(3)+.4*p(3) p(4)+.95*p(4)];</span>
1405 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1406 clf reset;
1407 
1408 subplot(7,1,1);
1409 [ax, h1, h2] = plotyy(t,dcct, t,i_cam);
1410 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Beam Current [mA]'</span>);
1411 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'I_{cam}'</span>, <span class="string">'Color'</span>, RightGraphColor);
1412 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
1413 set(h2, <span class="string">'Color'</span>, RightGraphColor);
1414 axes(ax(1));
1415 set(ax(1),<span class="string">'YTick'</span>,[0 100 200 300 400]);
1416 axis([0 xmax 0 450]);
1417 axes(ax(2));
1418 axis([0 xmax 0 20]);
1419 grid on;
1420 
1421 <span class="keyword">if</span> DayFlag
1422     MaxDay = round(max(t));
1423     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
1424     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
1425 <span class="keyword">end</span>
1426 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1427 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1428 
1429 
1430 YLim1 = get(ax(1),<span class="string">'YLim'</span>);
1431 YLim2 = get(ax(2),<span class="string">'YLim'</span>);
1432 set(ax(2),<span class="string">'YTick'</span>,round([0 100 200 300 400]*YLim2(2)/YLim1(2)*10)/10);
1433 
1434 title([<span class="string">'ALS Parameters: '</span>,titleStr]);
1435 
1436 subplot(7,1,2)
1437 <span class="comment">%bar(t,BL_SHUTTERS,1.01);</span>
1438 stairs(t, BL_SHUTTERS);
1439 ylabel(<span class="string">'# Shutters Open'</span>,<span class="string">'fontsize'</span>,10, <span class="string">'Color'</span>, LeftGraphColor);
1440 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1441 xaxis([0 xmax]);
1442 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1443 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1444 
1445 
1446 <span class="comment">% plot(t, dcct, 'b',t,10*i_cam,'m'); grid on;</span>
1447 <span class="comment">% legend('I_{total}','10*I_{cam}');</span>
1448 <span class="comment">% ylabel('Beam Current, I [mA]','fontsize',10);</span>
1449 <span class="comment">% axis([0 xmax 0 450]);</span>
1450 <span class="comment">% set(gca,'XTickLabel','');</span>
1451 
1452 subplot(7,1,3);
1453 [ax, h1, h2] = plotyy(t,lifetime, t(8:(end-8)),lifetime2);
1454 grid on
1455 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{16}\tau_{\fontsize{8}total}'</span>);
1456 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{16}\tau_{\fontsize{8}cam}'</span>, <span class="string">'Color'</span>, RightGraphColor);
1457 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
1458 set(h2, <span class="string">'Color'</span>, RightGraphColor);
1459 axes(ax(1));
1460 set(ax(1),<span class="string">'YTick'</span>,[0 5 10 15 20]);
1461 aa = axis;
1462 aa(1) = 0;
1463 aa(2) = xmax;
1464 aa = [0 xmax 0 20];
1465 axis(aa);
1466 axes(ax(2));
1467 aa = axis;
1468 aa(1) = 0;
1469 aa(2) = xmax;
1470 aa = [0 xmax 0 20];
1471 axis(aa);
1472 
1473 <span class="keyword">if</span> DayFlag
1474     MaxDay = round(max(t));
1475     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
1476     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
1477 <span class="keyword">end</span>
1478 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1479 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1480 
1481 YLim1 = get(ax(1),<span class="string">'YLim'</span>);
1482 YLim2 = get(ax(2),<span class="string">'YLim'</span>);
1483 set(ax(2),<span class="string">'YTick'</span>,round([0 5 10 15 20]*YLim2(2)/YLim1(2)*10)/10);
1484 
1485 
1486 <span class="comment">% plot(t, lifetime, 'b', t(8:(end-8)), lifetime2, 'm'); grid on;</span>
1487 <span class="comment">% legend('\tau_{total}','\tau_{cam}');</span>
1488 <span class="comment">% %plot(t, lifetime, 'b', t(2:end)/60/60, lifetime1, 'r'); grid on;</span>
1489 <span class="comment">% ylabel('Lifetime, \tau [Hours]','fontsize',10);</span>
1490 <span class="comment">% axis([0 xmax 0 20]);</span>
1491 <span class="comment">% set(gca,'XTickLabel','');</span>
1492 
1493 subplot(7,1,4);
1494 h = plot(t, SigX31,<span class="string">'-b'</span>,t, SigY31,<span class="string">'r'</span>, t, SigX72/2.0, <span class="string">'g'</span>, t, SigY72, <span class="string">'m'</span>); grid on;
1495 <span class="comment">% plot(t, SigX/2.0,'-b',t, SigY/2.0,'r'); grid on;</span>
1496 ylabel(<span class="string">'\fontsize{14}\sigma_x \sigma_y \fontsize{10}[\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
1497 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1498 axis tight;
1499 axis([0 xmax 25 75]);
1500 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1501 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1502 
1503 hh=legend(<span class="string">'\fontsize{8}BL3.1 \fontsize{12}\sigma_x'</span>, <span class="string">'\fontsize{8}BL3.1 \fontsize{12}\sigma_y'</span>, <span class="string">'\fontsize{8}BL7.2 \fontsize{12}\sigma_x \fontsize{10}/ 2'</span>, <span class="string">'\fontsize{8}BL7.2 \fontsize{12}\sigma_y'</span>);
1504 set(hh, <span class="string">'Units'</span>,<span class="string">'Normalized'</span>);
1505 <span class="comment">%set(hh, 'Units','Normalized', 'position',[.869 .54 .13 .09]);  % Right side</span>
1506 set(hh, <span class="string">'Units'</span>,<span class="string">'Normalized'</span>, <span class="string">'position'</span>,[-.01 .54 .09 .09]);  <span class="comment">% Left side</span>
1507 <span class="comment">%p = get(h,'position');</span>
1508 <span class="comment">%p(2)= p(2)+p(4)*.25;</span>
1509 <span class="comment">%p(4)= p(4)*.1;</span>
1510 <span class="comment">%set(h,'position',p);</span>
1511 
1512 subplot(7,1,5);
1513 plot(t, dcct .* lifetime ./ (SigX31) ./ (SigY31), <span class="string">'b'</span>);
1514 grid on;
1515 ylabel(<span class="string">'I \tau / (\sigma_x \sigma_y )'</span>,<span class="string">'fontsize'</span>,10, <span class="string">'Color'</span>, LeftGraphColor);
1516 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1517 axis tight
1518 xaxis([0 xmax]);
1519 yaxis([0 2.0]);
1520 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1521 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1522 
1523 subplot(7,1,6);
1524 plot(t,TuneShift,<span class="string">'b'</span>); grid on;
1525 ylabel(<span class="string">'\Delta \nu_y (Gap)^1'</span>,<span class="string">'fontsize'</span>,10, <span class="string">'Color'</span>, LeftGraphColor);
1526 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1527 axis([0 xmax 0 .07]);
1528 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1529 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1530 
1531 subplot(7,1,7)
1532 plot(t,IDgap);
1533 hold on;
1534 plot(t,EPU);
1535 IDLegend = [IDLegend; EPULegend];
1536 <span class="comment">%plot(t,EPU(1,:),'b');</span>
1537 <span class="comment">%plot(t,EPU(2,:),'k');</span>
1538 hold off
1539 xlabel(xlabelstring);
1540 ylabel(<span class="string">'ID Gap [mm]'</span>,<span class="string">'fontsize'</span>,10, <span class="string">'Color'</span>, LeftGraphColor);
1541 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
1542 axis([0 xmax -27 60]);
1543 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1544 hh = legend(IDLegend);
1545 
1546 <span class="comment">%hh = legend('4EPU ','5W   ','7U   ', '8U   ', '9U   ','10U  ','11EPU','12U  ');</span>
1547 <span class="comment">%set(hh, 'Units','Normalized', 'position',[.87 .08 .116 .11]);</span>
1548 <span class="comment">%set(hh, 'Units','Normalized', 'position',[.889 .08 .11 .14]);</span>
1549 set(hh, <span class="string">'Units'</span>,<span class="string">'Normalized'</span>, <span class="string">'position'</span>,[-.01 .05 .08 .27]);  <span class="comment">% Left side</span>
1550 <span class="comment">%p = get(hh,'position');</span>
1551 <span class="comment">%p(2)= p(2)+p(4)*.4;</span>
1552 <span class="comment">%p(4)= p(4)*.5;</span>
1553 <span class="comment">%set(hh,'position',p);</span>
1554 
1555 addlabel(1,0,<span class="string">'^1W11 and the EPU longitudinal tune shifts are not included.'</span>);
1556 yaxesposition(1.20);
1557 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
1558 orient tall
1559 
1560 
1561 <span class="comment">%%%%%%%%%%%%%%%%</span>
1562 <span class="comment">%  Orbit Plots %</span>
1563 <span class="comment">%%%%%%%%%%%%%%%%</span>
1564 FigNum = FigNum + 1;
1565 h = figure(FigNum);
1566 subfig(1,1,1, h);
1567 <span class="comment">%%p = get(h, 'Position');</span>
1568 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1569 clf reset;
1570 
1571 subplot(12,1,1);
1572 
1573 i = findrowindex([12 9;1 2], BPMlist);
1574 plot(t, 1000*BPMx(i,:));
1575 <span class="comment">%grid on;</span>
1576 ylabel(<span class="string">'1'</span>);
1577 title([<span class="string">'Horizontal Straight Section Bergoz BPMs [\mum]: '</span>,titleStr]);
1578 axis tight;
1579 axis([0 xmax -35 35]);
1580 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1581 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1582 
1583 subplot(12,1,2);
1584 i = findrowindex([1 10;2 1], BPMlist);
1585 plot(t, 1000*BPMx(i,:));
1586 <span class="comment">%grid on;</span>
1587 ylabel(<span class="string">'2'</span>);
1588 axis([0 xmax -35 35]);
1589 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1590 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1591 
1592 subplot(12,1,3);
1593 i = findrowindex([2 9;3 2], BPMlist);
1594 plot(t, 1000*BPMx(i,:));
1595 <span class="comment">%grid on;</span>
1596 ylabel(<span class="string">'3'</span>);
1597 axis([0 xmax -35 35]);
1598 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1599 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1600 
1601 subplot(12,1,4);
1602 i = findrowindex([3 10;4 1;3 11;3 12], BPMlist);
1603 plot(t, 1000*BPMx(i,:));
1604 <span class="comment">%grid on;</span>
1605 ylabel(<span class="string">'4EPU'</span>);
1606 axis([0 xmax -35 35]);
1607 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1608 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1609 legend(<span class="string">'BPM(3,10)'</span>,<span class="string">'BPM(4,1)'</span>,<span class="string">'BPM(3,11)'</span>,<span class="string">'BPM(3,12)'</span>,<span class="string">'Orientation'</span>,<span class="string">'horizontal'</span>);
1610 legend(gca,<span class="string">'boxoff'</span>)
1611 
1612 subplot(12,1,5);
1613 i = findrowindex([4 10;5 1], BPMlist);
1614 plot(t, 1000*BPMx(i,:));
1615 <span class="comment">%grid on;</span>
1616 ylabel(<span class="string">'5W'</span>);
1617 axis([0 xmax -35 35]);
1618 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1619 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1620 
1621 subplot(12,1,6);
1622 i = findrowindex([5 10;6 1;5 11;5 12], BPMlist);
1623 plot(t, 1000*BPMx(i,:));
1624 <span class="comment">%grid on;</span>
1625 ylabel(<span class="string">'6'</span>);
1626 axis([0 xmax -35 35]);
1627 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1628 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1629 legend(<span class="string">'BPM(5,10)'</span>,<span class="string">'BPM(6,1)'</span>,<span class="string">'BPM(5,11)'</span>,<span class="string">'BPM(5,12)'</span>,<span class="string">'Orientation'</span>,<span class="string">'horizontal'</span>);
1630 legend(gca,<span class="string">'boxoff'</span>)
1631 
1632 subplot(12,1,7);
1633 i = findrowindex([6 10;7 1], BPMlist);
1634 plot(t, 1000*BPMx(i,:));
1635 <span class="comment">%grid on;</span>
1636 ylabel(<span class="string">'7U'</span>);
1637 axis([0 xmax -35 35]);
1638 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1639 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1640 
1641 subplot(12,1,8);
1642 i = findrowindex([7 10;8 1], BPMlist);
1643 plot(t, 1000*BPMx(i,:));
1644 <span class="comment">%grid on;</span>
1645 ylabel(<span class="string">'8U'</span>);
1646 axis([0 xmax -35 35]);
1647 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1648 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1649 
1650 subplot(12,1,9);
1651 i = findrowindex([8 10;9 1], BPMlist);
1652 plot(t, 1000*BPMx(i,:));
1653 <span class="comment">%grid on;</span>
1654 ylabel(<span class="string">'9U'</span>);
1655 axis([0 xmax -35 35]);
1656 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1657 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1658 
1659 subplot(12,1,10);
1660 i = findrowindex([9 10;10 1], BPMlist);
1661 plot(t, 1000*BPMx(i,:));
1662 <span class="comment">%grid on;</span>
1663 ylabel(<span class="string">'10U'</span>);
1664 axis([0 xmax -35 35]);
1665 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1666 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1667 
1668 subplot(12,1,11);
1669 i = findrowindex([10 10;11 1;10 11;10 12], BPMlist);
1670 plot(t, 1000*BPMx(i,:));
1671 <span class="comment">%grid on;</span>
1672 ylabel(<span class="string">'11EPU'</span>);
1673 axis([0 xmax -35 35]);
1674 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1675 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1676 legend(<span class="string">'BPM(10,10)'</span>,<span class="string">'BPM(11,1)'</span>,<span class="string">'BPM(10,11)'</span>,<span class="string">'BPM(10,12)'</span>,<span class="string">'Orientation'</span>,<span class="string">'horizontal'</span>);
1677 legend(gca,<span class="string">'boxoff'</span>)
1678 
1679 subplot(12,1,12);
1680 i = findrowindex([11 10;12 1], BPMlist);
1681 plot(t, 1000*BPMx(i,:));
1682 <span class="comment">%grid on;</span>
1683 ylabel(<span class="string">'12U'</span>);
1684 axis([0 xmax -35 35]);
1685 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1686 <span class="comment">%set(gca,'XTickLabel','');</span>
1687 
1688 <span class="comment">% subplot(13,1,13);</span>
1689 <span class="comment">% plot(t, ID9BPM1xRMS, '-b', t, ID9BPM2xRMS, '-r');</span>
1690 <span class="comment">% %grid on;</span>
1691 <span class="comment">% ylabel('9U RMS');</span>
1692 <span class="comment">% axis tight;</span>
1693 <span class="comment">% axis([0 xmax 0 6]);</span>
1694 <span class="comment">% ChangeAxesLabel(t, Days, DayFlag);</span>
1695 
1696 xlabel(xlabelstring);
1697 yaxesposition(1.20);
1698 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
1699 orient tall
1700 
1701 
1702 
1703 FigNum = FigNum + 1;
1704 h = figure(FigNum);
1705 subfig(1,1,1, h);
1706 <span class="comment">%%p = get(h, 'Position');</span>
1707 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1708 clf reset;
1709 
1710 subplot(12,1,1);
1711 i = findrowindex([1 4;1 5;1 6;1 7], BPMlist);
1712 plot(t, 1000*BPMx(i,:));
1713 <span class="comment">%grid on;</span>
1714 title([<span class="string">'Horizontal Arc Sector Bergoz BPMs [\mum]: '</span>,titleStr]);
1715 ylabel(<span class="string">'Arc 1'</span>);
1716 axis tight;
1717 axisvals = axis;
1718 xaxis([0 xmax]);
1719 yaxis([axisvals(3)-10 axisvals(4)+10]);
1720 <span class="comment">%axis([0 xmax -48 48]);</span>
1721 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1722 
1723 subplot(12,1,2);
1724 i = findrowindex([2 4;2 5;2 6;2 7], BPMlist);
1725 plot(t, 1000*BPMx(i,:));
1726 <span class="comment">%grid on;</span>
1727 ylabel(<span class="string">'Arc 2'</span>);
1728 axis tight;
1729 axisvals = axis;
1730 xaxis([0 xmax]);
1731 yaxis([axisvals(3)-10 axisvals(4)+10]);
1732 <span class="comment">%axis([0 xmax -48 48]);</span>
1733 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1734 
1735 subplot(12,1,3);
1736 i = findrowindex([3 4;3 5;3 6;3 7], BPMlist);
1737 plot(t, 1000*BPMx(i,:));
1738 <span class="comment">%grid on;</span>
1739 ylabel(<span class="string">'Arc 3'</span>);
1740 axis tight;
1741 axisvals = axis;
1742 xaxis([0 xmax]);
1743 yaxis([axisvals(3)-10 axisvals(4)+10]);
1744 <span class="comment">%axis([0 xmax -48 48]);</span>
1745 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1746 
1747 subplot(12,1,4);
1748 i = findrowindex([4 4;4 5;4 6;4 7], BPMlist);
1749 plot(t, 1000*BPMx(i,:));
1750 <span class="comment">%grid on;</span>
1751 ylabel(<span class="string">'Arc 4'</span>);
1752 axis tight;
1753 axisvals = axis;
1754 xaxis([0 xmax]);
1755 yaxis([axisvals(3)-10 axisvals(4)+10]);
1756 <span class="comment">%axis([0 xmax -48 48]);</span>
1757 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1758 
1759 subplot(12,1,5);
1760 i = findrowindex([5 4;5 5;5 6;5 7], BPMlist);
1761 plot(t, 1000*BPMx(i,:));
1762 <span class="comment">%grid on;</span>
1763 ylabel(<span class="string">'Arc 5'</span>);
1764 axis tight;
1765 axisvals = axis;
1766 xaxis([0 xmax]);
1767 yaxis([axisvals(3)-10 axisvals(4)+10]);
1768 <span class="comment">%axis([0 xmax -48 48]);</span>
1769 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1770 
1771 subplot(12,1,6);
1772 i = findrowindex([6 4;6 5;6 6;6 7], BPMlist);
1773 plot(t, 1000*BPMx(i,:));
1774 <span class="comment">%grid on;</span>
1775 ylabel(<span class="string">'Arc 6'</span>);
1776 axis tight;
1777 axisvals = axis;
1778 xaxis([0 xmax]);
1779 yaxis([axisvals(3)-10 axisvals(4)+10]);
1780 <span class="comment">%axis([0 xmax -48 48]);</span>
1781 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1782 legend(<span class="string">'BPM 4'</span>,<span class="string">'BPM 5'</span>,<span class="string">'BPM 6'</span>,<span class="string">'BPM 7'</span>,<span class="string">'Orientation'</span>,<span class="string">'horizontal'</span>);
1783 legend(gca,<span class="string">'boxoff'</span>)
1784 
1785 subplot(12,1,7);
1786 i = findrowindex([7 4;7 5;7 6;7 7], BPMlist);
1787 plot(t, 1000*BPMx(i,:));
1788 <span class="comment">%grid on;</span>
1789 ylabel(<span class="string">'Arc 7'</span>);
1790 axis tight;
1791 axisvals = axis;
1792 xaxis([0 xmax]);
1793 yaxis([axisvals(3)-10 axisvals(4)+10]);
1794 <span class="comment">%axis([0 xmax -48 48]);</span>
1795 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1796 
1797 subplot(12,1,8);
1798 i = findrowindex([8 4;8 5;8 6;8 7], BPMlist);
1799 plot(t, 1000*BPMx(i,:));
1800 <span class="comment">%grid on;</span>
1801 ylabel(<span class="string">'Arc 8'</span>);
1802 axis tight;
1803 axisvals = axis;
1804 xaxis([0 xmax]);
1805 yaxis([axisvals(3)-10 axisvals(4)+10]);
1806 <span class="comment">%axis([0 xmax -48 48]);</span>
1807 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1808 
1809 subplot(12,1,9);
1810 i = findrowindex([9 4;9 5;9 6;9 7], BPMlist);
1811 plot(t, 1000*BPMx(i,:));
1812 <span class="comment">%grid on;</span>
1813 ylabel(<span class="string">'Arc 9'</span>);
1814 axis tight;
1815 axisvals = axis;
1816 xaxis([0 xmax]);
1817 yaxis([axisvals(3)-10 axisvals(4)+10]);
1818 <span class="comment">%axis([0 xmax -48 48]);</span>
1819 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1820 
1821 subplot(12,1,10);
1822 i = findrowindex([10 4;10 5;10 6;10 7], BPMlist);
1823 plot(t, 1000*BPMx(i,:));
1824 <span class="comment">%grid on;</span>
1825 ylabel(<span class="string">'Arc 10'</span>);
1826 axis tight;
1827 axisvals = axis;
1828 xaxis([0 xmax]);
1829 yaxis([axisvals(3)-10 axisvals(4)+10]);
1830 <span class="comment">%axis([0 xmax -48 48]);</span>
1831 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1832 
1833 subplot(12,1,11);
1834 i = findrowindex([11 4;11 5;11 6;11 7], BPMlist);
1835 plot(t, 1000*BPMx(i,:));
1836 <span class="comment">%grid on;</span>
1837 ylabel(<span class="string">'Arc 11'</span>);
1838 axis tight;
1839 axisvals = axis;
1840 xaxis([0 xmax]);
1841 yaxis([axisvals(3)-10 axisvals(4)+10]);
1842 <span class="comment">%axis([0 xmax -48 48]);</span>
1843 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1844 
1845 subplot(12,1,12);
1846 i = findrowindex([12 4;12 5;12 6;12 7], BPMlist);
1847 plot(t, 1000*BPMx(i,:));
1848 <span class="comment">%grid on;</span>
1849 ylabel(<span class="string">'Arc 12'</span>);
1850 axis tight;
1851 axisvals = axis;
1852 xaxis([0 xmax]);
1853 yaxis([axisvals(3)-10 axisvals(4)+10]);
1854 <span class="comment">%axis([0 xmax -48 48]);</span>
1855 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1856 <span class="comment">%set(gca,'XTickLabel','');</span>
1857 
1858 <span class="comment">% subplot(13,1,13);</span>
1859 <span class="comment">% plot(t, hqmofm);</span>
1860 <span class="comment">% %grid on;</span>
1861 <span class="comment">% ylabel('\Delta f_{RF} [Hz]');</span>
1862 <span class="comment">% xaxis([0 xmax]);</span>
1863 <span class="comment">% ChangeAxesLabel(t, Days, DayFlag);</span>
1864 
1865 xlabel(xlabelstring);
1866 yaxesposition(1.20);
1867 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
1868 orient tall
1869 
1870 
1871 
1872 FigNum = FigNum + 1;
1873 h = figure(FigNum);
1874 subfig(1,1,1, h);
1875 <span class="comment">%%p = get(h, 'Position');</span>
1876 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
1877 clf reset;
1878 
1879 subplot(12,1,1);
1880 i = findrowindex([12 9;1 2], BPMlist);
1881 plot(t, 1000*BPMy(i,:));
1882 <span class="comment">%grid on;</span>
1883 ylabel(<span class="string">'1'</span>);
1884 title([<span class="string">'Vertical Straight Section Bergoz BPMs [\mum]: '</span>,titleStr]);
1885 axis tight;
1886 axis([0 xmax -15 15]);
1887 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1888 
1889 subplot(12,1,2);
1890 i = findrowindex([1 10;2 1], BPMlist);
1891 plot(t, 1000*BPMy(i,:));
1892 <span class="comment">%grid on;</span>
1893 ylabel(<span class="string">'2'</span>);
1894 axis([0 xmax -15 15]);
1895 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1896 
1897 subplot(12,1,3);
1898 i = findrowindex([2 9;3 2], BPMlist);
1899 plot(t, 1000*BPMy(i,:));
1900 <span class="comment">%grid on;</span>
1901 ylabel(<span class="string">'3'</span>);
1902 axis([0 xmax -15 15]);
1903 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1904 
1905 subplot(12,1,4);
1906 i = findrowindex([3 10;4 1;3 11;3 12], BPMlist);
1907 plot(t, 1000*BPMy(i,:));
1908 <span class="comment">%grid on;</span>
1909 ylabel(<span class="string">'4EPU'</span>);
1910 axis([0 xmax -15 15]);
1911 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1912 legend(<span class="string">'BPM(3,10)'</span>,<span class="string">'BPM(4,1)'</span>,<span class="string">'BPM(3,11)'</span>,<span class="string">'BPM(3,12)'</span>,<span class="string">'Orientation'</span>,<span class="string">'horizontal'</span>);
1913 legend(gca,<span class="string">'boxoff'</span>)
1914 
1915 subplot(12,1,5);
1916 i = findrowindex([4 10;5 1], BPMlist);
1917 plot(t, 1000*BPMy(i,:));
1918 <span class="comment">%grid on;</span>
1919 ylabel(<span class="string">'5W'</span>);
1920 axis([0 xmax -15 15]);
1921 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1922 
1923 subplot(12,1,6);
1924 i = findrowindex([5 10;6 1;5 11;5 12], BPMlist);
1925 plot(t, 1000*BPMy(i,:));
1926 <span class="comment">%grid on;</span>
1927 ylabel(<span class="string">'6'</span>);
1928 axis([0 xmax -15 15]);
1929 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1930 legend(<span class="string">'BPM(5,10)'</span>,<span class="string">'BPM(6,1)'</span>,<span class="string">'BPM(5,11)'</span>,<span class="string">'BPM(5,12)'</span>,<span class="string">'Orientation'</span>,<span class="string">'horizontal'</span>);
1931 legend(gca,<span class="string">'boxoff'</span>)
1932 
1933 subplot(12,1,7);
1934 i = findrowindex([6 10;7 1], BPMlist);
1935 plot(t, 1000*BPMy(i,:));
1936 <span class="comment">%grid on;</span>
1937 ylabel(<span class="string">'7U'</span>);
1938 axis([0 xmax -15 15]);
1939 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1940 
1941 subplot(12,1,8);
1942 i = findrowindex([7 10;8 1], BPMlist);
1943 plot(t, 1000*BPMy(i,:));
1944 <span class="comment">%grid on;</span>
1945 ylabel(<span class="string">'8U'</span>);
1946 axis([0 xmax -15 15]);
1947 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1948 
1949 subplot(12,1,9);
1950 i = findrowindex([8 10;9 1], BPMlist);
1951 plot(t, 1000*BPMy(i,:));
1952 <span class="comment">%grid on;</span>
1953 ylabel(<span class="string">'9U'</span>);
1954 axis([0 xmax -15 15]);
1955 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1956 
1957 subplot(12,1,10);
1958 i = findrowindex([9 10;10 1], BPMlist);
1959 plot(t, 1000*BPMy(i,:));
1960 <span class="comment">%grid on;</span>
1961 ylabel(<span class="string">'10U'</span>);
1962 axis([0 xmax -15 15]);
1963 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1964 
1965 subplot(12,1,11);
1966 i = findrowindex([10 10;11 1;10 11;10 12], BPMlist);
1967 plot(t, 1000*BPMy(i,:));
1968 <span class="comment">%grid on;</span>
1969 ylabel(<span class="string">'11EPU'</span>);
1970 axis([0 xmax -15 15]);
1971 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
1972 legend(<span class="string">'BPM(10,10)'</span>,<span class="string">'BPM(11,1)'</span>,<span class="string">'BPM(10,11)'</span>,<span class="string">'BPM(10,12)'</span>,<span class="string">'Orientation'</span>,<span class="string">'horizontal'</span>);
1973 legend(gca,<span class="string">'boxoff'</span>)
1974 
1975 subplot(12,1,12);
1976 i = findrowindex([11 10;12 1], BPMlist);
1977 plot(t, 1000*BPMy(i,:));
1978 <span class="comment">%grid on;</span>
1979 ylabel(<span class="string">'12U'</span>);
1980 axis([0 xmax -15 15]);
1981 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
1982 <span class="comment">%set(gca,'XTickLabel','');</span>
1983 
1984 <span class="comment">% subplot(13,1,13);</span>
1985 <span class="comment">% plot(t, ID9BPM1yRMS, '-b', t, ID9BPM2yRMS, '-r');</span>
1986 <span class="comment">% %grid on;</span>
1987 <span class="comment">% ylabel('9U RMS');</span>
1988 <span class="comment">% axis tight;</span>
1989 <span class="comment">% axis([0 xmax 0 3]);</span>
1990 <span class="comment">% ChangeAxesLabel(t, Days, DayFlag);</span>
1991 
1992 xlabel(xlabelstring);
1993 yaxesposition(1.20);
1994 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
1995 orient tall
1996 
1997 
1998 
1999 FigNum = FigNum + 1;
2000 h = figure(FigNum);
2001 subfig(1,1,1, h);
2002 <span class="comment">%%p = get(h, 'Position');</span>
2003 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
2004 clf reset;
2005 
2006 subplot(12,1,1);
2007 i = findrowindex([1 4;1 5;1 6;1 7], BPMlist);
2008 plot(t, 1000*BPMy(i,:));
2009 <span class="comment">%grid on;</span>
2010 title([<span class="string">'Vertical Arc Sector Bergoz BPMs [\mum]: '</span>,titleStr]);
2011 <span class="comment">%title(['Vertical Arc BBPM Data in \mum: ',titleStr]);</span>
2012 ylabel(<span class="string">'Arc 1'</span>);
2013 axis tight;
2014 axisvals = axis;
2015 xaxis([0 xmax]);
2016 yaxis([axisvals(3)-10 axisvals(4)+10]);
2017 <span class="comment">%axis([0 xmax -35 35]);</span>
2018 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2019 
2020 subplot(12,1,2);
2021 i = findrowindex([2 4;2 5;2 6;2 7], BPMlist);
2022 plot(t, 1000*BPMy(i,:));
2023 <span class="comment">%grid on;</span>
2024 ylabel(<span class="string">'Arc 2'</span>);
2025 axis tight;
2026 axisvals = axis;
2027 xaxis([0 xmax]);
2028 yaxis([axisvals(3)-10 axisvals(4)+10]);
2029 <span class="comment">%axis([0 xmax -35 35]);</span>
2030 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2031 
2032 subplot(12,1,3);
2033 i = findrowindex([3 4;3 5;3 6;3 7], BPMlist);
2034 plot(t, 1000*BPMy(i,:));
2035 <span class="comment">%grid on;</span>
2036 ylabel(<span class="string">'Arc 3'</span>);
2037 axis tight;
2038 axisvals = axis;
2039 xaxis([0 xmax]);
2040 yaxis([axisvals(3)-10 axisvals(4)+10]);
2041 <span class="comment">%axis([0 xmax -35 35]);</span>
2042 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2043 
2044 subplot(12,1,4);
2045 i = findrowindex([4 4;4 5;4 6;4 7], BPMlist);
2046 plot(t, 1000*BPMy(i,:));
2047 <span class="comment">%grid on;</span>
2048 ylabel(<span class="string">'Arc 4'</span>);
2049 axis tight;
2050 axisvals = axis;
2051 xaxis([0 xmax]);
2052 yaxis([axisvals(3)-10 axisvals(4)+10]);
2053 <span class="comment">%axis([0 xmax -35 35]);</span>
2054 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2055 
2056 subplot(12,1,5);
2057 i = findrowindex([5 4;5 5;5 6;5 7], BPMlist);
2058 plot(t, 1000*BPMy(i,:));
2059 <span class="comment">%grid on;</span>
2060 ylabel(<span class="string">'Arc 5'</span>);
2061 axis tight;
2062 axisvals = axis;
2063 xaxis([0 xmax]);
2064 yaxis([axisvals(3)-10 axisvals(4)+10]);
2065 <span class="comment">%axis([0 xmax -35 35]);</span>
2066 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2067 
2068 subplot(12,1,6);
2069 i = findrowindex([6 4;6 5;6 6;6 7], BPMlist);
2070 plot(t, 1000*BPMy(i,:));
2071 <span class="comment">%grid on;</span>
2072 ylabel(<span class="string">'Arc 6'</span>);
2073 axis tight;
2074 axisvals = axis;
2075 xaxis([0 xmax]);
2076 yaxis([axisvals(3)-10 axisvals(4)+10]);
2077 <span class="comment">%axis([0 xmax -35 35]);</span>
2078 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2079 legend(<span class="string">'BPM 4'</span>,<span class="string">'BPM 5'</span>,<span class="string">'BPM 6'</span>,<span class="string">'BPM 7'</span>,<span class="string">'Orientation'</span>,<span class="string">'horizontal'</span>);
2080 legend(gca,<span class="string">'boxoff'</span>)
2081 
2082 subplot(12,1,7);
2083 i = findrowindex([7 4;7 5;7 6;7 7], BPMlist);
2084 plot(t, 1000*BPMy(i,:));
2085 <span class="comment">%grid on;</span>
2086 ylabel(<span class="string">'Arc 7'</span>);
2087 axis tight;
2088 axisvals = axis;
2089 xaxis([0 xmax]);
2090 yaxis([axisvals(3)-10 axisvals(4)+10]);
2091 <span class="comment">%axis([0 xmax -35 35]);</span>
2092 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2093 
2094 subplot(12,1,8);
2095 i = findrowindex([8 4;8 5;8 6;8 7], BPMlist);
2096 plot(t, 1000*BPMy(i,:));
2097 <span class="comment">%grid on;</span>
2098 ylabel(<span class="string">'Arc 8'</span>);
2099 axis tight;
2100 axisvals = axis;
2101 xaxis([0 xmax]);
2102 yaxis([axisvals(3)-10 axisvals(4)+10]);
2103 <span class="comment">%axis([0 xmax -35 35]);</span>
2104 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2105 
2106 subplot(12,1,9);
2107 i = findrowindex([9 4;9 5;9 6;9 7], BPMlist);
2108 plot(t, 1000*BPMy(i,:));
2109 <span class="comment">%grid on;</span>
2110 ylabel(<span class="string">'Arc 9'</span>);
2111 axis tight;
2112 axisvals = axis;
2113 xaxis([0 xmax]);
2114 yaxis([axisvals(3)-10 axisvals(4)+10]);
2115 <span class="comment">%axis([0 xmax -35 35]);</span>
2116 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2117 
2118 subplot(12,1,10);
2119 i = findrowindex([10 4;10 5;10 6;10 7], BPMlist);
2120 plot(t, 1000*BPMy(i,:));
2121 <span class="comment">%grid on;</span>
2122 ylabel(<span class="string">'Arc 10'</span>);
2123 axis tight;
2124 axisvals = axis;
2125 xaxis([0 xmax]);
2126 yaxis([axisvals(3)-10 axisvals(4)+10]);
2127 <span class="comment">%axis([0 xmax -35 35]);</span>
2128 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2129 
2130 subplot(12,1,11);
2131 i = findrowindex([11 4;11 5;11 6;11 7], BPMlist);
2132 plot(t, 1000*BPMy(i,:));
2133 <span class="comment">%grid on;</span>
2134 ylabel(<span class="string">'Arc 11'</span>);
2135 axis tight;
2136 axisvals = axis;
2137 xaxis([0 xmax]);
2138 yaxis([axisvals(3)-10 axisvals(4)+10]);
2139 <span class="comment">%axis([0 xmax -35 35]);</span>
2140 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2141 
2142 subplot(12,1,12);
2143 i = findrowindex([12 4;12 5;12 6;12 7], BPMlist);
2144 plot(t, 1000*BPMy(i,:));
2145 <span class="comment">%grid on;</span>
2146 xlabel(xlabelstring);
2147 ylabel(<span class="string">'Arc 12'</span>);
2148 axis tight;
2149 axisvals = axis;
2150 xaxis([0 xmax]);
2151 yaxis([axisvals(3)-10 axisvals(4)+10]);
2152 <span class="comment">%axis([0 xmax -35 35]);</span>
2153 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2154 
2155 yaxesposition(1.20);
2156 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2157 orient tall
2158 
2159 
2160 <span class="comment">%%%%%%%%%%%%%%%</span>
2161 <span class="comment">% Bergoz BPMs %</span>
2162 <span class="comment">%%%%%%%%%%%%%%%</span>
2163 FigNum = FigNum + 1;
2164 h = figure(FigNum);
2165 subfig(1,1,1, h);
2166 <span class="comment">%%p = get(h, 'Position');</span>
2167 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
2168 clf reset;
2169 
2170 subplot(4,1,1);
2171 i = findrowindex(<a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>, <span class="string">'BPMx'</span>, <span class="string">'1 10 11 12'</span>), BPMlist);
2172 plot(t, 1000 * BPMx(i,:));
2173 grid on;
2174 ylabel(<span class="string">'Straight X [\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2175 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2176 title([<span class="string">'Storage Ring Orbit: '</span>,titleStr]);
2177 axis([0 xmax -50 50]);
2178 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2179 
2180 subplot(4,1,2);
2181 i = findrowindex(<a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>, <span class="string">'BPMx'</span>, <span class="string">'2 3 4 5 6 7 8 9'</span>), BPMlist);
2182 plot(t, 1000 * BPMx(i,:));
2183 grid on;
2184 ylabel(<span class="string">'Arc Sector X [\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2185 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2186 axis([0 xmax -50 50]);
2187 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2188 
2189 subplot(4,1,3);
2190 i = findrowindex(<a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>, <span class="string">'BPMy'</span>, <span class="string">'1 10 11 12'</span>), BPMlist);
2191 plot(t, 1000 * BPMy(i,:));
2192 grid on;
2193 ylabel(<span class="string">'Straight Y [\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2194 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2195 axis([0 xmax -25 25]);
2196 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2197 
2198 subplot(4,1,4);
2199 i = findrowindex(<a href="getbpmlist.html" class="code" title="function [DeviceList, Index] = getbpmlist(varargin)">getbpmlist</a>(<span class="string">'bergoz'</span>, <span class="string">'BPMy'</span>, <span class="string">'2 3 4 5 6 7 8 9'</span>), BPMlist);
2200 plot(t, 1000 * BPMy(i,:));
2201 grid on;
2202 ylabel(<span class="string">'Arc Sector Y [\mum]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2203 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2204 axis([0 xmax -25 25]);
2205 
2206 xlabel(xlabelstring);
2207 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2208 yaxesposition(1.20);
2209 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2210 orient tall
2211 
2212 
2213 <span class="comment">% Plot verses s-position</span>
2214 FigNum = FigNum + 1;
2215 h = figure(FigNum);
2216 subfig(1,1,1, h);
2217 <span class="comment">%p = get(h, 'Position');</span>
2218 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2219 clf reset;
2220 
2221 subplot(2,1,1);
2222 plot(BPMxPos, 1000*BPMx);
2223 grid on;
2224 ylabel(<span class="string">'BPMx [\mum]'</span>);
2225 title([<span class="string">'Bergoz BPMs: '</span>,titleStr]);
2226 axis tight;
2227 yaxis([-75 75]);
2228 hold on;
2229 drawlattice(60,10);
2230 xaxis([0 getfamilydata(<span class="string">'Circumference'</span>)]);
2231 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2232 
2233 subplot(2,1,2);
2234 plot(BPMyPos, 1000*BPMy);
2235 grid on;
2236 ylabel(<span class="string">'BPMy [\mum]'</span>);
2237 axis tight;
2238 yaxis([-60 60]);
2239 hold on;
2240 drawlattice(50,7);
2241 xaxis([0 getfamilydata(<span class="string">'Circumference'</span>)]);
2242 xlabel(<span class="string">'BPM Position [meters]'</span>);
2243 
2244 yaxesposition(1.15);
2245 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2246 orient tall
2247 
2248 
2249 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
2250 <span class="comment">% BPM noise and diagnostic beamline data %</span>
2251 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
2252 FigNum = FigNum + 1;
2253 h = figure(FigNum);
2254 subfig(1,1,1, h);
2255 <span class="comment">%%p = get(h, 'Position');</span>
2256 <span class="comment">%%set(h, 'Position', FigurePosition);</span>
2257 clf reset;
2258 
2259 subplot(5,1,1);
2260 <span class="comment">%subplot(4,1,1);</span>
2261 [ax, h1, h2] = plotyy(t, ID9BPM1xRMS, t, ID9BPM1yRMS);
2262 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}BPM_x (9,1) RMS [\mum]'</span>);
2263 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}BPM_y (9,1) RMS [\mum]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2264 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2265 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2266 grid on
2267 axes(ax(1));
2268 aa = axis;
2269 aa(1) = 0;
2270 aa(2) = xmax;
2271 axis(aa);
2272 axes(ax(2));
2273 aa = axis;
2274 aa(1) = 0;
2275 aa(2) = xmax;
2276 axis(aa);
2277 
2278 <span class="keyword">if</span> DayFlag
2279     MaxDay = round(max(t));
2280     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2281     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2282 <span class="keyword">end</span>
2283 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2284 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2285 title(sprintf(<span class="string">'RMS Orbit Motion &amp; Beam Size:  %s'</span>,titleStr));
2286 
2287 subplot(5,1,2);
2288 <span class="comment">%subplot(4,1,2);</span>
2289 [ax, h1, h2] = plotyy(t, ID9BPM2xRMS, t, ID9BPM2yRMS);
2290 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}BPM_x (9,2) RMS [\mum]'</span>);
2291 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}BPM_y (9,2) RMS [\mum]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2292 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2293 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2294 grid on
2295 axes(ax(1));
2296 aa = axis;
2297 aa(1) = 0;
2298 aa(2) = xmax;
2299 axis(aa);
2300 axes(ax(2));
2301 aa = axis;
2302 aa(1) = 0;
2303 aa(2) = xmax;
2304 axis(aa);
2305 <span class="keyword">if</span> DayFlag
2306     MaxDay = round(max(t));
2307     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2308     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2309 <span class="keyword">end</span>
2310 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2311 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2312 
2313 
2314 subplot(5,1,3);
2315 <span class="comment">% subplot(4,1,3);</span>
2316 [ax, h1, h2] = plotyy(t, SigX/2.0, t, SigY/2.0);
2317 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'\fontsize{14}\sigma_x \fontsize{10}BL 3.1 [\mum]'</span>,<span class="string">' (spiricon)'</span>});
2318 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'\fontsize{14}\sigma_y \fontsize{10}BL 3.1 [\mum]'</span>,<span class="string">' (spiricon)'</span>}, <span class="string">'Color'</span>, RightGraphColor);
2319 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2320 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2321 grid on
2322 axes(ax(1));
2323 aa = axis;
2324 aa(1) = 0;
2325 aa(2) = xmax;
2326 aa(3) = 40;
2327 aa(4) = 80;
2328 set(ax(1),<span class="string">'YTick'</span>,[40:10:80]');
2329 set(ax(2),<span class="string">'YTick'</span>,[40:10:80]');
2330 axis(aa);
2331 axes(ax(2));
2332 aa = axis;
2333 aa(1) = 0;
2334 aa(2) = xmax;
2335 aa(3) = 40;
2336 aa(4) = 80;
2337 set(ax(1),<span class="string">'YTick'</span>,[40:10:80]');
2338 set(ax(2),<span class="string">'YTick'</span>,[40:10:80]');
2339 axis(aa);
2340 <span class="keyword">if</span> DayFlag
2341     MaxDay = round(max(t));
2342     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2343     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2344 <span class="keyword">end</span>
2345 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2346 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2347 
2348 subplot(5,1,4);
2349 <span class="comment">%subplot(4,1,3);</span>
2350 [ax, h1, h2] = plotyy(t, SigX31, t, SigY31);
2351 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'\fontsize{14}\sigma_x \fontsize{10}BL 3.1 [\mum]'</span>,<span class="string">' (not spiricon)'</span>});
2352 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'\fontsize{14}\sigma_y \fontsize{10}BL 3.1 [\mum]'</span>,<span class="string">' (not spiricon)'</span>}, <span class="string">'Color'</span>, RightGraphColor);
2353 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2354 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2355 grid on
2356 axes(ax(1));
2357 aa = axis;
2358 aa(1) = 0;
2359 aa(2) = xmax;
2360 aa(3) = 40;
2361 aa(4) = 80;
2362 set(ax(1),<span class="string">'YTick'</span>,[40:10:80]');
2363 set(ax(2),<span class="string">'YTick'</span>,[40:10:80]');
2364 axis(aa);
2365 axes(ax(2));
2366 aa = axis;
2367 aa(1) = 0;
2368 aa(2) = xmax;
2369 aa(3) = 40;
2370 aa(4) = 80;
2371 set(ax(1),<span class="string">'YTick'</span>,[40:10:80]');
2372 set(ax(2),<span class="string">'YTick'</span>,[40:10:80]');
2373 axis(aa);
2374 <span class="keyword">if</span> DayFlag
2375     MaxDay = round(max(t));
2376     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2377     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2378 <span class="keyword">end</span>
2379 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2380 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2381 
2382 subplot(5,1,5);
2383 <span class="comment">%subplot(4,1,4);</span>
2384 [ax, h1, h2] = plotyy(t, SigX72, t, SigY72);
2385 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{14}\sigma_x\fontsize{10} BL 7.2 [\mum]'</span>);
2386 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{14}\sigma_y\fontsize{10} BL 7.2 [\mum]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2387 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2388 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2389 grid on
2390 axes(ax(1));
2391 <span class="comment">%aa = axis;</span>
2392 aa = [0 xmax 100 140];
2393 axis(aa);
2394 axes(ax(2));
2395 <span class="comment">%aa = axis;</span>
2396 aa = [0 xmax 20 60];
2397 set(ax(1),<span class="string">'YTick'</span>,[100:10:140]');
2398 set(ax(2),<span class="string">'YTick'</span>,[20:10:60]');
2399 axis(aa);
2400 <span class="keyword">if</span> DayFlag
2401     MaxDay = round(max(t));
2402     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2403     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2404 <span class="keyword">end</span>
2405 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2406 <span class="comment">%set(ax(2),'XTickLabel','');</span>
2407 xlabel(xlabelstring);
2408 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2409 
2410 yaxesposition(1.15);
2411 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2412 
2413 orient tall
2414 
2415 
2416 
2417 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
2418 <span class="comment">% Storage ring air &amp; water temperature %</span>
2419 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
2420 FigNum = FigNum + 1;
2421 h = figure(FigNum);
2422 subfig(1,1,1, h);
2423 <span class="comment">%%p = get(h, 'Position');</span>
2424 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2425 clf reset;
2426 
2427 subplot(7,1,1);
2428 plot(t,TC7_1, t,TC7_2, t,TC8_1, t,TC8_2, t,TC9_1, t,TC9_2, t,TC10_1, t,TC10_2, t,TC12_1, t,TC12_2);
2429 <span class="comment">%legend('TC7,1','TC7,2','TC8,1','TC8,2','TC9,1','TC9,2','TC10,1','TC10,2','TC12,1','TC12,2',-1);</span>
2430 <span class="comment">%grid on</span>
2431 title([<span class="string">'Storage Ring Air and LCW Temperature [C]: '</span>, titleStr]);
2432 ylabel({<span class="string">'ID Backing'</span>,<span class="string">'Beam'</span>}, <span class="string">'Color'</span>, LeftGraphColor);
2433 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2434 axis tight;
2435 axisvals = axis;
2436 yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
2437 xaxis([0 xmax]);
2438 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2439 
2440 subplot(7,1,2);
2441 plot(t,TC7_3, t,TC7_4, t,TC8_3, t,TC8_4, t,TC9_3, t,TC9_4, t,TC10_3, t,TC10_4, t,TC12_3, t,TC12_4);
2442 <span class="comment">%grid on</span>
2443 <span class="comment">%set(gca,'YAxisLocation','Right');</span>
2444 <span class="comment">%legend('TC7,3','TC7,4','TC8,3','TC8,4','TC9,3','TC9,4','TC10,3','TC10,4','TC12,3','TC12,4',-1);</span>
2445 ylabel(<span class="string">'ID Housing'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2446 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2447 axis tight;
2448 axisvals = axis;
2449 yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
2450 xaxis([0 xmax]);
2451 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2452 
2453 subplot(7,1,3);
2454 plot(t,TCSR01, t,TCSR02, t,TCSR03, t,TCSR04, t,TCSR05, t,TCSR06, t,TCSR07, t,TCSR08, t,TCSR09, t,TCSR11, t,TCSR12);
2455 <span class="comment">%legend('TCSR01','TCSR02','TCSR03','TCSR04','TCSR05','TCSR06','TCSR07','TCSR08','TCSR09','TCSR11','TCSR12',3);</span>
2456 <span class="comment">%grid on</span>
2457 ylabel(<span class="string">'SR Air'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2458 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2459 axis tight;
2460 axisvals = axis;
2461 <span class="comment">%yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);</span>
2462 yaxis([21 axisvals(4)+0.1]);
2463 xaxis([0 xmax]);
2464 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2465 
2466 <span class="comment">% subplot(7,1,4);</span>
2467 <span class="comment">% plot(t,mean([TC7_3;TC7_4;TC8_3;TC8_4;TC9_3;TC9_4;TC10_3;TC10_4;TC12_3;TC12_4]),'b-.'); hold on;</span>
2468 <span class="comment">% plot(t,mean([TC7_1;TC7_2;TC8_1;TC8_2;TC9_1;TC9_2;TC10_1;TC10_2;TC12_1;TC12_2]),'m-');</span>
2469 <span class="comment">% plot(t, TCSRAVG,'r');</span>
2470 <span class="comment">% ylabel('Mean Values');</span>
2471 <span class="comment">% templeg=legend('Mean ID Housing Temp','Mean ID Beam Temp','Mean SR Air Temp',0);</span>
2472 <span class="comment">% set(templeg,'Color','none');</span>
2473 <span class="comment">% axis tight;</span>
2474 <span class="comment">% axisvals = axis;</span>
2475 <span class="comment">% yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);</span>
2476 <span class="comment">% xaxis([0 xmax]);</span>
2477 <span class="comment">% ChangeAxesLabel(t, Days, DayFlag); set(gca,'XTickLabel','');</span>
2478 
2479 subplot(7,1,4);
2480 [ax, h1, h2] = plotyy(t,TCSRAVG, t,mean([TC7_3;TC7_4;TC8_3;TC8_4;TC9_3;TC9_4;TC10_3;TC10_4;TC12_3;TC12_4]));
2481 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Mean SR Air'</span>);
2482 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Mean ID Housing'</span>, <span class="string">'Color'</span>, RightGraphColor);
2483 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2484 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2485 grid on
2486 axes(ax(1));
2487 aa = axis;
2488 aa(1) = 0;
2489 aa(2) = xmax;
2490 axis(aa);
2491 axes(ax(2));
2492 aa = axis;
2493 aa(1) = 0;
2494 aa(2) = xmax;
2495 axis(aa);
2496 <span class="keyword">if</span> DayFlag
2497     MaxDay = round(max(t));
2498     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2499     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2500 <span class="keyword">end</span>
2501 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2502 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2503 
2504 subplot(7,1,5);
2505 plot(t,AHUT01, t,AHUT03, t,AHUT04, t,AHUT06, t,AHUT07, t,AHUT08, t,AHUT09, t,AHUT11);
2506 ylabel(<span class="string">'SR AHU Air'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2507 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2508 axis tight;
2509 axisvals = axis;
2510 yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
2511 xaxis([0 xmax]);
2512 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2513 
2514 subplot(7,1,6);
2515 [ax, h1, h2] = plotyy(t,CWTemp, t,WVSRM);
2516 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Chilled H_2 0'</span>);
2517 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'AHU H_2 0 Valves [%]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2518 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2519 set(ax, <span class="string">'YTickMode'</span>, <span class="string">'Auto'</span>);
2520 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2521 axes(ax(1));
2522 axis tight;
2523 aa = axis;
2524 aa(1) = 0;
2525 aa(2) = xmax;
2526 aa(3) = aa(3)-0.5;
2527 aa(4) = aa(4)+0.5;
2528 axis(aa);
2529 axes(ax(2));
2530 aa = axis;
2531 aa(1) = 0;
2532 aa(2) = xmax;
2533 axis(aa);
2534 <span class="comment">%axisvals = axis;</span>
2535 <span class="comment">%yaxis([axisvals(3)-.5 axisvals(4)+.5]);</span>
2536 grid on
2537 <span class="keyword">if</span> DayFlag
2538     MaxDay = round(max(t));
2539     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2540     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2541 <span class="keyword">end</span>
2542 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2543 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2544 
2545 subplot(7,1,7);
2546 plot(t, lcw, <span class="string">'b'</span>); grid on;
2547 ylabel({<span class="string">'LCW'</span>,<span class="string">'(SR03 Sensor)'</span>}, <span class="string">'Color'</span>, LeftGraphColor);
2548 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2549 axis tight
2550 xaxis([0 xmax]);
2551 xlabel(xlabelstring);
2552 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2553 
2554 yaxesposition(1.15);
2555 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2556 orient tall
2557 
2558 
2559 <span class="comment">% Hill and water temperatures</span>
2560 FigNum = FigNum + 1;
2561 h = figure(FigNum);
2562 subfig(1,1,1, h);
2563 <span class="comment">%p = get(h, 'Position');</span>
2564 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2565 clf reset;
2566 
2567 subplot(5,1,1);
2568 [ax, h1, h2] = plotyy(t,RingLCWSupPx, t,RingLCWRetPx);
2569 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'Ring LCW [PSI]'</span>,<span class="string">' '</span>,<span class="string">'Px_{supply}'</span>});
2570 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'Ring LCW [PSI]'</span>,<span class="string">' '</span>,<span class="string">'Px_{return}'</span>}, <span class="string">'Color'</span>, RightGraphColor);
2571 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2572 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2573 grid on
2574 axes(ax(1));
2575 aa = axis;
2576 aa(1) = 0;
2577 aa(2) = xmax;
2578 axis(aa);
2579 axes(ax(2));
2580 aa = axis;
2581 aa(1) = 0;
2582 aa(2) = xmax;
2583 axis(aa);
2584 <span class="comment">%axisvals = axis;</span>
2585 <span class="comment">%yaxis([axisvals(3)-.5 axisvals(4)+.5]);</span>
2586 <span class="keyword">if</span> DayFlag
2587     MaxDay = round(max(t));
2588     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2589     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2590 <span class="keyword">end</span>
2591 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2592 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2593 
2594 title([<span class="string">'Cooling Water Parameters: '</span>,titleStr]);
2595 
2596 
2597 subplot(5,1,2);
2598 [ax, h1, h2] = plotyy(t,LCWSupPx, t,RingLCWRetPx);
2599 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'Tower [PSI]'</span>,<span class="string">' '</span>,<span class="string">'Px_{supply}'</span>});
2600 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, {<span class="string">'Tower [PSI]'</span>,<span class="string">' '</span>,<span class="string">'Px_{return}'</span>}, <span class="string">'Color'</span>, RightGraphColor);
2601 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2602 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2603 grid on
2604 axes(ax(1));
2605 aa = axis;
2606 aa(1) = 0;
2607 aa(2) = xmax;
2608 axis(aa);
2609 axes(ax(2));
2610 aa = axis;
2611 aa(1) = 0;
2612 aa(2) = xmax;
2613 axis(aa);
2614 <span class="keyword">if</span> DayFlag
2615     MaxDay = round(max(t));
2616     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2617     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2618 <span class="keyword">end</span>
2619 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2620 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2621 
2622 subplot(5,1,3);
2623 [ax, h1, h2] = plotyy(t,WBasinTemp, t,EBasinTemp);
2624 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}W.Basin (chiller) \fontsize{10}[C]'</span>);
2625 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\fontsize{10}E.Basin (LCW) \fontsize{10}[C]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2626 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2627 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2628 grid on
2629 axes(ax(1));
2630 aa = axis;
2631 aa(1) = 0;
2632 aa(2) = xmax;
2633 axis(aa);
2634 axes(ax(2));
2635 aa = axis;
2636 aa(1) = 0;
2637 aa(2) = xmax;
2638 axis(aa);
2639 <span class="keyword">if</span> DayFlag
2640     MaxDay = round(max(t));
2641     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2642     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2643 <span class="keyword">end</span>
2644 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2645 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2646 
2647 
2648 subplot(5,1,4);
2649 [ax, h1, h2] = plotyy(t,LCWSupTemp, t,LCWRetTemp);
2650 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'LCW_{supply} [C]'</span>);
2651 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'LCW_{return} [C]'</span>, <span class="string">'Color'</span>, RightGraphColor);
2652 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2653 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2654 grid on
2655 axes(ax(1));
2656 aa = axis;
2657 aa(1) = 0;
2658 aa(2) = xmax;
2659 axis(aa);
2660 axes(ax(2));
2661 aa = axis;
2662 aa(1) = 0;
2663 aa(2) = xmax;
2664 axis(aa);
2665 <span class="keyword">if</span> DayFlag
2666     MaxDay = round(max(t));
2667     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2668     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2669 <span class="keyword">end</span>
2670 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2671 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2672 
2673 
2674 subplot(5,1,5);
2675 plot(t, lcw, <span class="string">'b'</span>); grid on;
2676 ylabel({<span class="string">'LCW [C]'</span>,<span class="string">'(SR03 Sensor)'</span>}, <span class="string">'Color'</span>, LeftGraphColor);
2677 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2678 xaxis([0 xmax]);
2679 
2680 xlabel(xlabelstring);
2681 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2682 
2683 yaxesposition(1.15);
2684 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2685 orient tall
2686 
2687 
2688 FigNum = FigNum + 1;
2689 h = figure(FigNum);
2690 subfig(1,1,1, h);
2691 <span class="comment">%p = get(h, 'Position');</span>
2692 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2693 clf reset;
2694 
2695 subplot(6,1,1);
2696 [ax, h1, h2] = plotyy(t,TC7_3, t,TC7_4);
2697 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR07 Aisle'</span>);
2698 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR07 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2699 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2700 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2701 grid on
2702 axes(ax(1));
2703 aa = axis;
2704 aa(1) = 0;
2705 aa(2) = xmax;
2706 axis(aa);
2707 axes(ax(2));
2708 aa = axis;
2709 aa(1) = 0;
2710 aa(2) = xmax;
2711 axis(aa);
2712 <span class="keyword">if</span> DayFlag
2713     MaxDay = round(max(t));
2714     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2715     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2716 <span class="keyword">end</span>
2717 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2718 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2719 title([<span class="string">'Storage Ring Air Temperature at the Insertion Devices [C]: '</span>, titleStr]);
2720 
2721 subplot(6,1,2);
2722 [ax, h1, h2] = plotyy(t,TC8_3, t,TC8_4);
2723 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR08 Aisle'</span>);
2724 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR08 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2725 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2726 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2727 grid on
2728 axes(ax(1));
2729 aa = axis;
2730 aa(1) = 0;
2731 aa(2) = xmax;
2732 axis(aa);
2733 axes(ax(2));
2734 aa = axis;
2735 aa(1) = 0;
2736 aa(2) = xmax;
2737 axis(aa);
2738 <span class="keyword">if</span> DayFlag
2739     MaxDay = round(max(t));
2740     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2741     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2742 <span class="keyword">end</span>
2743 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2744 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2745 
2746 
2747 subplot(6,1,3);
2748 [ax, h1, h2] = plotyy(t,TC9_3, t,TC9_4);
2749 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR09 Aisle'</span>);
2750 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR09 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2751 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2752 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2753 grid on
2754 axes(ax(1));
2755 aa = axis;
2756 aa(1) = 0;
2757 aa(2) = xmax;
2758 axis(aa);
2759 axes(ax(2));
2760 aa = axis;
2761 aa(1) = 0;
2762 aa(2) = xmax;
2763 axis(aa);
2764 <span class="keyword">if</span> DayFlag
2765     MaxDay = round(max(t));
2766     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2767     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2768 <span class="keyword">end</span>
2769 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2770 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2771 
2772 
2773 subplot(6,1,4);
2774 [ax, h1, h2] = plotyy(t,TC10_3, t,TC10_4);
2775 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR10 Aisle'</span>);
2776 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR10 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2777 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2778 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2779 grid on
2780 axes(ax(1));
2781 aa = axis;
2782 aa(1) = 0;
2783 aa(2) = xmax;
2784 axis(aa);
2785 axes(ax(2));
2786 aa = axis;
2787 aa(1) = 0;
2788 aa(2) = xmax;
2789 axis(aa);
2790 <span class="keyword">if</span> DayFlag
2791     MaxDay = round(max(t));
2792     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2793     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2794 <span class="keyword">end</span>
2795 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2796 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2797 
2798 
2799 subplot(6,1,5);
2800 [ax, h1, h2] = plotyy(t,TC12_3, t,TC12_4);
2801 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR12 Aisle'</span>);
2802 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR12 BL Side'</span>, <span class="string">'Color'</span>, RightGraphColor);
2803 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2804 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2805 grid on
2806 axes(ax(1));
2807 aa = axis;
2808 aa(1) = 0;
2809 aa(2) = xmax;
2810 axis(aa);
2811 axes(ax(2));
2812 aa = axis;
2813 aa(1) = 0;
2814 aa(2) = xmax;
2815 axis(aa);
2816 <span class="keyword">if</span> DayFlag
2817     MaxDay = round(max(t));
2818     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2819     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2820 <span class="keyword">end</span>
2821 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2822 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2823 
2824 
2825 subplot(6,1,6);
2826 plot(t,mean([TC7_3;TC7_4;TC8_3;TC8_4;TC9_3;TC9_4;TC10_3;TC10_4;TC12_3;TC12_4]));
2827 ylabel(<span class="string">'Average Air'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2828 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2829 grid on
2830 xaxis([0 xmax]);
2831 
2832 xlabel(xlabelstring);
2833 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2834 
2835 yaxesposition(1.15);
2836 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2837 orient tall
2838 
2839 
2840 
2841 FigNum = FigNum + 1;
2842 h = figure(FigNum);
2843 subfig(1,1,1, h);
2844 <span class="comment">%p = get(h, 'Position');</span>
2845 <span class="comment">%set(h, 'Position', FigurePosition);</span>
2846 clf reset;
2847 
2848 subplot(6,1,1);
2849 [ax, h1, h2] = plotyy(t,TC7_1, t,TC7_2);
2850 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR07 Upstream'</span>);
2851 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR07 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2852 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2853 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2854 grid on
2855 axes(ax(1));
2856 aa = axis;
2857 aa(1) = 0;
2858 aa(2) = xmax;
2859 axis(aa);
2860 axes(ax(2));
2861 aa = axis;
2862 aa(1) = 0;
2863 aa(2) = xmax;
2864 axis(aa);
2865 <span class="keyword">if</span> DayFlag
2866     MaxDay = round(max(t));
2867     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2868     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2869 <span class="keyword">end</span>
2870 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2871 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2872 title([<span class="string">'ID Backing Beam Temperatures [C]: '</span>,titleStr]);
2873 
2874 
2875 subplot(6,1,2);
2876 [ax, h1, h2] = plotyy(t,TC8_1, t,TC8_2);
2877 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR08 Upstream'</span>);
2878 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR08 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2879 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2880 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2881 grid on
2882 axes(ax(1));
2883 aa = axis;
2884 aa(1) = 0;
2885 aa(2) = xmax;
2886 axis(aa);
2887 axes(ax(2));
2888 aa = axis;
2889 aa(1) = 0;
2890 aa(2) = xmax;
2891 axis(aa);
2892 <span class="keyword">if</span> DayFlag
2893     MaxDay = round(max(t));
2894     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2895     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2896 <span class="keyword">end</span>
2897 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2898 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2899 
2900 subplot(6,1,3);
2901 [ax, h1, h2] = plotyy(t,TC9_1, t,TC9_2);
2902 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR09 Upstream'</span>);
2903 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR09 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2904 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2905 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2906 grid on
2907 axes(ax(1));
2908 aa = axis;
2909 aa(1) = 0;
2910 aa(2) = xmax;
2911 axis(aa);
2912 axes(ax(2));
2913 aa = axis;
2914 aa(1) = 0;
2915 aa(2) = xmax;
2916 axis(aa);
2917 <span class="keyword">if</span> DayFlag
2918     MaxDay = round(max(t));
2919     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2920     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2921 <span class="keyword">end</span>
2922 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2923 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2924 
2925 subplot(6,1,4);
2926 [ax, h1, h2] = plotyy(t,TC10_1, t,TC10_2);
2927 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR10 Upstream'</span>);
2928 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR10 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2929 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2930 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2931 grid on
2932 axes(ax(1));
2933 aa = axis;
2934 aa(1) = 0;
2935 aa(2) = xmax;
2936 axis(aa);
2937 axes(ax(2));
2938 aa = axis;
2939 aa(1) = 0;
2940 aa(2) = xmax;
2941 axis(aa);
2942 <span class="keyword">if</span> DayFlag
2943     MaxDay = round(max(t));
2944     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2945     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2946 <span class="keyword">end</span>
2947 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2948 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2949 
2950 subplot(6,1,5);
2951 [ax, h1, h2] = plotyy(t,TC12_1, t,TC12_2);
2952 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR12 Upstream'</span>);
2953 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'SR12 Downstream'</span>, <span class="string">'Color'</span>, RightGraphColor);
2954 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
2955 set(h2, <span class="string">'Color'</span>, RightGraphColor);
2956 grid on
2957 axes(ax(1));
2958 aa = axis;
2959 aa(1) = 0;
2960 aa(2) = xmax;
2961 axis(aa);
2962 axes(ax(2));
2963 aa = axis;
2964 aa(1) = 0;
2965 aa(2) = xmax;
2966 axis(aa);
2967 <span class="keyword">if</span> DayFlag
2968     MaxDay = round(max(t));
2969     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
2970     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
2971 <span class="keyword">end</span>
2972 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2973 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
2974 
2975 subplot(6,1,6);
2976 plot(t,mean([TC7_3;TC7_4;TC8_3;TC8_4;TC9_3;TC9_4;TC10_3;TC10_4;TC12_3;TC12_4]));
2977 grid on;
2978 ylabel(<span class="string">'Average Air'</span>, <span class="string">'Color'</span>, LeftGraphColor);
2979 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
2980 xaxis([0 xmax]);
2981 
2982 xlabel(xlabelstring);
2983 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
2984 yaxesposition(1.15);
2985 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
2986 orient tall
2987 
2988 
2989 
2990 <span class="keyword">if</span> 0
2991     FigNum = FigNum + 1;
2992     h = figure(FigNum);
2993     subfig(1,1,1, h);
2994     <span class="comment">%p = get(h, 'Position');</span>
2995     <span class="comment">%set(h, 'Position', FigurePosition);</span>
2996     clf reset;
2997 
2998     <span class="comment">% add (t, AHUT06) to plot when channel becomes active</span>
2999     srnum=ones(1,size(t,2));
3000     plot3(t,1*srnum,AHUT01, t,3*srnum,AHUT03, t,4*srnum,AHUT04, t,7*srnum,AHUT07, t,8*srnum,AHUT08, t,9*srnum,AHUT09, t,11*srnum,AHUT11);
3001     grid on;
3002     xlabel(xlabelstring);
3003     ylabel(<span class="string">'SR number'</span>);
3004     zlabel(sprintf(<span class="string">'SR AHU Air Temps [C]'</span>));
3005     legend(<span class="string">'SR01 AHU'</span>,<span class="string">'SR03 AHU'</span>,<span class="string">'SR04 AHU'</span>,<span class="string">'SR07 AHU'</span>,<span class="string">'SR08 AHU'</span>,<span class="string">'SR09 AHU'</span>,<span class="string">'SR11 AHU'</span>);
3006     axis tight;
3007     axis([0 xmax 1 12 13 18]);
3008     view = ([83.5,16]);
3009     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3010     setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3011     orient tall;
3012 
3013 
3014     FigNum = FigNum + 1;
3015     h = figure(FigNum);
3016     subfig(1,1,1, h);
3017     <span class="comment">%p = get(h, 'Position');</span>
3018     <span class="comment">%set(h, 'Position', FigurePosition);</span>
3019     clf reset;
3020 
3021     subplot(8,1,1)
3022     plot(t,AHUT01, t,AHUT03, t,AHUT04, t,AHUT07, t,AHUT08, t,AHUT09, t,AHUT11);
3023     xlabel(xlabelstring);
3024     ylabel(sprintf(<span class="string">'SR AHU Air Temps [C]'</span>));
3025     legend(<span class="string">'SR01 AHU'</span>,<span class="string">'SR03 AHU'</span>,<span class="string">'SR04 AHU'</span>,<span class="string">'SR07 AHU'</span>,<span class="string">'SR08 AHU'</span>,<span class="string">'SR09 AHU'</span>,<span class="string">'SR11 AHU'</span>);
3026     axis tight;
3027     axisvals = axis;
3028     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3029     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3030 
3031     subplot(8,1,2)
3032     plot(t,AHUT01);
3033     ylabel(sprintf(<span class="string">'SR01 AHU Air Temp [C]'</span>));
3034     axis tight;
3035     <span class="comment">%axisvals = axis;</span>
3036     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3037     <span class="comment">%yaxis([13 17]);</span>
3038     xaxis([0 xmax]);
3039     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3040 
3041     subplot(8,1,3)
3042     plot(t,AHUT03);
3043     ylabel(sprintf(<span class="string">'SR03 AHU Air Temp [C]'</span>));
3044     axis tight;
3045     <span class="comment">%axisvals = axis;</span>
3046     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3047     <span class="comment">%yaxis([13 17]);</span>
3048     xaxis([0 xmax]);
3049     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3050 
3051     subplot(8,1,4)
3052     plot(t,AHUT04);
3053     ylabel(sprintf(<span class="string">'SR04 AHU Air Temp [C]'</span>));
3054     axis tight;
3055     <span class="comment">%axisvals = axis;</span>
3056     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3057     <span class="comment">%yaxis([13 17]);</span>
3058     xaxis([0 xmax]);
3059     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3060 
3061     subplot(8,1,5)
3062     plot(t,AHUT07);
3063     ylabel(sprintf(<span class="string">'SR07 AHU Air Temp [C]'</span>));
3064     axis tight;
3065     <span class="comment">%axisvals = axis;</span>
3066     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3067     <span class="comment">%yaxis([13 17]);</span>
3068     xaxis([0 xmax]);
3069     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3070 
3071     subplot(8,1,6)
3072     plot(t,AHUT08);
3073     ylabel(sprintf(<span class="string">'SR08 AHU Air Temp [C]'</span>));
3074     axis tight;
3075     <span class="comment">%axisvals = axis;</span>
3076     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3077     <span class="comment">%yaxis([13 17]);</span>
3078     xaxis([0 xmax]);
3079     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3080 
3081     subplot(8,1,7)
3082     plot(t,AHUT09);
3083     ylabel(sprintf(<span class="string">'SR09 AHU Air Temp [C]'</span>));
3084     axis tight;
3085     <span class="comment">%axisvals = axis;</span>
3086     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3087     <span class="comment">%yaxis([13 17]);</span>
3088     xaxis([0 xmax]);
3089     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3090 
3091     subplot(8,1,8)
3092     plot(t,AHUT11);
3093     ylabel(sprintf(<span class="string">'SR11 AHU Air Temp [C]'</span>));
3094     axis tight;
3095     <span class="comment">%axisvals = axis;</span>
3096     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3097     <span class="comment">%yaxis([13 17]);</span>
3098     xaxis([0 xmax]);
3099     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3100     orient tall;
3101 
3102 
3103     FigNum = FigNum + 1;
3104     h = figure(FigNum);
3105     subfig(1,1,1, h);
3106     <span class="comment">%p = get(h, 'Position');</span>
3107     <span class="comment">%set(h, 'Position', FigurePosition);</span>
3108     clf reset;
3109 
3110     subplot(2,1,1)
3111     plot(t,TCSR01, t,TCSR02, t,TCSR03, t,TCSR04, t,TCSR05, t,TCSR06);
3112     legend(<span class="string">'TCSR01'</span>,<span class="string">'TCSR02'</span>,<span class="string">'TCSR03'</span>,<span class="string">'TCSR04'</span>,<span class="string">'TCSR05'</span>,<span class="string">'TCSR06'</span>,3);
3113     ylabel(sprintf(<span class="string">'SR Air Temps [C]'</span>));
3114     axis tight;
3115     axisvals = axis;
3116     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3117     xaxis([0 xmax]);
3118 
3119     subplot(2,1,2)
3120     plot(t,TCSR07, t,TCSR08, t,TCSR09, t,TCSR11, t,TCSR12)
3121     legend(<span class="string">'TCSR07'</span>,<span class="string">'TCSR08'</span>,<span class="string">'TCSR09'</span>,<span class="string">'TCSR11'</span>,<span class="string">'TCSR12'</span>,3);
3122     ylabel(sprintf(<span class="string">'SR Air Temps [C]'</span>));
3123     axis tight;
3124     axisvals = axis;
3125     yaxis([axisvals(3)-0.1 axisvals(4)+0.1]);
3126     xaxis([0 xmax]);
3127     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3128 
3129     yaxesposition(1.15);
3130     setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3131     orient tall
3132 <span class="keyword">end</span>
3133 
3134 
3135 
3136 <span class="comment">%%%%%%%%%%%%%%%%%%</span>
3137 <span class="comment">% RF Cavity Plot %</span>
3138 <span class="comment">%%%%%%%%%%%%%%%%%%</span>
3139 FigNum = FigNum + 1;
3140 h = figure(FigNum);
3141 subfig(1,1,1, h);
3142 <span class="comment">%p = get(h, 'Position');</span>
3143 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3144 clf reset;
3145 
3146 subplot(2,1,1);
3147 plot(t, C1TEMP,<span class="string">'b'</span>, t, C2TEMP,<span class="string">'-r'</span>);
3148 grid on;
3149 ylabel(<span class="string">'Temperature [C]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3150 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3151 legend(<span class="string">'RF Cavity #1 '</span>, <span class="string">'RF Cavity #2'</span>, 0);
3152 title([<span class="string">'Storage Ring RF Parameters: '</span>,titleStr]);
3153 axis tight;
3154 xaxis([0 xmax]);
3155 yaxis([35 52]);
3156 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag); set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3157 
3158 subplot(2,1,2);
3159 [ax, h1, h2] = plotyy(t, HPcounter, t, hqmofm);
3160 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'RF Frequency (HP Counter) [MHz]'</span>);
3161 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'\Delta f_{RF} (Synthesizer Input) [Hz]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3162 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3163 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3164 grid on
3165 <span class="comment">%axis tight</span>
3166 axes(ax(1));
3167 aa = axis;
3168 aa(1) = 0;
3169 aa(2) = xmax;
3170 axis(aa);
3171 axes(ax(2));
3172 aa = axis;
3173 aa(1) = 0;
3174 aa(2) = xmax;
3175 axis(aa);
3176 <span class="keyword">if</span> DayFlag
3177     MaxDay = round(max(t));
3178     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3179     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3180 <span class="keyword">end</span>
3181 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3182 <span class="comment">%set(ax(2),'XTickLabel','');</span>
3183 xlabel(xlabelstring);
3184 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3185 
3186 <span class="comment">% subplot(3,1,3);</span>
3187 <span class="comment">% plot(t, hqmofm,'-m'); grid on;</span>
3188 <span class="comment">% xlabel(xlabelstring);</span>
3189 <span class="comment">% ylabel('\Delta f_{RF} [Hz]');</span>
3190 <span class="comment">% legend('FM input user synthesizer');</span>
3191 <span class="comment">% axis tight;</span>
3192 <span class="comment">% xaxis([0 xmax]);</span>
3193 
3194 yaxesposition(1.15);
3195 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3196 orient tall
3197 
3198 
3199 <span class="comment">%%%%%%%%%%%%%%%</span>
3200 <span class="comment">% BR RF Plots %</span>
3201 <span class="comment">%%%%%%%%%%%%%%%</span>
3202 FigNum = FigNum + 1;
3203 h = figure(FigNum);
3204 subfig(1,1,1, h);
3205 <span class="comment">%p = get(h, 'Position');</span>
3206 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3207 clf reset;
3208 
3209 subplot(5,1,1);
3210 <span class="comment">%[ax, h1, h2] = plotyy(t,[Power_RF_fwd; Power_RF_ref], t,Power_drive);</span>
3211 <span class="comment">%set(get(ax(1),'Ylabel'), 'String', sprintf('Fwd Pwr and Ref [%%]'), 'Color', LeftGraphColor);</span>
3212 [ax, h1, h2] = plotyy(t,Power_RF_fwd, t,Power_drive);
3213 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, sprintf(<span class="string">'Fwd Pwr [%%]'</span>), <span class="string">'Color'</span>, LeftGraphColor);
3214 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Pwr Drive [W]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3215 set(ax(1), <span class="string">'YColor'</span>, LeftGraphColor);
3216 set(h1, <span class="string">'Color'</span>, LeftGraphColor);
3217 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3218 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3219 grid on
3220 axes(ax(1));
3221 aa = axis;
3222 aa(1) = 0;
3223 aa(2) = xmax;
3224 axis(aa);
3225 axes(ax(2));
3226 aa = axis;
3227 aa(1) = 0;
3228 aa(2) = xmax;
3229 axis(aa);
3230 <span class="keyword">if</span> DayFlag
3231     MaxDay = round(max(t));
3232     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3233     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3234 <span class="keyword">end</span>
3235 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3236 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3237 title([<span class="string">'Booster RF Plots: '</span>, titleStr]);
3238 
3239 subplot(5,1,2);
3240 <span class="comment">%[ax, h1, h2] = plotyy(t,[HV_setpoint; Beam_volts], t,[Beam_current; Body_Current]);</span>
3241 [ax, h1, h2] = plotyy(t,[HV_setpoint; Beam_volts], t,Beam_current);
3242 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Beam HV SP and AM [kV]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3243 <span class="comment">%set(get(ax(2),'Ylabel'), 'String', 'Beam and Body I [A]', 'Color', RightGraphColor);</span>
3244 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Beam I [A]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3245 set(ax(1), <span class="string">'YColor'</span>, LeftGraphColor);
3246 set(h1, <span class="string">'Color'</span>, LeftGraphColor);
3247 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3248 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3249 grid on
3250 axes(ax(1));
3251 aa = axis;
3252 aa(1) = 0;
3253 aa(2) = xmax;
3254 axis(aa);
3255 axes(ax(2));
3256 aa = axis;
3257 aa(1) = 0;
3258 aa(2) = xmax;
3259 axis(aa);
3260 <span class="keyword">if</span> DayFlag
3261     MaxDay = round(max(t));
3262     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3263     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3264 <span class="keyword">end</span>
3265 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3266 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3267 
3268 subplot(5,1,3);
3269 [ax, h1, h2] = plotyy(t,Bias_volts, t,Bias_current);
3270 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Bias V [V]'</span>);
3271 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Bias I [mA]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3272 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3273 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3274 grid on
3275 axes(ax(1));
3276 aa = axis;
3277 aa(1) = 0;
3278 aa(2) = xmax;
3279 aa(3) = aa(3)+0.5;
3280 aa(4) = aa(4)+0.5;
3281 axis(aa);
3282 axes(ax(2));
3283 axis tight
3284 aa = axis;
3285 aa(1) = 0;
3286 aa(2) = xmax;
3287 <span class="comment">%aa(4) = -aa(3);</span>
3288 axis(aa);
3289 <span class="keyword">if</span> DayFlag
3290     MaxDay = round(max(t));
3291     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3292     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3293 <span class="keyword">end</span>
3294 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3295 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3296 
3297 subplot(5,1,4);
3298 [ax, h1, h2] = plotyy(t,Heater_Voltage, t,Heater_current);
3299 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Htr V [V]'</span>);
3300 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Htr I [A]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3301 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3302 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3303 grid on
3304 axes(ax(1));
3305 aa = axis;
3306 aa(1) = 0;
3307 aa(2) = xmax;
3308 axis(aa);
3309 axes(ax(2));
3310 aa = axis;
3311 aa(1) = 0;
3312 aa(2) = xmax;
3313 axis(aa);
3314 <span class="keyword">if</span> DayFlag
3315     MaxDay = round(max(t));
3316     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3317     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3318 <span class="keyword">end</span>
3319 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3320 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3321 
3322 subplot(5,1,5);
3323 [ax, h1, h2] = plotyy(t,Focus_voltage, t,Focus_current);
3324 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Focus V [V]'</span>);
3325 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Focus I [A]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3326 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3327 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3328 grid on
3329 axes(ax(1));
3330 aa = axis;
3331 aa(1) = 0;
3332 aa(2) = xmax;
3333 aa(3) = 4.0;
3334 aa(4) = 4.5;
3335 axis(aa);
3336 axes(ax(2));
3337 aa = axis;
3338 aa(1) = 0;
3339 aa(2) = xmax;
3340 axis(aa);
3341 <span class="keyword">if</span> DayFlag
3342     MaxDay = round(max(t));
3343     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3344     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3345 <span class="keyword">end</span>
3346 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3347 <span class="comment">% set(ax(2),'XTickLabel','');</span>
3348 
3349 xlabel(xlabelstring);
3350 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3351 
3352 yaxesposition(1.15);
3353 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3354 orient tall
3355 
3356 
3357 FigNum = FigNum + 1;
3358 h = figure(FigNum);
3359 subfig(1,1,1, h);
3360 <span class="comment">%p = get(h, 'Position');</span>
3361 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3362 clf reset;
3363 
3364 subplot(4,1,1);
3365 [ax, h1, h2] = plotyy(t,VacIon_voltage, t,VacIon_current);
3366 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'IonPump V [kV]'</span>);
3367 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'IonPump I [ \muA]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3368 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3369 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3370 grid on
3371 axes(ax(1));
3372 aa = axis;
3373 aa(1) = 0;
3374 aa(2) = xmax;
3375 axis(aa);
3376 axes(ax(2));
3377 aa = axis;
3378 aa(1) = 0;
3379 aa(2) = xmax;
3380 axis(aa);
3381 <span class="keyword">if</span> DayFlag
3382     MaxDay = round(max(t));
3383     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3384     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3385 <span class="keyword">end</span>
3386 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3387 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3388 title([<span class="string">'Booster RF Plots: '</span>, titleStr]);
3389 
3390 subplot(4,1,2);
3391 [ax, h1, h2] = plotyy(t,Thy_Grid1_volts, t,Thy_Grid2_volts);
3392 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Thy Grid1 V [V]'</span>);
3393 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Thy Grid2 V [V]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3394 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3395 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3396 grid on
3397 axes(ax(1));
3398 aa = axis;
3399 aa(1) = 0;
3400 aa(2) = xmax;
3401 aa(3) = aa(3)+0.5;
3402 aa(4) = aa(4)+0.5;
3403 axis(aa);
3404 axes(ax(2));
3405 aa = axis;
3406 aa(1) = 0;
3407 aa(2) = xmax;
3408 axis(aa);
3409 <span class="keyword">if</span> DayFlag
3410     MaxDay = round(max(t));
3411     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3412     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3413 <span class="keyword">end</span>
3414 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3415 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3416 
3417 subplot(4,1,3);
3418 [ax, h1, h2] = plotyy(t,Thy_heater_volts, t,Thy_heater_current);
3419 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Thy Htr V [V]'</span>);
3420 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Thy Htr I [A]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3421 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3422 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3423 grid on
3424 axes(ax(1));
3425 aa = axis;
3426 aa(1) = 0;
3427 aa(2) = xmax;
3428 axis(aa);
3429 axes(ax(2));
3430 aa = axis;
3431 aa(1) = 0;
3432 aa(2) = xmax;
3433 axis(aa);
3434 <span class="keyword">if</span> DayFlag
3435     MaxDay = round(max(t));
3436     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3437     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3438 <span class="keyword">end</span>
3439 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3440 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3441 
3442 subplot(4,1,4);
3443 plot(t,Temp_HV_enclose,<span class="string">'b'</span>, t,Temp_IOT_enclose,<span class="string">'r'</span>, t,Temp_IOT_cooling, <span class="string">'g'</span>, t,Temp_ceramic_output,<span class="string">'m'</span>);
3444 legend(<span class="string">'HV Enclosure Temp'</span>,<span class="string">'IOT Enclosure Temp'</span>,<span class="string">'IOT Cooling Temp'</span>,<span class="string">'Ceramic Output Temp'</span>,<span class="string">'Location'</span>,<span class="string">'NorthWest'</span>);
3445 legend(gca,<span class="string">'boxoff'</span>)
3446 set(get(gca,<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'[deg C]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3447 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3448 grid on
3449 xaxis([0 xmax]);
3450 <span class="keyword">if</span> DayFlag
3451   MaxDay = round(max(t));
3452  set(gca,<span class="string">'XTick'</span>,[0:MaxDay]');
3453 <span class="keyword">end</span>
3454 <span class="comment">% set(ax,'XTickLabel','');</span>
3455 
3456 xlabel(xlabelstring);
3457 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3458 
3459 yaxesposition(1.15);
3460 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3461 orient tall
3462 
3463 FigNum = FigNum + 1;
3464 h = figure(FigNum);
3465 subfig(1,1,1, h);
3466 <span class="comment">%p = get(h, 'Position');</span>
3467 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3468 clf reset;
3469 
3470 subplot(4,1,1);
3471 [ax, h1, h2] = plotyy(t,BR_CLDFWD, t,BR_RFCONT);
3472 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Circulator Load Fwd Pwr [kW]'</span>);
3473 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Cavity Cell Pwr [kW]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3474 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3475 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3476 grid on
3477 axes(ax(1));
3478 aa = axis;
3479 aa(1) = 0;
3480 aa(2) = xmax;
3481 axis(aa);
3482 axes(ax(2));
3483 aa = axis;
3484 aa(1) = 0;
3485 aa(2) = xmax;
3486 axis(aa);
3487 <span class="keyword">if</span> DayFlag
3488     MaxDay = round(max(t));
3489     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3490     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3491 <span class="keyword">end</span>
3492 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3493 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3494 title([<span class="string">'Booster RF Plots: '</span>, titleStr]);
3495 
3496 subplot(4,1,2);
3497 [ax, h1, h2] = plotyy(t,BR_WGREV, t,BR_WGFWD);
3498 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Waveguide Rev Pwr [kW]'</span>);
3499 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Waveguide Fwd Pwr [kW]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3500 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3501 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3502 grid on
3503 axes(ax(1));
3504 aa = axis;
3505 aa(1) = 0;
3506 aa(2) = xmax;
3507 axis(aa);
3508 axes(ax(2));
3509 aa = axis;
3510 aa(1) = 0;
3511 aa(2) = xmax;
3512 axis(aa);
3513 <span class="keyword">if</span> DayFlag
3514     MaxDay = round(max(t));
3515     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3516     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3517 <span class="keyword">end</span>
3518 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3519 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3520 
3521 subplot(4,1,3);
3522 [ax, h1, h2] = plotyy(t,BR_PHSCON_AM, t,BR_PHSCON_AC);
3523 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'RF Phase AM [degrees]'</span>);
3524 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'RF Phase AC [degrees]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3525 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3526 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3527 grid on
3528 axes(ax(1));
3529 aa = axis;
3530 aa(1) = 0;
3531 aa(2) = xmax;
3532 offset1 = aa(3)+0.5;
3533 offset2 = aa(4)+0.5;
3534 axis(aa);
3535 axes(ax(2));
3536 aa = axis;
3537 aa(1) = 0;
3538 aa(2) = xmax;
3539 aa(3) = offset1;
3540 aa(4) = offset2;
3541 axis(aa);
3542 <span class="keyword">if</span> DayFlag
3543     MaxDay = round(max(t));
3544     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3545     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3546 <span class="keyword">end</span>
3547 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3548 set(ax(2),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3549 
3550 subplot(4,1,4);
3551 [ax, h1, h2] = plotyy(t,BR_TUNPOS, t,BR_TUNERR);
3552 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Tuner Position AM [cm]'</span>);
3553 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Tuner Loop Error [degrees]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3554 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3555 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3556 grid on
3557 axes(ax(1));
3558 aa = axis;
3559 aa(1) = 0;
3560 aa(2) = xmax;
3561 axis(aa);
3562 axes(ax(2));
3563 aa = axis;
3564 aa(1) = 0;
3565 aa(2) = xmax;
3566 axis(aa);
3567 <span class="keyword">if</span> DayFlag
3568     MaxDay = round(max(t));
3569     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3570     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3571 <span class="keyword">end</span>
3572 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3573 <span class="comment">% set(ax(2),'XTickLabel','');</span>
3574 
3575 xlabel(xlabelstring);
3576 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3577 
3578 yaxesposition(1.15);
3579 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3580 orient tall
3581 
3582 FigNum = FigNum + 1;
3583 h = figure(FigNum);
3584 subfig(1,1,1, h);
3585 <span class="comment">%p = get(h, 'Position');</span>
3586 <span class="comment">%set(h, 'Position', FigurePosition);</span>
3587 clf reset;
3588 
3589 subplot(4,1,1);
3590 plot(t,BR_CAVTMP);
3591 set(get(gca,<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Cavity Temp [deg C]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3592 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3593 grid on
3594 xaxis([0 xmax]);
3595 <span class="keyword">if</span> DayFlag
3596   MaxDay = round(max(t));
3597   set(ax,<span class="string">'XTick'</span>,[0:MaxDay]');
3598 <span class="keyword">end</span>
3599 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3600 title([<span class="string">'Booster RF Plots: '</span>, titleStr]);
3601 
3602 subplot(4,1,2);
3603 plot(t,BR_LCWTMP,<span class="string">'b'</span>, t,BR_SLDTMP,<span class="string">'r'</span>, t,BR_CIRTMP,<span class="string">'g'</span>, t,BR_CLDTMP,<span class="string">'m'</span>);
3604 legend(<span class="string">'LCW Inlet Temp'</span>,<span class="string">'Switch Load Temp'</span>,<span class="string">'Circulator Temp'</span>,<span class="string">'Circulator Load Temp'</span>,<span class="string">'Location'</span>,<span class="string">'NorthWest'</span>);
3605 legend(gca,<span class="string">'boxoff'</span>)
3606 set(get(gca,<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'[deg C]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3607 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3608 grid on
3609 xaxis([0 xmax]);
3610 <span class="keyword">if</span> DayFlag
3611   MaxDay = round(max(t));
3612   set(gca,<span class="string">'XTick'</span>,[0:MaxDay]');
3613 <span class="keyword">end</span>
3614 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3615 
3616 subplot(4,1,3);
3617 plot(t,BR_CLDFLW,<span class="string">'b'</span>, t,BR_CIRFLW,<span class="string">'r'</span>, t,BR_SLDFLW,<span class="string">'g'</span>);
3618 legend(<span class="string">'Circulator Load Flow'</span>,<span class="string">'Circulator Flow'</span>,<span class="string">'Switch Load Flow'</span>,<span class="string">'Location'</span>,<span class="string">'NorthWest'</span>);
3619 legend(gca,<span class="string">'boxoff'</span>)
3620 set(get(gca,<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'[GPM]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3621 set(gca,<span class="string">'YColor'</span>, LeftGraphColor);
3622 grid on
3623 xaxis([0 xmax]);
3624 yaxis([0 25]);
3625 <span class="keyword">if</span> DayFlag
3626   MaxDay = round(max(t));
3627   set(gca,<span class="string">'XTick'</span>,[0:MaxDay]');
3628 <span class="keyword">end</span>
3629 set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3630 
3631 subplot(4,1,4);
3632 [ax, h1, h2] = plotyy(t,[BR_CAVFLW; BR_WINFLW], t,BR_TUNFLW);
3633 set(get(ax(1),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Cavity &amp; RF Window Flow [GPM]'</span>, <span class="string">'Color'</span>, LeftGraphColor);
3634 set(get(ax(2),<span class="string">'Ylabel'</span>), <span class="string">'String'</span>, <span class="string">'Tuner Flow [GPM]'</span>, <span class="string">'Color'</span>, RightGraphColor);
3635 set(ax(1), <span class="string">'YColor'</span>, LeftGraphColor);
3636 set(h1, <span class="string">'Color'</span>, LeftGraphColor);
3637 set(ax(2), <span class="string">'YColor'</span>, RightGraphColor);
3638 set(h2, <span class="string">'Color'</span>, RightGraphColor);
3639 grid on
3640 axes(ax(1));
3641 aa = axis;
3642 aa(1) = 0;
3643 aa(2) = xmax;
3644 axis(aa);
3645 axes(ax(2));
3646 aa = axis;
3647 aa(1) = 0;
3648 aa(2) = xmax;
3649 aa(3) = 1.5;
3650 aa(4) = 2.5;
3651 axis(aa);
3652 set(ax(2),<span class="string">'YTick'</span>,[1.5:0.5:2.5]');
3653 <span class="keyword">if</span> DayFlag
3654     MaxDay = round(max(t));
3655     set(ax(1),<span class="string">'XTick'</span>,[0:MaxDay]');
3656     set(ax(2),<span class="string">'XTick'</span>,[0:MaxDay]');
3657 <span class="keyword">end</span>
3658 set(ax(1),<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3659 <span class="comment">% set(ax(2),'XTickLabel','');</span>
3660 
3661 xlabel(xlabelstring);
3662 <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3663 
3664 yaxesposition(1.15);
3665 setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3666 orient tall
3667 
3668 
3669 <span class="keyword">if</span> 0
3670     <span class="comment">% Beamline shutters plot</span>
3671     FigNum = FigNum + 1;
3672     h = figure(FigNum);
3673     subfig(1,1,1, h);
3674     <span class="comment">%%p = get(h, 'Position');</span>
3675     <span class="comment">%%set(h, 'Position', FigurePosition);</span>
3676     clf reset;
3677 
3678     subplot(2,1,1);
3679 
3680     plot(t, dcct);
3681     <span class="comment">%grid on;</span>
3682     ylabel(<span class="string">'DCCT'</span>);
3683     title([<span class="string">'Beamline Shutters Open: '</span>,titleStr]);
3684     axis tight;
3685     axis([0 xmax 0 400]);
3686     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3687     set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3688 
3689     subplot(2,1,2);
3690     stairs(t, BL_SHUTTERS,1);
3691     <span class="comment">%grid on;</span>
3692     ylabel(<span class="string">'Shutters Open'</span>);
3693     axis([0 xmax 0 56]); <span class="comment">%55 total shutters</span>
3694     <a href="#_sub1" class="code" title="subfunction ChangeAxesLabel(t, Days, DayFlag)">ChangeAxesLabel</a>(t, Days, DayFlag);
3695     set(gca,<span class="string">'XTickLabel'</span>,<span class="string">''</span>);
3696     xlabel(xlabelstring);
3697     yaxesposition(1.20);
3698     setappdata(FigNum, <span class="string">'ArchiveDate'</span>, DirectoryDate);
3699     orient tall
3700 <span class="keyword">end</span>
3701 
3702 
3703 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
3704 <a name="_sub1" href="#_subfunctions" class="code">function ChangeAxesLabel(t, Days, DayFlag)</a>
3705 xaxis([0 max(t)]);
3706 
3707 <span class="keyword">if</span> DayFlag
3708     <span class="keyword">if</span> size(Days,2) &gt; 1
3709         Days = Days'; <span class="comment">% Make a column vector</span>
3710     <span class="keyword">end</span>
3711 
3712     MaxDay = round(max(t));
3713     set(gca,<span class="string">'XTick'</span>,[0:MaxDay]');
3714     <span class="comment">%xaxis([0 MaxDay]);</span>
3715 
3716     <span class="keyword">if</span> length(Days) &lt; MaxDay-1
3717         <span class="comment">% Days were skipped</span>
3718         set(gca,<span class="string">'XTickLabel'</span>,strvcat(num2str([0:MaxDay-1]'+Days(1)),<span class="string">' '</span>));
3719     <span class="keyword">else</span>
3720         <span class="comment">% All days plotted</span>
3721         set(gca,<span class="string">'XTickLabel'</span>,strvcat(num2str(Days),<span class="string">' '</span>));
3722     <span class="keyword">end</span>
3723 
3724     XTickLabelString = get(gca,<span class="string">'XTickLabel'</span>);
3725     <span class="keyword">if</span> MaxDay &lt; 20
3726         <span class="comment">% ok</span>
3727     <span class="keyword">elseif</span> MaxDay &lt; 40
3728         set(gca,<span class="string">'XTick'</span>,[0:2:MaxDay]');
3729         set(gca,<span class="string">'XTickLabel'</span>,XTickLabelString(1:2:MaxDay-1,:));
3730     <span class="keyword">elseif</span> MaxDay &lt; 63
3731         set(gca,<span class="string">'XTick'</span>,[0:3:MaxDay]');
3732         set(gca,<span class="string">'XTickLabel'</span>,XTickLabelString(1:3:MaxDay-1,:));
3733     <span class="keyword">elseif</span> MaxDay &lt; 80
3734         set(gca,<span class="string">'XTick'</span>,[0:4:MaxDay]');
3735         set(gca,<span class="string">'XTickLabel'</span>,XTickLabelString(1:4:MaxDay-1,:));
3736     <span class="keyword">end</span>
3737 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Fri 01-Aug-2008 11:41:01 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>